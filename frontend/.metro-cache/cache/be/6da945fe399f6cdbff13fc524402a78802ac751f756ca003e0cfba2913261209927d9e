{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/callSuper","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"378KbBHdmndC3iMXZ2Ix8oB3LeE=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/inherits","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"y0uNg4LxF1CLscQChxzgo5dfjvA=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/wrapNativeSuper","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"imgnTtXT+OlBfDxpawXO7znTT9E=","exportNames":["*"],"imports":1}},{"name":"./helpers","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":18,"index":315},"end":{"line":6,"column":38,"index":335}}],"key":"f1qS3jT0PALHpwfgOy1Ia0GaJzk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _asyncToGenerator = require(_dependencyMap[0]).default;\n  var _createClass = require(_dependencyMap[1]).default;\n  var _classCallCheck = require(_dependencyMap[2]).default;\n  var _callSuper = require(_dependencyMap[3]).default;\n  var _inherits = require(_dependencyMap[4]).default;\n  var _wrapNativeSuper = require(_dependencyMap[5]).default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.ProcessLockAcquireTimeoutError = exports.NavigatorLockAcquireTimeoutError = exports.LockAcquireTimeoutError = exports.internals = undefined;\n  exports.navigatorLock = navigatorLock;\n  exports.processLock = processLock;\n  var helpers_1 = require(_dependencyMap[6]);\n  /**\n   * @experimental\n   */\n  exports.internals = {\n    /**\n     * @experimental\n     */\n    debug: !!(globalThis && (0, helpers_1.supportsLocalStorage)() && globalThis.localStorage && globalThis.localStorage.getItem('supabase.gotrue-js.locks.debug') === 'true')\n  };\n  /**\n   * An error thrown when a lock cannot be acquired after some amount of time.\n   *\n   * Use the {@link #isAcquireTimeout} property instead of checking with `instanceof`.\n   *\n   * @example\n   * ```ts\n   * import { LockAcquireTimeoutError } from '@supabase/auth-js'\n   *\n   * class CustomLockError extends LockAcquireTimeoutError {\n   *   constructor() {\n   *     super('Lock timed out')\n   *   }\n   * }\n   * ```\n   */\n  var LockAcquireTimeoutError = /*#__PURE__*/function (_Error) {\n    function LockAcquireTimeoutError(message) {\n      var _this;\n      _classCallCheck(this, LockAcquireTimeoutError);\n      _this = _callSuper(this, LockAcquireTimeoutError, [message]);\n      _this.isAcquireTimeout = true;\n      return _this;\n    }\n    _inherits(LockAcquireTimeoutError, _Error);\n    return _createClass(LockAcquireTimeoutError);\n  }(/*#__PURE__*/_wrapNativeSuper(Error));\n  exports.LockAcquireTimeoutError = LockAcquireTimeoutError;\n  /**\n   * Error thrown when the browser Navigator Lock API fails to acquire a lock.\n   *\n   * @example\n   * ```ts\n   * import { NavigatorLockAcquireTimeoutError } from '@supabase/auth-js'\n   *\n   * throw new NavigatorLockAcquireTimeoutError('Lock timed out')\n   * ```\n   */\n  var NavigatorLockAcquireTimeoutError = /*#__PURE__*/function (_LockAcquireTimeoutEr) {\n    function NavigatorLockAcquireTimeoutError() {\n      _classCallCheck(this, NavigatorLockAcquireTimeoutError);\n      return _callSuper(this, NavigatorLockAcquireTimeoutError, arguments);\n    }\n    _inherits(NavigatorLockAcquireTimeoutError, _LockAcquireTimeoutEr);\n    return _createClass(NavigatorLockAcquireTimeoutError);\n  }(LockAcquireTimeoutError);\n  exports.NavigatorLockAcquireTimeoutError = NavigatorLockAcquireTimeoutError;\n  /**\n   * Error thrown when the process-level lock helper cannot acquire a lock.\n   *\n   * @example\n   * ```ts\n   * import { ProcessLockAcquireTimeoutError } from '@supabase/auth-js'\n   *\n   * throw new ProcessLockAcquireTimeoutError('Lock timed out')\n   * ```\n   */\n  var ProcessLockAcquireTimeoutError = /*#__PURE__*/function (_LockAcquireTimeoutEr2) {\n    function ProcessLockAcquireTimeoutError() {\n      _classCallCheck(this, ProcessLockAcquireTimeoutError);\n      return _callSuper(this, ProcessLockAcquireTimeoutError, arguments);\n    }\n    _inherits(ProcessLockAcquireTimeoutError, _LockAcquireTimeoutEr2);\n    return _createClass(ProcessLockAcquireTimeoutError);\n  }(LockAcquireTimeoutError);\n  exports.ProcessLockAcquireTimeoutError = ProcessLockAcquireTimeoutError;\n  /**\n   * Implements a global exclusive lock using the Navigator LockManager API. It\n   * is available on all browsers released after 2022-03-15 with Safari being the\n   * last one to release support. If the API is not available, this function will\n   * throw. Make sure you check availablility before configuring {@link\n   * GoTrueClient}.\n   *\n   * You can turn on debugging by setting the `supabase.gotrue-js.locks.debug`\n   * local storage item to `true`.\n   *\n   * Internals:\n   *\n   * Since the LockManager API does not preserve stack traces for the async\n   * function passed in the `request` method, a trick is used where acquiring the\n   * lock releases a previously started promise to run the operation in the `fn`\n   * function. The lock waits for that promise to finish (with or without error),\n   * while the function will finally wait for the result anyway.\n   *\n   * @param name Name of the lock to be acquired.\n   * @param acquireTimeout If negative, no timeout. If 0 an error is thrown if\n   *                       the lock can't be acquired without waiting. If positive, the lock acquire\n   *                       will time out after so many milliseconds. An error is\n   *                       a timeout if it has `isAcquireTimeout` set to true.\n   * @param fn The operation to run once the lock is acquired.\n   * @example\n   * ```ts\n   * await navigatorLock('sync-user', 1000, async () => {\n   *   await refreshSession()\n   * })\n   * ```\n   */\n  function navigatorLock(_x, _x2, _x3) {\n    return _navigatorLock.apply(this, arguments);\n  }\n  function _navigatorLock() {\n    _navigatorLock = _asyncToGenerator(function* (name, acquireTimeout, fn) {\n      if (exports.internals.debug) {\n        console.log('@supabase/gotrue-js: navigatorLock: acquire lock', name, acquireTimeout);\n      }\n      var abortController = new globalThis.AbortController();\n      if (acquireTimeout > 0) {\n        setTimeout(() => {\n          abortController.abort();\n          if (exports.internals.debug) {\n            console.log('@supabase/gotrue-js: navigatorLock acquire timed out', name);\n          }\n        }, acquireTimeout);\n      }\n      // MDN article: https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request\n      // Wrapping navigator.locks.request() with a plain Promise is done as some\n      // libraries like zone.js patch the Promise object to track the execution\n      // context. However, it appears that most browsers use an internal promise\n      // implementation when using the navigator.locks.request() API causing them\n      // to lose context and emit confusing log messages or break certain features.\n      // This wrapping is believed to help zone.js track the execution context\n      // better.\n      return yield Promise.resolve().then(() => globalThis.navigator.locks.request(name, acquireTimeout === 0 ? {\n        mode: 'exclusive',\n        ifAvailable: true\n      } : {\n        mode: 'exclusive',\n        signal: abortController.signal\n      }, /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (lock) {\n          if (lock) {\n            if (exports.internals.debug) {\n              console.log('@supabase/gotrue-js: navigatorLock: acquired', name, lock.name);\n            }\n            try {\n              return yield fn();\n            } finally {\n              if (exports.internals.debug) {\n                console.log('@supabase/gotrue-js: navigatorLock: released', name, lock.name);\n              }\n            }\n          } else {\n            if (acquireTimeout === 0) {\n              if (exports.internals.debug) {\n                console.log('@supabase/gotrue-js: navigatorLock: not immediately available', name);\n              }\n              throw new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock \"${name}\" immediately failed`);\n            } else {\n              if (exports.internals.debug) {\n                try {\n                  var result = yield globalThis.navigator.locks.query();\n                  console.log('@supabase/gotrue-js: Navigator LockManager state', JSON.stringify(result, null, '  '));\n                } catch (e) {\n                  console.warn('@supabase/gotrue-js: Error when querying Navigator LockManager state', e);\n                }\n              }\n              // Browser is not following the Navigator LockManager spec, it\n              // returned a null lock when we didn't use ifAvailable. So we can\n              // pretend the lock is acquired in the name of backward compatibility\n              // and user experience and just run the function.\n              console.warn('@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request');\n              return yield fn();\n            }\n          }\n        });\n        return function (_x7) {\n          return _ref.apply(this, arguments);\n        };\n      }()));\n    });\n    return _navigatorLock.apply(this, arguments);\n  }\n  var PROCESS_LOCKS = {};\n  /**\n   * Implements a global exclusive lock that works only in the current process.\n   * Useful for environments like React Native or other non-browser\n   * single-process (i.e. no concept of \"tabs\") environments.\n   *\n   * Use {@link #navigatorLock} in browser environments.\n   *\n   * @param name Name of the lock to be acquired.\n   * @param acquireTimeout If negative, no timeout. If 0 an error is thrown if\n   *                       the lock can't be acquired without waiting. If positive, the lock acquire\n   *                       will time out after so many milliseconds. An error is\n   *                       a timeout if it has `isAcquireTimeout` set to true.\n   * @param fn The operation to run once the lock is acquired.\n   * @example\n   * ```ts\n   * await processLock('migrate', 5000, async () => {\n   *   await runMigration()\n   * })\n   * ```\n   */\n  function processLock(_x4, _x5, _x6) {\n    return _processLock.apply(this, arguments);\n  }\n  function _processLock() {\n    _processLock = _asyncToGenerator(function* (name, acquireTimeout, fn) {\n      var _a;\n      var previousOperation = (_a = PROCESS_LOCKS[name]) !== null && _a !== undefined ? _a : Promise.resolve();\n      var currentOperation = Promise.race([previousOperation.catch(() => {\n        // ignore error of previous operation that we're waiting to finish\n        return null;\n      }), acquireTimeout >= 0 ? new Promise((_, reject) => {\n        setTimeout(() => {\n          reject(new ProcessLockAcquireTimeoutError(`Acquiring process lock with name \"${name}\" timed out`));\n        }, acquireTimeout);\n      }) : null].filter(x => x)).catch(e => {\n        if (e && e.isAcquireTimeout) {\n          throw e;\n        }\n        return null;\n      }).then(/*#__PURE__*/_asyncToGenerator(function* () {\n        // previous operations finished and we didn't get a race on the acquire\n        // timeout, so the current operation can finally start\n        return yield fn();\n      }));\n      PROCESS_LOCKS[name] = currentOperation.catch(/*#__PURE__*/function () {\n        var _ref3 = _asyncToGenerator(function* (e) {\n          if (e && e.isAcquireTimeout) {\n            // if the current operation timed out, it doesn't mean that the previous\n            // operation finished, so we need contnue waiting for it to finish\n            yield previousOperation;\n            return null;\n          }\n          throw e;\n        });\n        return function (_x8) {\n          return _ref3.apply(this, arguments);\n        };\n      }());\n      // finally wait for the current operation to finish successfully, with an\n      // error or with an acquire timeout error\n      return yield currentOperation;\n    });\n    return _processLock.apply(this, arguments);\n  }\n});","lineCount":263,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_asyncToGenerator"],[4,23,1,13],[4,26,1,13,"require"],[4,33,1,13],[4,34,1,13,"_dependencyMap"],[4,48,1,13],[4,53,1,13,"default"],[4,60,1,13],[5,2,1,13],[5,6,1,13,"_createClass"],[5,18,1,13],[5,21,1,13,"require"],[5,28,1,13],[5,29,1,13,"_dependencyMap"],[5,43,1,13],[5,48,1,13,"default"],[5,55,1,13],[6,2,1,13],[6,6,1,13,"_classCallCheck"],[6,21,1,13],[6,24,1,13,"require"],[6,31,1,13],[6,32,1,13,"_dependencyMap"],[6,46,1,13],[6,51,1,13,"default"],[6,58,1,13],[7,2,1,13],[7,6,1,13,"_callSuper"],[7,16,1,13],[7,19,1,13,"require"],[7,26,1,13],[7,27,1,13,"_dependencyMap"],[7,41,1,13],[7,46,1,13,"default"],[7,53,1,13],[8,2,1,13],[8,6,1,13,"_inherits"],[8,15,1,13],[8,18,1,13,"require"],[8,25,1,13],[8,26,1,13,"_dependencyMap"],[8,40,1,13],[8,45,1,13,"default"],[8,52,1,13],[9,2,1,13],[9,6,1,13,"_wrapNativeSuper"],[9,22,1,13],[9,25,1,13,"require"],[9,32,1,13],[9,33,1,13,"_dependencyMap"],[9,47,1,13],[9,52,1,13,"default"],[9,59,1,13],[10,2,2,0,"Object"],[10,8,2,6],[10,9,2,7,"defineProperty"],[10,23,2,21],[10,24,2,22,"exports"],[10,31,2,29],[10,33,2,31],[10,45,2,43],[10,47,2,45],[11,4,2,47,"value"],[11,9,2,52],[11,11,2,54],[12,2,2,59],[12,3,2,60],[12,4,2,61],[13,2,3,0,"exports"],[13,9,3,7],[13,10,3,8,"ProcessLockAcquireTimeoutError"],[13,40,3,38],[13,43,3,41,"exports"],[13,50,3,48],[13,51,3,49,"NavigatorLockAcquireTimeoutError"],[13,83,3,81],[13,86,3,84,"exports"],[13,93,3,91],[13,94,3,92,"LockAcquireTimeoutError"],[13,117,3,115],[13,120,3,118,"exports"],[13,127,3,125],[13,128,3,126,"internals"],[13,137,3,135],[13,140,3,135,"undefined"],[13,149,3,144],[14,2,4,0,"exports"],[14,9,4,7],[14,10,4,8,"navigatorLock"],[14,23,4,21],[14,26,4,24,"navigatorLock"],[14,39,4,37],[15,2,5,0,"exports"],[15,9,5,7],[15,10,5,8,"processLock"],[15,21,5,19],[15,24,5,22,"processLock"],[15,35,5,33],[16,2,6,0],[16,6,6,6,"helpers_1"],[16,15,6,15],[16,18,6,18,"require"],[16,25,6,25],[16,26,6,25,"_dependencyMap"],[16,40,6,25],[16,43,6,37],[16,44,6,38],[17,2,7,0],[18,0,8,0],[19,0,9,0],[20,2,10,0,"exports"],[20,9,10,7],[20,10,10,8,"internals"],[20,19,10,17],[20,22,10,20],[21,4,11,4],[22,0,12,0],[23,0,13,0],[24,4,14,4,"debug"],[24,9,14,9],[24,11,14,11],[24,12,14,12],[24,14,14,14,"globalThis"],[24,24,14,24],[24,28,15,8],[24,29,15,9],[24,30,15,10],[24,32,15,12,"helpers_1"],[24,41,15,21],[24,42,15,22,"supportsLocalStorage"],[24,62,15,42],[24,64,15,44],[24,65,15,45],[24,69,16,8,"globalThis"],[24,79,16,18],[24,80,16,19,"localStorage"],[24,92,16,31],[24,96,17,8,"globalThis"],[24,106,17,18],[24,107,17,19,"localStorage"],[24,119,17,31],[24,120,17,32,"getItem"],[24,127,17,39],[24,128,17,40],[24,160,17,72],[24,161,17,73],[24,166,17,78],[24,172,17,84],[25,2,18,0],[25,3,18,1],[26,2,19,0],[27,0,20,0],[28,0,21,0],[29,0,22,0],[30,0,23,0],[31,0,24,0],[32,0,25,0],[33,0,26,0],[34,0,27,0],[35,0,28,0],[36,0,29,0],[37,0,30,0],[38,0,31,0],[39,0,32,0],[40,0,33,0],[41,0,34,0],[42,2,19,0],[42,6,35,6,"LockAcquireTimeoutError"],[42,29,35,29],[42,55,35,29,"_Error"],[42,61,35,29],[43,4,36,4],[43,13,36,4,"LockAcquireTimeoutError"],[43,37,36,16,"message"],[43,44,36,23],[43,46,36,25],[44,6,36,25],[44,10,36,25,"_this"],[44,15,36,25],[45,6,36,25,"_classCallCheck"],[45,21,36,25],[45,28,36,25,"LockAcquireTimeoutError"],[45,51,36,25],[46,6,37,8,"_this"],[46,11,37,8],[46,14,37,8,"_callSuper"],[46,24,37,8],[46,31,37,8,"LockAcquireTimeoutError"],[46,54,37,8],[46,57,37,14,"message"],[46,64,37,21],[47,6,38,8,"_this"],[47,11,38,8],[47,12,38,13,"isAcquireTimeout"],[47,28,38,29],[47,31,38,32],[47,35,38,36],[48,6,38,37],[48,13,38,37,"_this"],[48,18,38,37],[49,4,39,4],[50,4,39,5,"_inherits"],[50,13,39,5],[50,14,39,5,"LockAcquireTimeoutError"],[50,37,39,5],[50,39,39,5,"_Error"],[50,45,39,5],[51,4,39,5],[51,11,39,5,"_createClass"],[51,23,39,5],[51,24,39,5,"LockAcquireTimeoutError"],[51,47,39,5],[52,2,39,5],[52,17,39,5,"_wrapNativeSuper"],[52,33,39,5],[52,34,35,38,"Error"],[52,39,35,43],[53,2,41,0,"exports"],[53,9,41,7],[53,10,41,8,"LockAcquireTimeoutError"],[53,33,41,31],[53,36,41,34,"LockAcquireTimeoutError"],[53,59,41,57],[54,2,42,0],[55,0,43,0],[56,0,44,0],[57,0,45,0],[58,0,46,0],[59,0,47,0],[60,0,48,0],[61,0,49,0],[62,0,50,0],[63,0,51,0],[64,2,42,0],[64,6,52,6,"NavigatorLockAcquireTimeoutError"],[64,38,52,38],[64,64,52,38,"_LockAcquireTimeoutEr"],[64,85,52,38],[65,4,52,38],[65,13,52,38,"NavigatorLockAcquireTimeoutError"],[65,46,52,38],[66,6,52,38,"_classCallCheck"],[66,21,52,38],[66,28,52,38,"NavigatorLockAcquireTimeoutError"],[66,60,52,38],[67,6,52,38],[67,13,52,38,"_callSuper"],[67,23,52,38],[67,30,52,38,"NavigatorLockAcquireTimeoutError"],[67,62,52,38],[67,64,52,38,"arguments"],[67,73,52,38],[68,4,52,38],[69,4,52,38,"_inherits"],[69,13,52,38],[69,14,52,38,"NavigatorLockAcquireTimeoutError"],[69,46,52,38],[69,48,52,38,"_LockAcquireTimeoutEr"],[69,69,52,38],[70,4,52,38],[70,11,52,38,"_createClass"],[70,23,52,38],[70,24,52,38,"NavigatorLockAcquireTimeoutError"],[70,56,52,38],[71,2,52,38],[71,4,52,47,"LockAcquireTimeoutError"],[71,27,52,70],[72,2,54,0,"exports"],[72,9,54,7],[72,10,54,8,"NavigatorLockAcquireTimeoutError"],[72,42,54,40],[72,45,54,43,"NavigatorLockAcquireTimeoutError"],[72,77,54,75],[73,2,55,0],[74,0,56,0],[75,0,57,0],[76,0,58,0],[77,0,59,0],[78,0,60,0],[79,0,61,0],[80,0,62,0],[81,0,63,0],[82,0,64,0],[83,2,55,0],[83,6,65,6,"ProcessLockAcquireTimeoutError"],[83,36,65,36],[83,62,65,36,"_LockAcquireTimeoutEr2"],[83,84,65,36],[84,4,65,36],[84,13,65,36,"ProcessLockAcquireTimeoutError"],[84,44,65,36],[85,6,65,36,"_classCallCheck"],[85,21,65,36],[85,28,65,36,"ProcessLockAcquireTimeoutError"],[85,58,65,36],[86,6,65,36],[86,13,65,36,"_callSuper"],[86,23,65,36],[86,30,65,36,"ProcessLockAcquireTimeoutError"],[86,60,65,36],[86,62,65,36,"arguments"],[86,71,65,36],[87,4,65,36],[88,4,65,36,"_inherits"],[88,13,65,36],[88,14,65,36,"ProcessLockAcquireTimeoutError"],[88,44,65,36],[88,46,65,36,"_LockAcquireTimeoutEr2"],[88,68,65,36],[89,4,65,36],[89,11,65,36,"_createClass"],[89,23,65,36],[89,24,65,36,"ProcessLockAcquireTimeoutError"],[89,54,65,36],[90,2,65,36],[90,4,65,45,"LockAcquireTimeoutError"],[90,27,65,68],[91,2,67,0,"exports"],[91,9,67,7],[91,10,67,8,"ProcessLockAcquireTimeoutError"],[91,40,67,38],[91,43,67,41,"ProcessLockAcquireTimeoutError"],[91,73,67,71],[92,2,68,0],[93,0,69,0],[94,0,70,0],[95,0,71,0],[96,0,72,0],[97,0,73,0],[98,0,74,0],[99,0,75,0],[100,0,76,0],[101,0,77,0],[102,0,78,0],[103,0,79,0],[104,0,80,0],[105,0,81,0],[106,0,82,0],[107,0,83,0],[108,0,84,0],[109,0,85,0],[110,0,86,0],[111,0,87,0],[112,0,88,0],[113,0,89,0],[114,0,90,0],[115,0,91,0],[116,0,92,0],[117,0,93,0],[118,0,94,0],[119,0,95,0],[120,0,96,0],[121,0,97,0],[122,0,98,0],[123,2,68,0],[123,11,99,15,"navigatorLock"],[123,24,99,28,"navigatorLock"],[123,25,99,28,"_x"],[123,27,99,28],[123,29,99,28,"_x2"],[123,32,99,28],[123,34,99,28,"_x3"],[123,37,99,28],[124,4,99,28],[124,11,99,28,"_navigatorLock"],[124,25,99,28],[124,26,99,28,"apply"],[124,31,99,28],[124,38,99,28,"arguments"],[124,47,99,28],[125,2,99,28],[126,2,99,28],[126,11,99,28,"_navigatorLock"],[126,26,99,28],[127,4,99,28,"_navigatorLock"],[127,18,99,28],[127,21,99,28,"_asyncToGenerator"],[127,38,99,28],[127,39,99,0],[127,50,99,29,"name"],[127,54,99,33],[127,56,99,35,"acquireTimeout"],[127,70,99,49],[127,72,99,51,"fn"],[127,74,99,53],[127,76,99,55],[128,6,100,4],[128,10,100,8,"exports"],[128,17,100,15],[128,18,100,16,"internals"],[128,27,100,25],[128,28,100,26,"debug"],[128,33,100,31],[128,35,100,33],[129,8,101,8,"console"],[129,15,101,15],[129,16,101,16,"log"],[129,19,101,19],[129,20,101,20],[129,70,101,70],[129,72,101,72,"name"],[129,76,101,76],[129,78,101,78,"acquireTimeout"],[129,92,101,92],[129,93,101,93],[130,6,102,4],[131,6,103,4],[131,10,103,10,"abortController"],[131,25,103,25],[131,28,103,28],[131,32,103,32,"globalThis"],[131,42,103,42],[131,43,103,43,"AbortController"],[131,58,103,58],[131,59,103,59],[131,60,103,60],[132,6,104,4],[132,10,104,8,"acquireTimeout"],[132,24,104,22],[132,27,104,25],[132,28,104,26],[132,30,104,28],[133,8,105,8,"setTimeout"],[133,18,105,18],[133,19,105,19],[133,25,105,25],[134,10,106,12,"abortController"],[134,25,106,27],[134,26,106,28,"abort"],[134,31,106,33],[134,32,106,34],[134,33,106,35],[135,10,107,12],[135,14,107,16,"exports"],[135,21,107,23],[135,22,107,24,"internals"],[135,31,107,33],[135,32,107,34,"debug"],[135,37,107,39],[135,39,107,41],[136,12,108,16,"console"],[136,19,108,23],[136,20,108,24,"log"],[136,23,108,27],[136,24,108,28],[136,78,108,82],[136,80,108,84,"name"],[136,84,108,88],[136,85,108,89],[137,10,109,12],[138,8,110,8],[138,9,110,9],[138,11,110,11,"acquireTimeout"],[138,25,110,25],[138,26,110,26],[139,6,111,4],[140,6,112,4],[141,6,113,4],[142,6,114,4],[143,6,115,4],[144,6,116,4],[145,6,117,4],[146,6,118,4],[147,6,119,4],[148,6,120,4],[148,19,120,17,"Promise"],[148,26,120,24],[148,27,120,25,"resolve"],[148,34,120,32],[148,35,120,33],[148,36,120,34],[148,37,120,35,"then"],[148,41,120,39],[148,42,120,40],[148,48,120,46,"globalThis"],[148,58,120,56],[148,59,120,57,"navigator"],[148,68,120,66],[148,69,120,67,"locks"],[148,74,120,72],[148,75,120,73,"request"],[148,82,120,80],[148,83,120,81,"name"],[148,87,120,85],[148,89,120,87,"acquireTimeout"],[148,103,120,101],[148,108,120,106],[148,109,120,107],[148,112,121,10],[149,8,122,12,"mode"],[149,12,122,16],[149,14,122,18],[149,25,122,29],[150,8,123,12,"ifAvailable"],[150,19,123,23],[150,21,123,25],[151,6,124,8],[151,7,124,9],[151,10,125,10],[152,8,126,12,"mode"],[152,12,126,16],[152,14,126,18],[152,25,126,29],[153,8,127,12,"signal"],[153,14,127,18],[153,16,127,20,"abortController"],[153,31,127,35],[153,32,127,36,"signal"],[154,6,128,8],[154,7,128,9],[155,8,128,9],[155,12,128,9,"_ref"],[155,16,128,9],[155,19,128,9,"_asyncToGenerator"],[155,36,128,9],[155,37,128,11],[155,48,128,18,"lock"],[155,52,128,22],[155,54,128,27],[156,10,129,8],[156,14,129,12,"lock"],[156,18,129,16],[156,20,129,18],[157,12,130,12],[157,16,130,16,"exports"],[157,23,130,23],[157,24,130,24,"internals"],[157,33,130,33],[157,34,130,34,"debug"],[157,39,130,39],[157,41,130,41],[158,14,131,16,"console"],[158,21,131,23],[158,22,131,24,"log"],[158,25,131,27],[158,26,131,28],[158,72,131,74],[158,74,131,76,"name"],[158,78,131,80],[158,80,131,82,"lock"],[158,84,131,86],[158,85,131,87,"name"],[158,89,131,91],[158,90,131,92],[159,12,132,12],[160,12,133,12],[160,16,133,16],[161,14,134,16],[161,27,134,29,"fn"],[161,29,134,31],[161,30,134,32],[161,31,134,33],[162,12,135,12],[162,13,135,13],[162,22,136,20],[163,14,137,16],[163,18,137,20,"exports"],[163,25,137,27],[163,26,137,28,"internals"],[163,35,137,37],[163,36,137,38,"debug"],[163,41,137,43],[163,43,137,45],[164,16,138,20,"console"],[164,23,138,27],[164,24,138,28,"log"],[164,27,138,31],[164,28,138,32],[164,74,138,78],[164,76,138,80,"name"],[164,80,138,84],[164,82,138,86,"lock"],[164,86,138,90],[164,87,138,91,"name"],[164,91,138,95],[164,92,138,96],[165,14,139,16],[166,12,140,12],[167,10,141,8],[167,11,141,9],[167,17,142,13],[168,12,143,12],[168,16,143,16,"acquireTimeout"],[168,30,143,30],[168,35,143,35],[168,36,143,36],[168,38,143,38],[169,14,144,16],[169,18,144,20,"exports"],[169,25,144,27],[169,26,144,28,"internals"],[169,35,144,37],[169,36,144,38,"debug"],[169,41,144,43],[169,43,144,45],[170,16,145,20,"console"],[170,23,145,27],[170,24,145,28,"log"],[170,27,145,31],[170,28,145,32],[170,91,145,95],[170,93,145,97,"name"],[170,97,145,101],[170,98,145,102],[171,14,146,16],[172,14,147,16],[172,20,147,22],[172,24,147,26,"NavigatorLockAcquireTimeoutError"],[172,56,147,58],[172,57,147,59],[172,111,147,113,"name"],[172,115,147,117],[172,137,147,139],[172,138,147,140],[173,12,148,12],[173,13,148,13],[173,19,149,17],[174,14,150,16],[174,18,150,20,"exports"],[174,25,150,27],[174,26,150,28,"internals"],[174,35,150,37],[174,36,150,38,"debug"],[174,41,150,43],[174,43,150,45],[175,16,151,20],[175,20,151,24],[176,18,152,24],[176,22,152,30,"result"],[176,28,152,36],[176,37,152,45,"globalThis"],[176,47,152,55],[176,48,152,56,"navigator"],[176,57,152,65],[176,58,152,66,"locks"],[176,63,152,71],[176,64,152,72,"query"],[176,69,152,77],[176,70,152,78],[176,71,152,79],[177,18,153,24,"console"],[177,25,153,31],[177,26,153,32,"log"],[177,29,153,35],[177,30,153,36],[177,80,153,86],[177,82,153,88,"JSON"],[177,86,153,92],[177,87,153,93,"stringify"],[177,96,153,102],[177,97,153,103,"result"],[177,103,153,109],[177,105,153,111],[177,109,153,115],[177,111,153,117],[177,115,153,121],[177,116,153,122],[177,117,153,123],[178,16,154,20],[178,17,154,21],[178,18,155,20],[178,25,155,27,"e"],[178,26,155,28],[178,28,155,30],[179,18,156,24,"console"],[179,25,156,31],[179,26,156,32,"warn"],[179,30,156,36],[179,31,156,37],[179,101,156,107],[179,103,156,109,"e"],[179,104,156,110],[179,105,156,111],[180,16,157,20],[181,14,158,16],[182,14,159,16],[183,14,160,16],[184,14,161,16],[185,14,162,16],[186,14,163,16,"console"],[186,21,163,23],[186,22,163,24,"warn"],[186,26,163,28],[186,27,163,29],[186,276,163,278],[186,277,163,279],[187,14,164,16],[187,27,164,29,"fn"],[187,29,164,31],[187,30,164,32],[187,31,164,33],[188,12,165,12],[189,10,166,8],[190,8,167,4],[190,9,167,5],[191,8,167,5],[191,25,167,5,"_x7"],[191,28,167,5],[192,10,167,5],[192,17,167,5,"_ref"],[192,21,167,5],[192,22,167,5,"apply"],[192,27,167,5],[192,34,167,5,"arguments"],[192,43,167,5],[193,8,167,5],[194,6,167,5],[194,10,167,6],[194,11,167,7],[195,4,168,0],[195,5,168,1],[196,4,168,1],[196,11,168,1,"_navigatorLock"],[196,25,168,1],[196,26,168,1,"apply"],[196,31,168,1],[196,38,168,1,"arguments"],[196,47,168,1],[197,2,168,1],[198,2,169,0],[198,6,169,6,"PROCESS_LOCKS"],[198,19,169,19],[198,22,169,22],[198,23,169,23],[198,24,169,24],[199,2,170,0],[200,0,171,0],[201,0,172,0],[202,0,173,0],[203,0,174,0],[204,0,175,0],[205,0,176,0],[206,0,177,0],[207,0,178,0],[208,0,179,0],[209,0,180,0],[210,0,181,0],[211,0,182,0],[212,0,183,0],[213,0,184,0],[214,0,185,0],[215,0,186,0],[216,0,187,0],[217,0,188,0],[218,0,189,0],[219,2,170,0],[219,11,190,15,"processLock"],[219,22,190,26,"processLock"],[219,23,190,26,"_x4"],[219,26,190,26],[219,28,190,26,"_x5"],[219,31,190,26],[219,33,190,26,"_x6"],[219,36,190,26],[220,4,190,26],[220,11,190,26,"_processLock"],[220,23,190,26],[220,24,190,26,"apply"],[220,29,190,26],[220,36,190,26,"arguments"],[220,45,190,26],[221,2,190,26],[222,2,190,26],[222,11,190,26,"_processLock"],[222,24,190,26],[223,4,190,26,"_processLock"],[223,16,190,26],[223,19,190,26,"_asyncToGenerator"],[223,36,190,26],[223,37,190,0],[223,48,190,27,"name"],[223,52,190,31],[223,54,190,33,"acquireTimeout"],[223,68,190,47],[223,70,190,49,"fn"],[223,72,190,51],[223,74,190,53],[224,6,191,4],[224,10,191,8,"_a"],[224,12,191,10],[225,6,192,4],[225,10,192,10,"previousOperation"],[225,27,192,27],[225,30,192,30],[225,31,192,31,"_a"],[225,33,192,33],[225,36,192,36,"PROCESS_LOCKS"],[225,49,192,49],[225,50,192,50,"name"],[225,54,192,54],[225,55,192,55],[225,61,192,61],[225,65,192,65],[225,69,192,69,"_a"],[225,71,192,71],[225,76,192,71,"undefined"],[225,85,192,82],[225,88,192,85,"_a"],[225,90,192,87],[225,93,192,90,"Promise"],[225,100,192,97],[225,101,192,98,"resolve"],[225,108,192,105],[225,109,192,106],[225,110,192,107],[226,6,193,4],[226,10,193,10,"currentOperation"],[226,26,193,26],[226,29,193,29,"Promise"],[226,36,193,36],[226,37,193,37,"race"],[226,41,193,41],[226,42,193,42],[226,43,194,8,"previousOperation"],[226,60,194,25],[226,61,194,26,"catch"],[226,66,194,31],[226,67,194,32],[226,73,194,38],[227,8,195,12],[228,8,196,12],[228,15,196,19],[228,19,196,23],[229,6,197,8],[229,7,197,9],[229,8,197,10],[229,10,198,8,"acquireTimeout"],[229,24,198,22],[229,28,198,26],[229,29,198,27],[229,32,199,14],[229,36,199,18,"Promise"],[229,43,199,25],[229,44,199,26],[229,45,199,27,"_"],[229,46,199,28],[229,48,199,30,"reject"],[229,54,199,36],[229,59,199,41],[230,8,200,16,"setTimeout"],[230,18,200,26],[230,19,200,27],[230,25,200,33],[231,10,201,20,"reject"],[231,16,201,26],[231,17,201,27],[231,21,201,31,"ProcessLockAcquireTimeoutError"],[231,51,201,61],[231,52,201,62],[231,89,201,99,"name"],[231,93,201,103],[231,106,201,116],[231,107,201,117],[231,108,201,118],[232,8,202,16],[232,9,202,17],[232,11,202,19,"acquireTimeout"],[232,25,202,33],[232,26,202,34],[233,6,203,12],[233,7,203,13],[233,8,203,14],[233,11,204,14],[233,15,204,18],[233,16,205,5],[233,17,205,6,"filter"],[233,23,205,12],[233,24,205,14,"x"],[233,25,205,15],[233,29,205,20,"x"],[233,30,205,21],[233,31,205,22],[233,32,205,23],[233,33,206,9,"catch"],[233,38,206,14],[233,39,206,16,"e"],[233,40,206,17],[233,44,206,22],[234,8,207,8],[234,12,207,12,"e"],[234,13,207,13],[234,17,207,17,"e"],[234,18,207,18],[234,19,207,19,"isAcquireTimeout"],[234,35,207,35],[234,37,207,37],[235,10,208,12],[235,16,208,18,"e"],[235,17,208,19],[236,8,209,8],[237,8,210,8],[237,15,210,15],[237,19,210,19],[238,6,211,4],[238,7,211,5],[238,8,211,6],[238,9,212,9,"then"],[238,13,212,13],[238,27,212,13,"_asyncToGenerator"],[238,44,212,13],[238,45,212,14],[238,58,212,26],[239,8,213,8],[240,8,214,8],[241,8,215,8],[241,21,215,21,"fn"],[241,23,215,23],[241,24,215,24],[241,25,215,25],[242,6,216,4],[242,7,216,5],[242,9,216,6],[243,6,217,4,"PROCESS_LOCKS"],[243,19,217,17],[243,20,217,18,"name"],[243,24,217,22],[243,25,217,23],[243,28,217,26,"currentOperation"],[243,44,217,42],[243,45,217,43,"catch"],[243,50,217,48],[244,8,217,48],[244,12,217,48,"_ref3"],[244,17,217,48],[244,20,217,48,"_asyncToGenerator"],[244,37,217,48],[244,38,217,49],[244,49,217,56,"e"],[244,50,217,57],[244,52,217,62],[245,10,218,8],[245,14,218,12,"e"],[245,15,218,13],[245,19,218,17,"e"],[245,20,218,18],[245,21,218,19,"isAcquireTimeout"],[245,37,218,35],[245,39,218,37],[246,12,219,12],[247,12,220,12],[248,12,221,12],[248,18,221,18,"previousOperation"],[248,35,221,35],[249,12,222,12],[249,19,222,19],[249,23,222,23],[250,10,223,8],[251,10,224,8],[251,16,224,14,"e"],[251,17,224,15],[252,8,225,4],[252,9,225,5],[253,8,225,5],[253,25,225,5,"_x8"],[253,28,225,5],[254,10,225,5],[254,17,225,5,"_ref3"],[254,22,225,5],[254,23,225,5,"apply"],[254,28,225,5],[254,35,225,5,"arguments"],[254,44,225,5],[255,8,225,5],[256,6,225,5],[256,10,225,6],[257,6,226,4],[258,6,227,4],[259,6,228,4],[259,19,228,17,"currentOperation"],[259,35,228,33],[260,4,229,0],[260,5,229,1],[261,4,229,1],[261,11,229,1,"_processLock"],[261,23,229,1],[261,24,229,1,"apply"],[261,29,229,1],[261,36,229,1,"arguments"],[261,45,229,1],[262,2,229,1],[263,0,229,1],[263,3]],"functionMap":{"names":["<global>","LockAcquireTimeoutError","LockAcquireTimeoutError#constructor","NavigatorLockAcquireTimeoutError","ProcessLockAcquireTimeoutError","navigatorLock","setTimeout$argument_0","Promise.resolve.then$argument_0","globalThis.navigator.locks.request$argument_2","processLock","previousOperation._catch$argument_0","Promise$argument_0","filter$argument_0","Promise.race._catch$argument_0","Promise.race._catch.then$argument_0","currentOperation._catch$argument_0"],"mappings":"AAA;ACkC;ICC;KDG;CDC;AGY;CHC;AIY;CJC;AKiC;mBCM;SDK;wCEU;WCQ;KDuC,CF;CLC;ASsB;gCCI;SDG;0BEE;2BLC;iBKE;aFC;aGE,QH;eIC;KJK;cKC;KLI;iDMC;KNQ;CTI"},"hasCjsExports":true},"type":"js/module"}]}