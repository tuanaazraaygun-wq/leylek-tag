{"dependencies":[{"name":"event-target-shim","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":23,"index":129},"end":{"line":7,"column":51,"index":157}}],"key":"t/kqAMiLesXIzkIltlY+wVSfky4=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/index","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"55efhPHw3gz2FoQtoN2yI1VuhbM=","exportNames":["*"],"imports":1}},{"name":"./EventEmitter","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":20,"index":223},"end":{"line":9,"column":45,"index":248}}],"key":"Fpc6EruamBjjSIs3GH0Tb1A2oLU=","exportNames":["*"],"imports":1}},{"name":"./getDisplayMedia","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":46,"index":296},"end":{"line":10,"column":74,"index":324}}],"key":"NQdtdaS9dzhPNl5fnv/7u0sZoIc=","exportNames":["*"],"imports":1}},{"name":"./getUserMedia","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":11,"column":43,"index":370},"end":{"line":11,"column":68,"index":395}}],"key":"thcwyrjKlxRqQ/odH0NIMOI1n0Q=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _eventTargetShim = require(_dependencyMap[0], \"event-target-shim\");\n  var _reactNative = require(_dependencyMap[1], \"react-native-web/dist/index\");\n  var _EventEmitter = require(_dependencyMap[2], \"./EventEmitter\");\n  var _getDisplayMedia = _interopRequireDefault(require(_dependencyMap[3], \"./getDisplayMedia\"));\n  var _getUserMedia = _interopRequireDefault(require(_dependencyMap[4], \"./getUserMedia\"));\n  function _interopRequireDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  const {\n    WebRTCModule\n  } = _reactNative.NativeModules;\n  class MediaDevices extends _eventTargetShim.EventTarget {\n    constructor() {\n      super();\n      this._registerEvents();\n    }\n\n    /**\n     * W3C \"Media Capture and Streams\" compatible {@code enumerateDevices}\n     * implementation.\n     */\n    enumerateDevices() {\n      return new Promise(resolve => WebRTCModule.enumerateDevices(resolve));\n    }\n\n    /**\n     * W3C \"Screen Capture\" compatible {@code getDisplayMedia} implementation.\n     * See: https://w3c.github.io/mediacapture-screen-share/\n     *\n     * @returns {Promise}\n     */\n    getDisplayMedia() {\n      return (0, _getDisplayMedia.default)();\n    }\n\n    /**\n     * W3C \"Media Capture and Streams\" compatible {@code getUserMedia}\n     * implementation.\n     * See: https://www.w3.org/TR/mediacapture-streams/#dom-mediadevices-enumeratedevices\n     *\n     * @param {*} constraints\n     * @returns {Promise}\n     */\n    getUserMedia(constraints) {\n      return (0, _getUserMedia.default)(constraints);\n    }\n    _registerEvents() {\n      console.log('MediaDevices _registerEvents invoked');\n      WebRTCModule.startMediaDevicesEventMonitor();\n      (0, _EventEmitter.addListener)(this, 'mediaDevicesOnDeviceChange', () => {\n        console.log('MediaDevices => mediaDevicesOnDeviceChange');\n        // @ts-ignore\n        this.dispatchEvent(new _eventTargetShim.Event('devicechange'));\n      });\n    }\n  }\n\n  /**\n   * Define the `onxxx` event handlers.\n   */\n  const proto = MediaDevices.prototype;\n  (0, _eventTargetShim.defineEventAttribute)(proto, 'devicechange');\n  var _default = exports.default = new MediaDevices();\n});","lineCount":73,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"default"],[7,17,6,15],[7,20,6,18],[7,25,6,23],[7,26,6,24],[8,2,7,0],[8,6,7,4,"_eventTargetShim"],[8,22,7,20],[8,25,7,23,"require"],[8,32,7,30],[8,33,7,30,"_dependencyMap"],[8,47,7,30],[8,71,7,50],[8,72,7,51],[9,2,7,52],[9,6,7,52,"_reactNative"],[9,18,7,52],[9,21,7,52,"require"],[9,28,7,52],[9,29,7,52,"_dependencyMap"],[9,43,7,52],[10,2,9,0],[10,6,9,4,"_EventEmitter"],[10,19,9,17],[10,22,9,20,"require"],[10,29,9,27],[10,30,9,27,"_dependencyMap"],[10,44,9,27],[10,65,9,44],[10,66,9,45],[11,2,10,0],[11,6,10,4,"_getDisplayMedia"],[11,22,10,20],[11,25,10,23,"_interopRequireDefault"],[11,47,10,45],[11,48,10,46,"require"],[11,55,10,53],[11,56,10,53,"_dependencyMap"],[11,70,10,53],[11,94,10,73],[11,95,10,74],[11,96,10,75],[12,2,11,0],[12,6,11,4,"_getUserMedia"],[12,19,11,17],[12,22,11,20,"_interopRequireDefault"],[12,44,11,42],[12,45,11,43,"require"],[12,52,11,50],[12,53,11,50,"_dependencyMap"],[12,67,11,50],[12,88,11,67],[12,89,11,68],[12,90,11,69],[13,2,12,0],[13,11,12,9,"_interopRequireDefault"],[13,33,12,31,"_interopRequireDefault"],[13,34,12,32,"e"],[13,35,12,33],[13,37,12,35],[14,4,12,37],[14,11,12,44,"e"],[14,12,12,45],[14,16,12,49,"e"],[14,17,12,50],[14,18,12,51,"__esModule"],[14,28,12,61],[14,31,12,64,"e"],[14,32,12,65],[14,35,12,68],[15,6,12,70,"default"],[15,13,12,77],[15,15,12,79,"e"],[16,4,12,81],[16,5,12,82],[17,2,12,84],[18,2,13,0],[18,8,13,6],[19,4,14,2,"WebRTCModule"],[20,2,15,0],[20,3,15,1],[20,6,15,4,"_reactNative"],[20,18,15,16],[20,19,15,17,"NativeModules"],[20,32,15,30],[21,2,16,0],[21,8,16,6,"MediaDevices"],[21,20,16,18],[21,29,16,27,"_eventTargetShim"],[21,45,16,43],[21,46,16,44,"EventTarget"],[21,57,16,55],[21,58,16,56],[22,4,17,2,"constructor"],[22,15,17,13,"constructor"],[22,16,17,13],[22,18,17,16],[23,6,18,4],[23,11,18,9],[23,12,18,10],[23,13,18,11],[24,6,19,4],[24,10,19,8],[24,11,19,9,"_registerEvents"],[24,26,19,24],[24,27,19,25],[24,28,19,26],[25,4,20,2],[27,4,22,2],[28,0,23,0],[29,0,24,0],[30,0,25,0],[31,4,26,2,"enumerateDevices"],[31,20,26,18,"enumerateDevices"],[31,21,26,18],[31,23,26,21],[32,6,27,4],[32,13,27,11],[32,17,27,15,"Promise"],[32,24,27,22],[32,25,27,23,"resolve"],[32,32,27,30],[32,36,27,34,"WebRTCModule"],[32,48,27,46],[32,49,27,47,"enumerateDevices"],[32,65,27,63],[32,66,27,64,"resolve"],[32,73,27,71],[32,74,27,72],[32,75,27,73],[33,4,28,2],[35,4,30,2],[36,0,31,0],[37,0,32,0],[38,0,33,0],[39,0,34,0],[40,0,35,0],[41,4,36,2,"getDisplayMedia"],[41,19,36,17,"getDisplayMedia"],[41,20,36,17],[41,22,36,20],[42,6,37,4],[42,13,37,11],[42,14,37,12],[42,15,37,13],[42,17,37,15,"_getDisplayMedia"],[42,33,37,31],[42,34,37,32,"default"],[42,41,37,39],[42,43,37,41],[42,44,37,42],[43,4,38,2],[45,4,40,2],[46,0,41,0],[47,0,42,0],[48,0,43,0],[49,0,44,0],[50,0,45,0],[51,0,46,0],[52,0,47,0],[53,4,48,2,"getUserMedia"],[53,16,48,14,"getUserMedia"],[53,17,48,15,"constraints"],[53,28,48,26],[53,30,48,28],[54,6,49,4],[54,13,49,11],[54,14,49,12],[54,15,49,13],[54,17,49,15,"_getUserMedia"],[54,30,49,28],[54,31,49,29,"default"],[54,38,49,36],[54,40,49,38,"constraints"],[54,51,49,49],[54,52,49,50],[55,4,50,2],[56,4,51,2,"_registerEvents"],[56,19,51,17,"_registerEvents"],[56,20,51,17],[56,22,51,20],[57,6,52,4,"console"],[57,13,52,11],[57,14,52,12,"log"],[57,17,52,15],[57,18,52,16],[57,56,52,54],[57,57,52,55],[58,6,53,4,"WebRTCModule"],[58,18,53,16],[58,19,53,17,"startMediaDevicesEventMonitor"],[58,48,53,46],[58,49,53,47],[58,50,53,48],[59,6,54,4],[59,7,54,5],[59,8,54,6],[59,10,54,8,"_EventEmitter"],[59,23,54,21],[59,24,54,22,"addListener"],[59,35,54,33],[59,37,54,35],[59,41,54,39],[59,43,54,41],[59,71,54,69],[59,73,54,71],[59,79,54,77],[60,8,55,6,"console"],[60,15,55,13],[60,16,55,14,"log"],[60,19,55,17],[60,20,55,18],[60,64,55,62],[60,65,55,63],[61,8,56,6],[62,8,57,6],[62,12,57,10],[62,13,57,11,"dispatchEvent"],[62,26,57,24],[62,27,57,25],[62,31,57,29,"_eventTargetShim"],[62,47,57,45],[62,48,57,46,"Event"],[62,53,57,51],[62,54,57,52],[62,68,57,66],[62,69,57,67],[62,70,57,68],[63,6,58,4],[63,7,58,5],[63,8,58,6],[64,4,59,2],[65,2,60,0],[67,2,62,0],[68,0,63,0],[69,0,64,0],[70,2,65,0],[70,8,65,6,"proto"],[70,13,65,11],[70,16,65,14,"MediaDevices"],[70,28,65,26],[70,29,65,27,"prototype"],[70,38,65,36],[71,2,66,0],[71,3,66,1],[71,4,66,2],[71,6,66,4,"_eventTargetShim"],[71,22,66,20],[71,23,66,21,"defineEventAttribute"],[71,43,66,41],[71,45,66,43,"proto"],[71,50,66,48],[71,52,66,50],[71,66,66,64],[71,67,66,65],[72,2,67,0],[72,6,67,4,"_default"],[72,14,67,12],[72,17,67,15,"exports"],[72,24,67,22],[72,25,67,23,"default"],[72,32,67,30],[72,35,67,33],[72,39,67,37,"MediaDevices"],[72,51,67,49],[72,52,67,50],[72,53,67,51],[73,0,67,52],[73,3]],"functionMap":{"names":["<global>","_interopRequireDefault","MediaDevices","constructor","enumerateDevices","Promise$argument_0","getDisplayMedia","getUserMedia","_registerEvents","<anonymous>"],"mappings":"AAA;ACW,qFD;AEI;ECC;GDG;EEM;uBCC,iDD;GFC;EIQ;GJE;EKU;GLE;EMC;uECG;KDI;GNC;CFC"},"hasCjsExports":true},"type":"js/module"}]}