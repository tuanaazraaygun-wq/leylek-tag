{"dependencies":[{"name":"ts-interface-checker","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":54,"index":54}}],"key":"HfhaKjnice1fCpg0Sn7EyYWsNYo=","exportNames":["*"],"imports":1}},{"name":"../impl/IAgoraH265TranscoderImpl","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":55},"end":{"line":2,"column":71,"index":126}}],"key":"/wZtVtLrZslGxg0d4gs8ioI4l6Q=","exportNames":["*"],"imports":1}},{"name":"../ti/IAgoraH265Transcoder-ti","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":127},"end":{"line":3,"column":67,"index":194}}],"key":"IzFj/wYqInHyUKnj3lvX6tqYa4I=","exportNames":["*"],"imports":1}},{"name":"./IrisApiEngine","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":252},"end":{"line":5,"column":65,"index":317}}],"key":"0UpvluOwke2G7Jk/PkNw9qFcW40=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"H265TranscoderInternal\", {\n    enumerable: true,\n    get: function () {\n      return H265TranscoderInternal;\n    }\n  });\n  var _tsInterfaceChecker = require(_dependencyMap[0], \"ts-interface-checker\");\n  var _implIAgoraH265TranscoderImpl = require(_dependencyMap[1], \"../impl/IAgoraH265TranscoderImpl\");\n  var _tiIAgoraH265TranscoderTi = require(_dependencyMap[2], \"../ti/IAgoraH265Transcoder-ti\");\n  var IAgoraH265TranscoderTI = _interopDefault(_tiIAgoraH265TranscoderTi);\n  var _IrisApiEngine = require(_dependencyMap[3], \"./IrisApiEngine\");\n  const checkers = (0, _tsInterfaceChecker.createCheckers)(IAgoraH265TranscoderTI.default);\n  class H265TranscoderInternal extends _implIAgoraH265TranscoderImpl.IH265TranscoderImpl {\n    static _h265_transcoder_observers = [];\n    release() {\n      H265TranscoderInternal._h265_transcoder_observers = [];\n      this.removeAllListeners();\n    }\n    _addListenerPreCheck(eventType) {\n      var _checkers$IH265Transc;\n      if ((_checkers$IH265Transc = checkers.IH265TranscoderObserver) !== null && _checkers$IH265Transc !== void 0 && _checkers$IH265Transc.strictTest({\n        [eventType]: undefined\n      })) {\n        if (H265TranscoderInternal._h265_transcoder_observers.length === 0) {\n          this.registerTranscoderObserver({});\n        }\n      }\n      return true;\n    }\n    addListener(eventType, listener) {\n      this._addListenerPreCheck(eventType);\n      const callback = (eventProcessor, data) => {\n        if (eventProcessor.type(data) !== _IrisApiEngine.EVENT_TYPE.IAgoraH265Transcoder) {\n          return;\n        }\n        eventProcessor.func.map(it => {\n          it({\n            [eventType]: listener\n          }, eventType, data);\n        });\n      };\n      // @ts-ignore\n      listener.agoraCallback = callback;\n      _IrisApiEngine.DeviceEventEmitter.addListener(eventType, callback);\n    }\n    removeListener(eventType, listener) {\n      _IrisApiEngine.DeviceEventEmitter.removeListener(eventType,\n      // @ts-ignore\n      (listener === null || listener === void 0 ? void 0 : listener.agoraCallback) ?? listener);\n    }\n    removeAllListeners(eventType) {\n      _IrisApiEngine.DeviceEventEmitter.removeAllListeners(eventType);\n    }\n    registerTranscoderObserver(observer) {\n      if (!H265TranscoderInternal._h265_transcoder_observers.find(value => value === observer)) {\n        H265TranscoderInternal._h265_transcoder_observers.push(observer);\n      }\n      return super.registerTranscoderObserver(observer);\n    }\n    unregisterTranscoderObserver(observer) {\n      H265TranscoderInternal._h265_transcoder_observers = H265TranscoderInternal._h265_transcoder_observers.filter(value => value !== observer);\n      return super.unregisterTranscoderObserver(observer);\n    }\n  }\n});","lineCount":76,"map":[[12,2,6,0,"Object"],[12,8,6,0],[12,9,6,0,"defineProperty"],[12,23,6,0],[12,24,6,0,"exports"],[12,31,6,0],[13,4,6,0,"enumerable"],[13,14,6,0],[14,4,6,0,"get"],[14,7,6,0],[14,18,6,0,"get"],[14,19,6,0],[15,6,6,0],[15,13,6,0,"H265TranscoderInternal"],[15,35,6,0],[16,4,6,0],[17,2,6,0],[18,2,1,0],[18,6,1,0,"_tsInterfaceChecker"],[18,25,1,0],[18,28,1,0,"require"],[18,35,1,0],[18,36,1,0,"_dependencyMap"],[18,50,1,0],[19,2,2,0],[19,6,2,0,"_implIAgoraH265TranscoderImpl"],[19,35,2,0],[19,38,2,0,"require"],[19,45,2,0],[19,46,2,0,"_dependencyMap"],[19,60,2,0],[20,2,3,0],[20,6,3,0,"_tiIAgoraH265TranscoderTi"],[20,31,3,0],[20,34,3,0,"require"],[20,41,3,0],[20,42,3,0,"_dependencyMap"],[20,56,3,0],[21,2,3,0],[21,6,3,0,"IAgoraH265TranscoderTI"],[21,28,3,0],[21,31,3,0,"_interopDefault"],[21,46,3,0],[21,47,3,0,"_tiIAgoraH265TranscoderTi"],[21,72,3,0],[22,2,5,0],[22,6,5,0,"_IrisApiEngine"],[22,20,5,0],[22,23,5,0,"require"],[22,30,5,0],[22,31,5,0,"_dependencyMap"],[22,45,5,0],[23,2,4,0],[23,8,4,6,"checkers"],[23,16,4,14],[23,19,4,17],[23,23,4,17,"createCheckers"],[23,42,4,31],[23,43,4,31,"createCheckers"],[23,57,4,31],[23,59,4,32,"IAgoraH265TranscoderTI"],[23,81,4,54],[23,82,4,54,"default"],[23,89,4,54],[23,90,4,55],[24,2,6,7],[24,8,6,13,"H265TranscoderInternal"],[24,30,6,35],[24,39,6,44,"IH265TranscoderImpl"],[24,68,6,63],[24,69,6,63,"IH265TranscoderImpl"],[24,88,6,63],[24,89,6,64],[25,4,7,2],[25,11,7,9,"_h265_transcoder_observers"],[25,37,7,35],[25,40,7,38],[25,42,7,40],[26,4,8,2,"release"],[26,11,8,9,"release"],[26,12,8,9],[26,14,8,12],[27,6,9,4,"H265TranscoderInternal"],[27,28,9,26],[27,29,9,27,"_h265_transcoder_observers"],[27,55,9,53],[27,58,9,56],[27,60,9,58],[28,6,10,4],[28,10,10,8],[28,11,10,9,"removeAllListeners"],[28,29,10,27],[28,30,10,28],[28,31,10,29],[29,4,11,2],[30,4,12,2,"_addListenerPreCheck"],[30,24,12,22,"_addListenerPreCheck"],[30,25,12,23,"eventType"],[30,34,12,32],[30,36,12,34],[31,6,13,4],[31,10,13,8,"_checkers$IH265Transc"],[31,31,13,29],[32,6,14,4],[32,10,14,8],[32,11,14,9,"_checkers$IH265Transc"],[32,32,14,30],[32,35,14,33,"checkers"],[32,43,14,41],[32,44,14,42,"IH265TranscoderObserver"],[32,67,14,65],[32,73,14,71],[32,77,14,75],[32,81,14,79,"_checkers$IH265Transc"],[32,102,14,100],[32,107,14,105],[32,112,14,110],[32,113,14,111],[32,117,14,115,"_checkers$IH265Transc"],[32,138,14,136],[32,139,14,137,"strictTest"],[32,149,14,147],[32,150,14,148],[33,8,15,6],[33,9,15,7,"eventType"],[33,18,15,16],[33,21,15,19,"undefined"],[34,6,16,4],[34,7,16,5],[34,8,16,6],[34,10,16,8],[35,8,17,6],[35,12,17,10,"H265TranscoderInternal"],[35,34,17,32],[35,35,17,33,"_h265_transcoder_observers"],[35,61,17,59],[35,62,17,60,"length"],[35,68,17,66],[35,73,17,71],[35,74,17,72],[35,76,17,74],[36,10,18,8],[36,14,18,12],[36,15,18,13,"registerTranscoderObserver"],[36,41,18,39],[36,42,18,40],[36,43,18,41],[36,44,18,42],[36,45,18,43],[37,8,19,6],[38,6,20,4],[39,6,21,4],[39,13,21,11],[39,17,21,15],[40,4,22,2],[41,4,23,2,"addListener"],[41,15,23,13,"addListener"],[41,16,23,14,"eventType"],[41,25,23,23],[41,27,23,25,"listener"],[41,35,23,33],[41,37,23,35],[42,6,24,4],[42,10,24,8],[42,11,24,9,"_addListenerPreCheck"],[42,31,24,29],[42,32,24,30,"eventType"],[42,41,24,39],[42,42,24,40],[43,6,25,4],[43,12,25,10,"callback"],[43,20,25,18],[43,23,25,21,"callback"],[43,24,25,22,"eventProcessor"],[43,38,25,36],[43,40,25,38,"data"],[43,44,25,42],[43,49,25,47],[44,8,26,6],[44,12,26,10,"eventProcessor"],[44,26,26,24],[44,27,26,25,"type"],[44,31,26,29],[44,32,26,30,"data"],[44,36,26,34],[44,37,26,35],[44,42,26,40,"EVENT_TYPE"],[44,56,26,50],[44,57,26,50,"EVENT_TYPE"],[44,67,26,50],[44,68,26,51,"IAgoraH265Transcoder"],[44,88,26,71],[44,90,26,73],[45,10,27,8],[46,8,28,6],[47,8,29,6,"eventProcessor"],[47,22,29,20],[47,23,29,21,"func"],[47,27,29,25],[47,28,29,26,"map"],[47,31,29,29],[47,32,29,30,"it"],[47,34,29,32],[47,38,29,36],[48,10,30,8,"it"],[48,12,30,10],[48,13,30,11],[49,12,31,10],[49,13,31,11,"eventType"],[49,22,31,20],[49,25,31,23,"listener"],[50,10,32,8],[50,11,32,9],[50,13,32,11,"eventType"],[50,22,32,20],[50,24,32,22,"data"],[50,28,32,26],[50,29,32,27],[51,8,33,6],[51,9,33,7],[51,10,33,8],[52,6,34,4],[52,7,34,5],[53,6,35,4],[54,6,36,4,"listener"],[54,14,36,12],[54,15,36,13,"agoraCallback"],[54,28,36,26],[54,31,36,29,"callback"],[54,39,36,37],[55,6,37,4,"DeviceEventEmitter"],[55,20,37,22],[55,21,37,22,"DeviceEventEmitter"],[55,39,37,22],[55,40,37,23,"addListener"],[55,51,37,34],[55,52,37,35,"eventType"],[55,61,37,44],[55,63,37,46,"callback"],[55,71,37,54],[55,72,37,55],[56,4,38,2],[57,4,39,2,"removeListener"],[57,18,39,16,"removeListener"],[57,19,39,17,"eventType"],[57,28,39,26],[57,30,39,28,"listener"],[57,38,39,36],[57,40,39,38],[58,6,40,4,"DeviceEventEmitter"],[58,20,40,22],[58,21,40,22,"DeviceEventEmitter"],[58,39,40,22],[58,40,40,23,"removeListener"],[58,54,40,37],[58,55,40,38,"eventType"],[58,64,40,47],[59,6,41,4],[60,6,42,4],[60,7,42,5,"listener"],[60,15,42,13],[60,20,42,18],[60,24,42,22],[60,28,42,26,"listener"],[60,36,42,34],[60,41,42,39],[60,46,42,44],[60,47,42,45],[60,50,42,48],[60,55,42,53],[60,56,42,54],[60,59,42,57,"listener"],[60,67,42,65],[60,68,42,66,"agoraCallback"],[60,81,42,79],[60,86,42,84,"listener"],[60,94,42,92],[60,95,42,93],[61,4,43,2],[62,4,44,2,"removeAllListeners"],[62,22,44,20,"removeAllListeners"],[62,23,44,21,"eventType"],[62,32,44,30],[62,34,44,32],[63,6,45,4,"DeviceEventEmitter"],[63,20,45,22],[63,21,45,22,"DeviceEventEmitter"],[63,39,45,22],[63,40,45,23,"removeAllListeners"],[63,58,45,41],[63,59,45,42,"eventType"],[63,68,45,51],[63,69,45,52],[64,4,46,2],[65,4,47,2,"registerTranscoderObserver"],[65,30,47,28,"registerTranscoderObserver"],[65,31,47,29,"observer"],[65,39,47,37],[65,41,47,39],[66,6,48,4],[66,10,48,8],[66,11,48,9,"H265TranscoderInternal"],[66,33,48,31],[66,34,48,32,"_h265_transcoder_observers"],[66,60,48,58],[66,61,48,59,"find"],[66,65,48,63],[66,66,48,64,"value"],[66,71,48,69],[66,75,48,73,"value"],[66,80,48,78],[66,85,48,83,"observer"],[66,93,48,91],[66,94,48,92],[66,96,48,94],[67,8,49,6,"H265TranscoderInternal"],[67,30,49,28],[67,31,49,29,"_h265_transcoder_observers"],[67,57,49,55],[67,58,49,56,"push"],[67,62,49,60],[67,63,49,61,"observer"],[67,71,49,69],[67,72,49,70],[68,6,50,4],[69,6,51,4],[69,13,51,11],[69,18,51,16],[69,19,51,17,"registerTranscoderObserver"],[69,45,51,43],[69,46,51,44,"observer"],[69,54,51,52],[69,55,51,53],[70,4,52,2],[71,4,53,2,"unregisterTranscoderObserver"],[71,32,53,30,"unregisterTranscoderObserver"],[71,33,53,31,"observer"],[71,41,53,39],[71,43,53,41],[72,6,54,4,"H265TranscoderInternal"],[72,28,54,26],[72,29,54,27,"_h265_transcoder_observers"],[72,55,54,53],[72,58,54,56,"H265TranscoderInternal"],[72,80,54,78],[72,81,54,79,"_h265_transcoder_observers"],[72,107,54,105],[72,108,54,106,"filter"],[72,114,54,112],[72,115,54,113,"value"],[72,120,54,118],[72,124,54,122,"value"],[72,129,54,127],[72,134,54,132,"observer"],[72,142,54,140],[72,143,54,141],[73,6,55,4],[73,13,55,11],[73,18,55,16],[73,19,55,17,"unregisterTranscoderObserver"],[73,47,55,45],[73,48,55,46,"observer"],[73,56,55,54],[73,57,55,55],[74,4,56,2],[75,2,57,0],[76,0,57,1],[76,3]],"functionMap":{"names":["<global>","H265TranscoderInternal","H265TranscoderInternal#release","H265TranscoderInternal#_addListenerPreCheck","H265TranscoderInternal#addListener","callback","eventProcessor.func.map$argument_0","H265TranscoderInternal#removeListener","H265TranscoderInternal#removeAllListeners","H265TranscoderInternal#registerTranscoderObserver","H265TranscoderInternal._h265_transcoder_observers.find$argument_0","H265TranscoderInternal#unregisterTranscoderObserver","H265TranscoderInternal._h265_transcoder_observers.filter$argument_0"],"mappings":"AAA;OCK;ECE;GDG;EEC;GFU;EGC;qBCE;8BCI;ODI;KDC;GHI;EMC;GNI;EOC;GPE;EQC;gECC,2BD;GRI;EUC;iHCC,2BD;GVE;CDC"},"hasCjsExports":false},"type":"js/module"}]}