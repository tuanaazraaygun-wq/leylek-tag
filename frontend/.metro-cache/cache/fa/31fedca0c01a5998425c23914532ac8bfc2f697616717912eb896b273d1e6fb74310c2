{"dependencies":[{"name":"./polling.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":39,"index":39}}],"key":"Pl+iaQVK3G0OaUHovkJUbWBEusk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,\"Fetch\",{enumerable:!0,get:function(){return o}});var t=r(d[0]);class o extends t.Polling{doPoll(){this._fetch().then(t=>{if(!t.ok)return this.onError(\"fetch read error\",t.status,t);t.text().then(t=>this.onData(t))}).catch(t=>{this.onError(\"fetch read error\",t)})}doWrite(t,o){this._fetch(t).then(t=>{if(!t.ok)return this.onError(\"fetch write error\",t.status,t);o()}).catch(t=>{this.onError(\"fetch write error\",t)})}_fetch(t){var o;const s=void 0!==t,n=new Headers(this.opts.extraHeaders);return s&&n.set(\"content-type\",\"text/plain;charset=UTF-8\"),null===(o=this.socket._cookieJar)||void 0===o||o.appendCookies(n),fetch(this.uri(),{method:s?\"POST\":\"GET\",body:s?t:null,headers:n,credentials:this.opts.withCredentials?\"include\":\"omit\"}).then(t=>{var o;return null===(o=this.socket._cookieJar)||void 0===o||o.parseCookies(t.headers.getSetCookie()),t})}}});","lineCount":1,"map":[[1,90,11,0,"Object"],[1,97,11,0,"defineProperty"],[1,112,11,0,"e"],[1,114,11,0],[1,123,11,0,"enumerable"],[1,135,11,0],[1,137,11,0,"get"],[1,141,11,0],[1,159,11,0,"Fetch"],[1,160,11,0],[1,164,1,0],[1,168,1,0,"_pollingJs"],[1,170,1,0,"r"],[1,172,1,0,"d"],[1,174,1,0],[1,178,11,7],[1,184,11,13,"Fetch"],[1,194,11,27,"Polling"],[1,196,11,34,"Polling"],[1,204,12,4,"doPoll"],[1,213,13,8,"this"],[1,218,13,13,"_fetch"],[1,227,14,13,"then"],[1,232,14,19,"res"],[1,236,15,12],[1,240,15,17,"res"],[1,242,15,21,"ok"],[1,245,16,16],[1,252,16,23,"this"],[1,257,16,28,"onError"],[1,265,16,36],[1,284,16,56,"res"],[1,286,16,60,"status"],[1,293,16,68,"res"],[1,296,18,12,"res"],[1,298,18,16,"text"],[1,305,18,23,"then"],[1,310,18,29,"data"],[1,313,18,38,"this"],[1,318,18,43,"onData"],[1,325,18,50,"data"],[1,331,20,13,"catch"],[1,337,20,20,"err"],[1,341,21,12,"this"],[1,346,21,17,"onError"],[1,354,21,25],[1,373,21,45,"err"],[1,377,23,4],[1,378,24,4,"doWrite"],[1,386,24,12,"data"],[1,388,24,18,"callback"],[1,391,25,8,"this"],[1,396,25,13,"_fetch"],[1,403,25,20,"data"],[1,406,26,13,"then"],[1,411,26,19,"res"],[1,415,27,12],[1,419,27,17,"res"],[1,421,27,21,"ok"],[1,424,28,16],[1,431,28,23,"this"],[1,436,28,28,"onError"],[1,444,28,36],[1,464,28,57,"res"],[1,466,28,61,"status"],[1,473,28,69,"res"],[1,476,30,12,"callback"],[1,482,32,13,"catch"],[1,488,32,20,"err"],[1,492,33,12,"this"],[1,497,33,17,"onError"],[1,505,33,25],[1,525,33,46,"err"],[1,529,35,4],[1,530,36,4,"_fetch"],[1,537,36,11,"data"],[1,540,37,8],[1,544,37,12,"_a"],[1,546,38,8],[1,552,38,14,"isPost"],[1,559,38,32,"undefined"],[1,563,38,23,"data"],[1,565,39,14,"headers"],[1,567,39,24],[1,571,39,28,"Headers"],[1,579,39,36,"this"],[1,584,39,41,"opts"],[1,589,39,46,"extraHeaders"],[1,603,44,8],[1,610,40,12,"isPost"],[1,613,41,12,"headers"],[1,615,41,20,"set"],[1,619,41,24],[1,634,41,40],[1,662,43,42],[1,670,43,9,"_a"],[1,672,43,14,"this"],[1,677,43,19,"socket"],[1,684,43,26,"_cookieJar"],[1,702,43,52,"undefined"],[1,706,43,50,"_a"],[1,709,43,75,"_a"],[1,711,43,78,"appendCookies"],[1,725,43,92,"headers"],[1,728,44,15,"fetch"],[1,734,44,21,"this"],[1,739,44,26,"uri"],[1,745,44,33],[1,746,45,12,"method"],[1,753,45,20,"isPost"],[1,755,45,29],[1,762,45,38],[1,768,46,12,"body"],[1,773,46,18,"isPost"],[1,775,46,27,"data"],[1,777,46,34],[1,782,47,12,"headers"],[1,792,48,12,"credentials"],[1,804,48,25,"this"],[1,809,48,30,"opts"],[1,814,48,35,"withCredentials"],[1,830,48,53],[1,840,48,65],[1,849,49,11,"then"],[1,854,49,17,"res"],[1,858,50,12],[1,862,50,16,"_a"],[1,864,53,12],[1,871,52,46],[1,879,52,13,"_a"],[1,881,52,18,"this"],[1,886,52,23,"socket"],[1,893,52,30,"_cookieJar"],[1,911,52,56,"undefined"],[1,915,52,54,"_a"],[1,918,52,79,"_a"],[1,920,52,82,"parseCookies"],[1,933,52,95,"res"],[1,935,52,99,"headers"],[1,943,52,107,"getSetCookie"],[1,959,53,19,"res"],[1,962,55,4],[1,964,56,1],[1,967]],"functionMap":{"names":["<global>","Fetch","Fetch#doPoll","_fetch.then$argument_0","res.text.then$argument_0","_fetch.then._catch$argument_0","Fetch#doWrite","Fetch#_fetch","fetch.then$argument_0"],"mappings":"AAA;OCU;ICC;kBCE;4BCI,2BD;SDC;mBGC;SHE;KDC;IKC;kBHE;SGK;mBDC;SCE;KLC;IMC;gBCa;SDK;KNC;CDC"},"hasCjsExports":false},"type":"js/module"}]}