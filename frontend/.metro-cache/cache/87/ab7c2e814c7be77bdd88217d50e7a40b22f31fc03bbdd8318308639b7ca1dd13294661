{"dependencies":[{"name":"react-native-web/dist/index","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"55efhPHw3gz2FoQtoN2yI1VuhbM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _reactNative = require(_dependencyMap[0], \"react-native-web/dist/index\");\n  const {\n    WebRTCModule\n  } = _reactNative.NativeModules;\n\n  /**\n   * Type declaration for a permissions descriptor.\n   */\n\n  /**\n   * Class implementing a subset of W3C's Permissions API as defined by:\n   * https://www.w3.org/TR/permissions/\n   */\n  class Permissions {\n    /**\n     * Possible result values for {@link query}, in accordance with:\n     * https://www.w3.org/TR/permissions/#status-of-a-permission\n     */\n    RESULT = {\n      DENIED: 'denied',\n      GRANTED: 'granted',\n      PROMPT: 'prompt'\n    };\n\n    /**\n     * This implementation only supports requesting these permissions, a subset\n     * of: https://www.w3.org/TR/permissions/#permission-registry\n     */\n    VALID_PERMISSIONS = ['camera', 'microphone'];\n    _lastReq = Promise.resolve();\n\n    /**\n     * Helper for requesting Android permissions. On Android only one permission\n     * can be requested at a time (unless the multi-permission API is used,\n     * but we are not using that for symmetry with the W3C API for querying)\n     * so we'll queue them up.\n     *\n     * @param perm - The requested permission from\n     * {@link PermissionsAndroid.PERMISSIONS}\n     * https://facebook.github.io/react-native/docs/permissionsandroid#permissions-that-require-prompting-the-user\n     */\n    _requestPermissionAndroid(perm) {\n      return new Promise(resolve => {\n        _reactNative.PermissionsAndroid.request(perm).then(granted => resolve(granted === _reactNative.PermissionsAndroid.RESULTS.GRANTED), () => resolve(false));\n      });\n    }\n\n    /**\n     * Validates the given permission descriptor.\n     */\n    _validatePermissionDescriptior(permissionDesc) {\n      if (typeof permissionDesc !== 'object') {\n        throw new TypeError('Argument 1 of Permissions.query is not an object.');\n      }\n      if (typeof permissionDesc.name === 'undefined') {\n        throw new TypeError('Missing required \\'name\\' member of PermissionDescriptor.');\n      }\n      if (this.VALID_PERMISSIONS.indexOf(permissionDesc.name) === -1) {\n        throw new TypeError('\\'name\\' member of PermissionDescriptor is not a valid value for enumeration PermissionName.');\n      }\n    }\n\n    /**\n     * Method for querying the status of a permission, according to:\n     * https://www.w3.org/TR/permissions/#permissions-interface\n     */\n    query(permissionDesc) {\n      try {\n        this._validatePermissionDescriptior(permissionDesc);\n      } catch (e) {\n        return Promise.reject(e);\n      }\n      if (_reactNative.Platform.OS === 'android') {\n        const perm = permissionDesc.name === 'camera' ? _reactNative.PermissionsAndroid.PERMISSIONS.CAMERA : _reactNative.PermissionsAndroid.PERMISSIONS.RECORD_AUDIO;\n        return new Promise(resolve => {\n          _reactNative.PermissionsAndroid.check(perm).then(granted => resolve(granted ? this.RESULT.GRANTED : this.RESULT.PROMPT), () => resolve(this.RESULT.PROMPT));\n        });\n      } else if (_reactNative.Platform.OS === 'ios' || _reactNative.Platform.OS === 'macos') {\n        return WebRTCModule.checkPermission(permissionDesc.name);\n      } else {\n        return Promise.reject(new TypeError('Unsupported platform.'));\n      }\n    }\n\n    /**\n     * Custom method NOT defined by W3C's permissions API, which allows the\n     * caller to request a permission.\n     */\n    request(permissionDesc) {\n      try {\n        this._validatePermissionDescriptior(permissionDesc);\n      } catch (e) {\n        return Promise.reject(e);\n      }\n      if (_reactNative.Platform.OS === 'android') {\n        const perm = permissionDesc.name === 'camera' ? _reactNative.PermissionsAndroid.PERMISSIONS.CAMERA : _reactNative.PermissionsAndroid.PERMISSIONS.RECORD_AUDIO;\n        const requestPermission = () => this._requestPermissionAndroid(perm);\n        this._lastReq = this._lastReq.then(requestPermission, requestPermission);\n        return this._lastReq;\n      } else if (_reactNative.Platform.OS === 'ios' || _reactNative.Platform.OS === 'macos') {\n        return WebRTCModule.requestPermission(permissionDesc.name);\n      } else {\n        return Promise.reject(new TypeError('Unsupported platform.'));\n      }\n    }\n  }\n  var _default = exports.default = new Permissions();\n});","lineCount":115,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"default"],[7,17,6,15],[7,20,6,18],[7,25,6,23],[7,26,6,24],[8,2,6,25],[8,6,6,25,"_reactNative"],[8,18,6,25],[8,21,6,25,"require"],[8,28,6,25],[8,29,6,25,"_dependencyMap"],[8,43,6,25],[9,2,8,0],[9,8,8,6],[10,4,9,2,"WebRTCModule"],[11,2,10,0],[11,3,10,1],[11,6,10,4,"_reactNative"],[11,18,10,16],[11,19,10,17,"NativeModules"],[11,32,10,30],[13,2,12,0],[14,0,13,0],[15,0,14,0],[17,2,16,0],[18,0,17,0],[19,0,18,0],[20,0,19,0],[21,2,20,0],[21,8,20,6,"Permissions"],[21,19,20,17],[21,20,20,18],[22,4,21,2],[23,0,22,0],[24,0,23,0],[25,0,24,0],[26,4,25,2,"RESULT"],[26,10,25,8],[26,13,25,11],[27,6,26,4,"DENIED"],[27,12,26,10],[27,14,26,12],[27,22,26,20],[28,6,27,4,"GRANTED"],[28,13,27,11],[28,15,27,13],[28,24,27,22],[29,6,28,4,"PROMPT"],[29,12,28,10],[29,14,28,12],[30,4,29,2],[30,5,29,3],[32,4,31,2],[33,0,32,0],[34,0,33,0],[35,0,34,0],[36,4,35,2,"VALID_PERMISSIONS"],[36,21,35,19],[36,24,35,22],[36,25,35,23],[36,33,35,31],[36,35,35,33],[36,47,35,45],[36,48,35,46],[37,4,36,2,"_lastReq"],[37,12,36,10],[37,15,36,13,"Promise"],[37,22,36,20],[37,23,36,21,"resolve"],[37,30,36,28],[37,31,36,29],[37,32,36,30],[39,4,38,2],[40,0,39,0],[41,0,40,0],[42,0,41,0],[43,0,42,0],[44,0,43,0],[45,0,44,0],[46,0,45,0],[47,0,46,0],[48,0,47,0],[49,4,48,2,"_requestPermissionAndroid"],[49,29,48,27,"_requestPermissionAndroid"],[49,30,48,28,"perm"],[49,34,48,32],[49,36,48,34],[50,6,49,4],[50,13,49,11],[50,17,49,15,"Promise"],[50,24,49,22],[50,25,49,23,"resolve"],[50,32,49,30],[50,36,49,34],[51,8,50,6,"_reactNative"],[51,20,50,18],[51,21,50,19,"PermissionsAndroid"],[51,39,50,37],[51,40,50,38,"request"],[51,47,50,45],[51,48,50,46,"perm"],[51,52,50,50],[51,53,50,51],[51,54,50,52,"then"],[51,58,50,56],[51,59,50,57,"granted"],[51,66,50,64],[51,70,50,68,"resolve"],[51,77,50,75],[51,78,50,76,"granted"],[51,85,50,83],[51,90,50,88,"_reactNative"],[51,102,50,100],[51,103,50,101,"PermissionsAndroid"],[51,121,50,119],[51,122,50,120,"RESULTS"],[51,129,50,127],[51,130,50,128,"GRANTED"],[51,137,50,135],[51,138,50,136],[51,140,50,138],[51,146,50,144,"resolve"],[51,153,50,151],[51,154,50,152],[51,159,50,157],[51,160,50,158],[51,161,50,159],[52,6,51,4],[52,7,51,5],[52,8,51,6],[53,4,52,2],[55,4,54,2],[56,0,55,0],[57,0,56,0],[58,4,57,2,"_validatePermissionDescriptior"],[58,34,57,32,"_validatePermissionDescriptior"],[58,35,57,33,"permissionDesc"],[58,49,57,47],[58,51,57,49],[59,6,58,4],[59,10,58,8],[59,17,58,15,"permissionDesc"],[59,31,58,29],[59,36,58,34],[59,44,58,42],[59,46,58,44],[60,8,59,6],[60,14,59,12],[60,18,59,16,"TypeError"],[60,27,59,25],[60,28,59,26],[60,79,59,77],[60,80,59,78],[61,6,60,4],[62,6,61,4],[62,10,61,8],[62,17,61,15,"permissionDesc"],[62,31,61,29],[62,32,61,30,"name"],[62,36,61,34],[62,41,61,39],[62,52,61,50],[62,54,61,52],[63,8,62,6],[63,14,62,12],[63,18,62,16,"TypeError"],[63,27,62,25],[63,28,62,26],[63,87,62,85],[63,88,62,86],[64,6,63,4],[65,6,64,4],[65,10,64,8],[65,14,64,12],[65,15,64,13,"VALID_PERMISSIONS"],[65,32,64,30],[65,33,64,31,"indexOf"],[65,40,64,38],[65,41,64,39,"permissionDesc"],[65,55,64,53],[65,56,64,54,"name"],[65,60,64,58],[65,61,64,59],[65,66,64,64],[65,67,64,65],[65,68,64,66],[65,70,64,68],[66,8,65,6],[66,14,65,12],[66,18,65,16,"TypeError"],[66,27,65,25],[66,28,65,26],[66,122,65,120],[66,123,65,121],[67,6,66,4],[68,4,67,2],[70,4,69,2],[71,0,70,0],[72,0,71,0],[73,0,72,0],[74,4,73,2,"query"],[74,9,73,7,"query"],[74,10,73,8,"permissionDesc"],[74,24,73,22],[74,26,73,24],[75,6,74,4],[75,10,74,8],[76,8,75,6],[76,12,75,10],[76,13,75,11,"_validatePermissionDescriptior"],[76,43,75,41],[76,44,75,42,"permissionDesc"],[76,58,75,56],[76,59,75,57],[77,6,76,4],[77,7,76,5],[77,8,76,6],[77,15,76,13,"e"],[77,16,76,14],[77,18,76,16],[78,8,77,6],[78,15,77,13,"Promise"],[78,22,77,20],[78,23,77,21,"reject"],[78,29,77,27],[78,30,77,28,"e"],[78,31,77,29],[78,32,77,30],[79,6,78,4],[80,6,79,4],[80,10,79,8,"_reactNative"],[80,22,79,20],[80,23,79,21,"Platform"],[80,31,79,29],[80,32,79,30,"OS"],[80,34,79,32],[80,39,79,37],[80,48,79,46],[80,50,79,48],[81,8,80,6],[81,14,80,12,"perm"],[81,18,80,16],[81,21,80,19,"permissionDesc"],[81,35,80,33],[81,36,80,34,"name"],[81,40,80,38],[81,45,80,43],[81,53,80,51],[81,56,80,54,"_reactNative"],[81,68,80,66],[81,69,80,67,"PermissionsAndroid"],[81,87,80,85],[81,88,80,86,"PERMISSIONS"],[81,99,80,97],[81,100,80,98,"CAMERA"],[81,106,80,104],[81,109,80,107,"_reactNative"],[81,121,80,119],[81,122,80,120,"PermissionsAndroid"],[81,140,80,138],[81,141,80,139,"PERMISSIONS"],[81,152,80,150],[81,153,80,151,"RECORD_AUDIO"],[81,165,80,163],[82,8,81,6],[82,15,81,13],[82,19,81,17,"Promise"],[82,26,81,24],[82,27,81,25,"resolve"],[82,34,81,32],[82,38,81,36],[83,10,82,8,"_reactNative"],[83,22,82,20],[83,23,82,21,"PermissionsAndroid"],[83,41,82,39],[83,42,82,40,"check"],[83,47,82,45],[83,48,82,46,"perm"],[83,52,82,50],[83,53,82,51],[83,54,82,52,"then"],[83,58,82,56],[83,59,82,57,"granted"],[83,66,82,64],[83,70,82,68,"resolve"],[83,77,82,75],[83,78,82,76,"granted"],[83,85,82,83],[83,88,82,86],[83,92,82,90],[83,93,82,91,"RESULT"],[83,99,82,97],[83,100,82,98,"GRANTED"],[83,107,82,105],[83,110,82,108],[83,114,82,112],[83,115,82,113,"RESULT"],[83,121,82,119],[83,122,82,120,"PROMPT"],[83,128,82,126],[83,129,82,127],[83,131,82,129],[83,137,82,135,"resolve"],[83,144,82,142],[83,145,82,143],[83,149,82,147],[83,150,82,148,"RESULT"],[83,156,82,154],[83,157,82,155,"PROMPT"],[83,163,82,161],[83,164,82,162],[83,165,82,163],[84,8,83,6],[84,9,83,7],[84,10,83,8],[85,6,84,4],[85,7,84,5],[85,13,84,11],[85,17,84,15,"_reactNative"],[85,29,84,27],[85,30,84,28,"Platform"],[85,38,84,36],[85,39,84,37,"OS"],[85,41,84,39],[85,46,84,44],[85,51,84,49],[85,55,84,53,"_reactNative"],[85,67,84,65],[85,68,84,66,"Platform"],[85,76,84,74],[85,77,84,75,"OS"],[85,79,84,77],[85,84,84,82],[85,91,84,89],[85,93,84,91],[86,8,85,6],[86,15,85,13,"WebRTCModule"],[86,27,85,25],[86,28,85,26,"checkPermission"],[86,43,85,41],[86,44,85,42,"permissionDesc"],[86,58,85,56],[86,59,85,57,"name"],[86,63,85,61],[86,64,85,62],[87,6,86,4],[87,7,86,5],[87,13,86,11],[88,8,87,6],[88,15,87,13,"Promise"],[88,22,87,20],[88,23,87,21,"reject"],[88,29,87,27],[88,30,87,28],[88,34,87,32,"TypeError"],[88,43,87,41],[88,44,87,42],[88,67,87,65],[88,68,87,66],[88,69,87,67],[89,6,88,4],[90,4,89,2],[92,4,91,2],[93,0,92,0],[94,0,93,0],[95,0,94,0],[96,4,95,2,"request"],[96,11,95,9,"request"],[96,12,95,10,"permissionDesc"],[96,26,95,24],[96,28,95,26],[97,6,96,4],[97,10,96,8],[98,8,97,6],[98,12,97,10],[98,13,97,11,"_validatePermissionDescriptior"],[98,43,97,41],[98,44,97,42,"permissionDesc"],[98,58,97,56],[98,59,97,57],[99,6,98,4],[99,7,98,5],[99,8,98,6],[99,15,98,13,"e"],[99,16,98,14],[99,18,98,16],[100,8,99,6],[100,15,99,13,"Promise"],[100,22,99,20],[100,23,99,21,"reject"],[100,29,99,27],[100,30,99,28,"e"],[100,31,99,29],[100,32,99,30],[101,6,100,4],[102,6,101,4],[102,10,101,8,"_reactNative"],[102,22,101,20],[102,23,101,21,"Platform"],[102,31,101,29],[102,32,101,30,"OS"],[102,34,101,32],[102,39,101,37],[102,48,101,46],[102,50,101,48],[103,8,102,6],[103,14,102,12,"perm"],[103,18,102,16],[103,21,102,19,"permissionDesc"],[103,35,102,33],[103,36,102,34,"name"],[103,40,102,38],[103,45,102,43],[103,53,102,51],[103,56,102,54,"_reactNative"],[103,68,102,66],[103,69,102,67,"PermissionsAndroid"],[103,87,102,85],[103,88,102,86,"PERMISSIONS"],[103,99,102,97],[103,100,102,98,"CAMERA"],[103,106,102,104],[103,109,102,107,"_reactNative"],[103,121,102,119],[103,122,102,120,"PermissionsAndroid"],[103,140,102,138],[103,141,102,139,"PERMISSIONS"],[103,152,102,150],[103,153,102,151,"RECORD_AUDIO"],[103,165,102,163],[104,8,103,6],[104,14,103,12,"requestPermission"],[104,31,103,29],[104,34,103,32,"requestPermission"],[104,35,103,32],[104,40,103,38],[104,44,103,42],[104,45,103,43,"_requestPermissionAndroid"],[104,70,103,68],[104,71,103,69,"perm"],[104,75,103,73],[104,76,103,74],[105,8,104,6],[105,12,104,10],[105,13,104,11,"_lastReq"],[105,21,104,19],[105,24,104,22],[105,28,104,26],[105,29,104,27,"_lastReq"],[105,37,104,35],[105,38,104,36,"then"],[105,42,104,40],[105,43,104,41,"requestPermission"],[105,60,104,58],[105,62,104,60,"requestPermission"],[105,79,104,77],[105,80,104,78],[106,8,105,6],[106,15,105,13],[106,19,105,17],[106,20,105,18,"_lastReq"],[106,28,105,26],[107,6,106,4],[107,7,106,5],[107,13,106,11],[107,17,106,15,"_reactNative"],[107,29,106,27],[107,30,106,28,"Platform"],[107,38,106,36],[107,39,106,37,"OS"],[107,41,106,39],[107,46,106,44],[107,51,106,49],[107,55,106,53,"_reactNative"],[107,67,106,65],[107,68,106,66,"Platform"],[107,76,106,74],[107,77,106,75,"OS"],[107,79,106,77],[107,84,106,82],[107,91,106,89],[107,93,106,91],[108,8,107,6],[108,15,107,13,"WebRTCModule"],[108,27,107,25],[108,28,107,26,"requestPermission"],[108,45,107,43],[108,46,107,44,"permissionDesc"],[108,60,107,58],[108,61,107,59,"name"],[108,65,107,63],[108,66,107,64],[109,6,108,4],[109,7,108,5],[109,13,108,11],[110,8,109,6],[110,15,109,13,"Promise"],[110,22,109,20],[110,23,109,21,"reject"],[110,29,109,27],[110,30,109,28],[110,34,109,32,"TypeError"],[110,43,109,41],[110,44,109,42],[110,67,109,65],[110,68,109,66],[110,69,109,67],[111,6,110,4],[112,4,111,2],[113,2,112,0],[114,2,113,0],[114,6,113,4,"_default"],[114,14,113,12],[114,17,113,15,"exports"],[114,24,113,22],[114,25,113,23,"default"],[114,32,113,30],[114,35,113,33],[114,39,113,37,"Permissions"],[114,50,113,48],[114,51,113,49],[114,52,113,50],[115,0,113,51],[115,3]],"functionMap":{"names":["<global>","Permissions","_requestPermissionAndroid","Promise$argument_0","_reactNative.PermissionsAndroid.request.then$argument_0","_reactNative.PermissionsAndroid.request.then$argument_1","_validatePermissionDescriptior","query","_reactNative.PermissionsAndroid.check.then$argument_0","_reactNative.PermissionsAndroid.check.then$argument_1","request","requestPermission"],"mappings":"AAA;ACmB;EC4B;uBCC;yDCC,+ED,EE,oBF;KDC;GDC;EKK;GLU;EMM;yBJQ;yDKC,sEL,EM,iCN;OIC;GNM;ESM;gCCQ,0CD;GTQ;CDC"},"hasCjsExports":true},"type":"js/module"}]}