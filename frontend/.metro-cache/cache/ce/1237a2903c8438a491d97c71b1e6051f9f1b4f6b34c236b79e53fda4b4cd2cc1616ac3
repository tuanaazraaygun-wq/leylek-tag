{"dependencies":[{"name":"abort-controller/polyfill","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":35,"index":35}}],"key":"Zt445sKJeaqmd3t2yOR0GF+G/L0=","exportNames":["*"],"imports":1}},{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":36},"end":{"line":2,"column":56,"index":92}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}},{"name":"./ServerRegistrationModule","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":93},"end":{"line":3,"column":66,"index":159}}],"key":"OTliNP9lxRDJOLdh5XsGIjq12GA=","exportNames":["*"],"imports":1}},{"name":"./TokenEmitter","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":160},"end":{"line":4,"column":54,"index":214}}],"key":"5j/AymtYsxXL7qVrWh9rwW/7ePw=","exportNames":["*"],"imports":1}},{"name":"./getDevicePushTokenAsync","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":215},"end":{"line":5,"column":64,"index":279}}],"key":"XdMNnezmMyUe2eZLOsw/aE7Mhfk=","exportNames":["*"],"imports":1}},{"name":"./utils/updateDevicePushTokenAsync","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":280},"end":{"line":6,"column":120,"index":400}}],"key":"153jXZ66s6HybIv8YrABEWMrDwY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.setAutoServerRegistrationEnabledAsync=async function(e){if(l?.abort(),!n.default.setRegistrationInfoAsync)throw new t.UnavailabilityError('ServerRegistrationModule','setRegistrationInfoAsync');await n.default.setRegistrationInfoAsync(e?JSON.stringify({isEnabled:e}):null)},_e.__handlePersistedRegistrationInfoAsync=f,r(d[0]);var t=r(d[1]),n=e(r(d[2])),o=r(d[3]),s=e(r(d[4])),c=r(d[5]);let l=null;async function u(e){return l?.abort(),l=new AbortController,await(0,c.updateDevicePushTokenAsync)(l.signal,e)}async function f(e){if(!e)return;let t=null;try{t=JSON.parse(e)}catch(e){console.warn('[expo-notifications] Error encountered while fetching registration information for auto token updates.',e)}if(t?.isEnabled)try{const e=await(0,s.default)();await u(e)}catch(e){console.warn('[expo-notifications] Error encountered while updating server registration with latest device push token.',e)}}n.default.getRegistrationInfoAsync?((0,o.addPushTokenListener)(async e=>{try{const t=await n.default.getRegistrationInfoAsync();if(!t)return;const o=JSON.parse(t);o?.isEnabled&&await u(e)}catch(e){console.warn('[expo-notifications] Error encountered while updating server registration with latest device push token.',e)}}),n.default.getRegistrationInfoAsync().then(f)):console.warn(\"[expo-notifications] Error encountered while fetching auto-registration state, new tokens will not be automatically registered on server.\",new t.UnavailabilityError('ServerRegistrationModule','getRegistrationInfoAsync'))});","lineCount":1,"map":[[1,143,21,0,"_e"],[1,146,21,0,"setAutoServerRegistrationEnabledAsync"],[1,184,21,7,"async"],[1,199,21,60,"enabled"],[1,202,25,4],[1,205,24,4,"lastAbortController"],[1,208,24,25,"abort"],[1,217,25,9,"ServerRegistrationModule"],[1,219,25,33,"default"],[1,227,25,34,"setRegistrationInfoAsync"],[1,252,26,8],[1,258,26,14],[1,262,26,18,"UnavailabilityError"],[1,264,26,37,"UnavailabilityError"],[1,284,26,38],[1,311,26,66],[1,345,28,10,"ServerRegistrationModule"],[1,347,28,34,"default"],[1,355,28,35,"setRegistrationInfoAsync"],[1,380,28,60,"enabled"],[1,382,28,70,"JSON"],[1,387,28,75,"stringify"],[1,397,28,85],[1,398,28,87,"isEnabled"],[1,408,28,98,"enabled"],[1,412,28,111],[1,417,29,0],[1,419,31,0,"_e"],[1,422,31,0,"__handlePersistedRegistrationInfoAsync"],[1,463,1,0,"r"],[1,465,1,0,"d"],[1,467,1,0],[1,471,2,0],[1,475,2,0,"_expoModulesCore"],[1,477,2,0,"r"],[1,479,2,0,"d"],[1,481,2,0],[1,485,3,0,"ServerRegistrationModule"],[1,487,3,0,"_interopDefault"],[1,489,3,0,"r"],[1,491,3,0,"d"],[1,493,3,0],[1,498,4,0,"_TokenEmitter"],[1,500,4,0,"r"],[1,502,4,0,"d"],[1,504,4,0],[1,508,5,0,"getDevicePushTokenAsync"],[1,510,5,0,"_interopDefault"],[1,512,5,0,"r"],[1,514,5,0,"d"],[1,516,5,0],[1,521,6,0,"_utilsUpdateDevicePushTokenAsync"],[1,523,6,0,"r"],[1,525,6,0,"d"],[1,527,6,0],[1,531,7,0],[1,535,7,4,"lastAbortController"],[1,537,7,26],[1,542,8,0,"async"],[1,557,8,15,"updatePushTokenAsync"],[1,559,8,36,"token"],[1,562,12,4],[1,569,10,4,"lastAbortController"],[1,572,10,25,"abort"],[1,580,11,4,"lastAbortController"],[1,582,11,26],[1,586,11,30,"AbortController"],[1,608,12,17],[1,610,12,17,"updateDevicePushTokenAsyncWithSignal"],[1,612,12,53,"updateDevicePushTokenAsync"],[1,640,12,54,"lastAbortController"],[1,642,12,74,"signal"],[1,649,12,82,"token"],[1,651,13,0],[1,652,31,7,"async"],[1,667,31,22,"__handlePersistedRegistrationInfoAsync"],[1,669,31,61,"registrationInfo"],[1,672,32,4],[1,676,32,9,"registrationInfo"],[1,678,34,8],[1,685,36,4],[1,689,36,8,"registration"],[1,691,36,23],[1,696,37,4],[1,700,38,8,"registration"],[1,702,38,23,"JSON"],[1,707,38,28,"parse"],[1,713,38,34,"registrationInfo"],[1,715,39,4],[1,716,40,4],[1,722,40,11,"e"],[1,725,41,8,"console"],[1,733,41,16,"warn"],[1,738,41,21],[1,843,41,127,"e"],[1,845,42,4],[1,846,43,4],[1,849,43,9,"registration"],[1,852,43,23,"isEnabled"],[1,862,47,4],[1,866,50,8],[1,872,50,14,"latestDevicePushToken"],[1,880,50,44],[1,882,50,44,"getDevicePushTokenAsync"],[1,884,50,67,"default"],[1,901,51,14,"updatePushTokenAsync"],[1,903,51,35,"latestDevicePushToken"],[1,905,52,4],[1,906,53,4],[1,912,53,11,"e"],[1,915,54,8,"console"],[1,923,54,16,"warn"],[1,928,54,21],[1,1035,54,129,"e"],[1,1037,55,4],[1,1038,56,0],[1,1039,57,4,"ServerRegistrationModule"],[1,1041,57,28,"default"],[1,1049,57,29,"getRegistrationInfoAsync"],[1,1076,60,4],[1,1078,60,4,"addPushTokenListener"],[1,1080,60,24,"addPushTokenListener"],[1,1102,60,25,"async"],[1,1112,61,8],[1,1116,65,12],[1,1122,65,18,"registrationInfo"],[1,1130,65,43,"ServerRegistrationModule"],[1,1132,65,67,"default"],[1,1140,65,68,"getRegistrationInfoAsync"],[1,1167,66,12],[1,1171,66,17,"registrationInfo"],[1,1173,68,16],[1,1180,70,12],[1,1186,70,18,"registration"],[1,1188,70,33,"JSON"],[1,1193,70,38,"parse"],[1,1199,70,44,"registrationInfo"],[1,1202,71,16,"registration"],[1,1205,71,30,"isEnabled"],[1,1222,74,22,"updatePushTokenAsync"],[1,1224,74,43,"token"],[1,1226,76,8],[1,1227,77,8],[1,1233,77,15,"e"],[1,1236,78,12,"console"],[1,1244,78,20,"warn"],[1,1249,78,25],[1,1356,78,133,"e"],[1,1358,79,8],[1,1362,84,4,"ServerRegistrationModule"],[1,1364,84,28,"default"],[1,1372,84,29,"getRegistrationInfoAsync"],[1,1399,84,56,"then"],[1,1404,84,61,"__handlePersistedRegistrationInfoAsync"],[1,1408,87,4,"console"],[1,1416,87,12,"warn"],[1,1421,87,17],[1,1561,87,158],[1,1565,87,162,"UnavailabilityError"],[1,1567,87,181,"UnavailabilityError"],[1,1587,87,182],[1,1614,87,210],[1,1642,88,1],[1,1645]],"functionMap":{"names":["<global>","updatePushTokenAsync","setAutoServerRegistrationEnabledAsync","__handlePersistedRegistrationInfoAsync","addPushTokenListener$argument_0"],"mappings":"AAA;ACO;CDK;OEQ;CFQ;OGE;CHyB;yBII;KJoB"},"hasCjsExports":false},"type":"js/module"}]}