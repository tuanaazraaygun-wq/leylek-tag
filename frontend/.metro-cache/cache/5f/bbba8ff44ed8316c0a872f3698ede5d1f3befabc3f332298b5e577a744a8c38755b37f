{"dependencies":[{"name":"@ide/backoff","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":58,"index":58}}],"key":"B9a/kyy9aP0LgQkY79+QgjlpSv0=","exportNames":["*"],"imports":1}},{"name":"expo-application","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":59},"end":{"line":2,"column":48,"index":107}}],"key":"aOo/Wkh64aldyNvnMGu1GTRT2ZA=","exportNames":["*"],"imports":1}},{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":108},"end":{"line":3,"column":78,"index":186}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}},{"name":"../ServerRegistrationModule","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":187},"end":{"line":4,"column":67,"index":254}}],"key":"3RTx8KhSs/2ZB3r9U5DaT+SEuk4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,_d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),_e.updateDevicePushTokenAsync=async function(e,o){const c=async t=>{const[c,s]=await Promise.all([f(),d()]),p={deviceId:s.toLowerCase(),development:c,deviceToken:o.data,appId:n.applicationId,type:l(o)};try{const n=await fetch(u,{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify(p),signal:e});n.ok||console.debug('[expo-notifications] Error encountered while updating the device push token with the server:',await n.text()),n.ok||t()}catch(e){if('object'==typeof e&&'AbortError'===e?.name)return;console.warn('[expo-notifications] Error thrown while updating the device push token with the server:',e),t()}};let s=!0;const p=()=>{s=!0};let h=0;const y={maxBackoff:12e4};let w=(0,t.computeNextBackoffInterval)(500,h,y);for(;s&&!e.aborted;)s=!1,await c(p),s&&!e.aborted&&(w=(0,t.computeNextBackoffInterval)(500,h,y),h+=1,await new Promise(e=>setTimeout(e,w)))};var e,t=r(_d[0]),n=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[1])),o=r(_d[2]),c=r(_d[3]),s=(e=c)&&e.__esModule?e:{default:e};const u='https://exp.host/--/api/v2/push/updateDeviceToken';async function d(){try{if(!s.default.getInstallationIdAsync)throw new o.UnavailabilityError('ExpoServerRegistrationModule','getInstallationIdAsync');return await s.default.getInstallationIdAsync()}catch(e){throw new o.CodedError('ERR_NOTIFICATIONS_DEVICE_ID',`Could not fetch the installation ID of the application: ${e}.`)}}function l(e){switch(e.type){case'ios':return'apns';case'android':return'fcm';default:return e.type}}async function f(){return!1}});","lineCount":1,"map":[[1,93,6,0,"_e"],[1,96,6,0,"updateDevicePushTokenAsync"],[1,123,6,7,"async"],[1,138,6,49,"signal"],[1,140,6,57,"token"],[1,143,7,4],[1,149,7,10,"doUpdateDevicePushTokenAsync"],[1,151,7,41,"async"],[1,161,8,8],[1,167,8,15,"development"],[1,169,8,28,"deviceId"],[1,178,8,46,"Promise"],[1,186,8,54,"all"],[1,190,8,58],[1,191,9,12,"shouldUseDevelopmentNotificationService"],[1,195,10,12,"getDeviceIdAsync"],[1,201,12,14,"body"],[1,203,12,21],[1,204,13,12,"deviceId"],[1,213,13,22,"deviceId"],[1,215,13,31,"toLowerCase"],[1,229,14,12,"development"],[1,243,15,12,"deviceToken"],[1,255,15,25,"token"],[1,257,15,31,"data"],[1,262,16,12,"appId"],[1,268,16,19,"Application"],[1,270,16,31,"applicationId"],[1,284,17,12,"type"],[1,289,17,18,"getTypeOfToken"],[1,291,17,33,"token"],[1,295,19,8],[1,299,20,12],[1,305,20,18,"response"],[1,313,20,35,"fetch"],[1,319,20,41,"updateDevicePushTokenUrl"],[1,321,20,67],[1,322,21,16,"method"],[1,329,21,24],[1,336,22,16,"headers"],[1,344,22,25],[1,345,23,20],[1,360,23,36],[1,380,25,16,"body"],[1,385,25,22,"JSON"],[1,390,25,27,"stringify"],[1,400,25,37,"body"],[1,403,26,16,"signal"],[1,414,29,17,"response"],[1,416,29,26,"ok"],[1,420,30,16,"console"],[1,428,30,24,"debug"],[1,434,30,30],[1,535,30,132,"response"],[1,537,30,141,"text"],[1,545,33,17,"response"],[1,547,33,26,"ok"],[1,551,34,16,"retry"],[1,554,36,8],[1,555,37,8],[1,561,37,15,"error"],[1,564,44,12],[1,567,44,33],[1,584,44,23,"error"],[1,587,44,61],[1,602,44,45,"error"],[1,605,44,52,"name"],[1,610,48,16],[1,617,50,12,"console"],[1,625,50,20,"warn"],[1,630,50,25],[1,720,50,116,"error"],[1,723,51,12,"retry"],[1,726,52,8],[1,729,54,4],[1,733,54,8,"shouldTry"],[1,736,54,20],[1,738,55,4],[1,744,55,10,"retry"],[1,746,55,18,"retry"],[1,751,56,8,"shouldTry"],[1,754,56,20],[1,757,58,4],[1,761,58,8,"retriesCount"],[1,763,58,23],[1,765,59,4],[1,771,60,10,"backoffOptions"],[1,773,60,27],[1,774,61,8,"maxBackoff"],[1,785,61,18],[1,791,63,4],[1,795,63,8,"nextBackoffInterval"],[1,798,63,30],[1,800,63,30,"computeNextBackoffInterval"],[1,802,63,56,"computeNextBackoffInterval"],[1,830,59,27],[1,834,63,73,"retriesCount"],[1,836,63,87,"backoffOptions"],[1,839,64,4],[1,844,64,11,"shouldTry"],[1,848,64,25,"signal"],[1,850,64,32,"aborted"],[1,859,66,8,"shouldTry"],[1,862,66,20],[1,870,67,14,"doUpdateDevicePushTokenAsync"],[1,872,67,43,"retry"],[1,875,69,12,"shouldTry"],[1,879,69,26,"signal"],[1,881,69,33,"aborted"],[1,891,70,12,"nextBackoffInterval"],[1,894,70,34],[1,896,70,34,"computeNextBackoffInterval"],[1,898,70,60,"computeNextBackoffInterval"],[1,926,59,27],[1,930,70,77,"retriesCount"],[1,932,70,91,"backoffOptions"],[1,935,71,12,"retriesCount"],[1,938,71,28],[1,946,72,18],[1,950,72,22,"Promise"],[1,958,72,31,"resolve"],[1,961,72,43,"setTimeout"],[1,972,72,54,"resolve"],[1,974,72,63,"nextBackoffInterval"],[1,978,75,0],[1,980,1,0],[1,984],[1,986,1,0,"_ideBackoff"],[1,988,1,0,"r"],[1,990,1,0,"_d"],[1,993,1,0],[1,997,2,0,"Application"],[1,1000],[1,1233,2,0,"_interopNamespace"],[1,1234,2,0,"r"],[1,1236,2,0,"_d"],[1,1239,2,0],[1,1244,3,0,"_expoModulesCore"],[1,1246,3,0,"r"],[1,1248,3,0,"_d"],[1,1251,3,0],[1,1255,4,0,"_ServerRegistrationModule"],[1,1257,4,0,"r"],[1,1259,4,0,"_d"],[1,1262,4,0],[1,1266,4,0,"ServerRegistrationModule"],[1,1269],[1,1271,4,0,"_ServerRegistrationModule"],[1,1275],[1,1302,5,0],[1,1308,5,6,"updateDevicePushTokenUrl"],[1,1310,5,33],[1,1362,77,0,"async"],[1,1377,77,15,"getDeviceIdAsync"],[1,1381,78,4],[1,1385,79,8],[1,1389,79,13,"ServerRegistrationModule"],[1,1391,79,37,"default"],[1,1399,79,38,"getInstallationIdAsync"],[1,1422,80,12],[1,1428,80,18],[1,1432,80,22,"UnavailabilityError"],[1,1434,80,41,"UnavailabilityError"],[1,1454,80,42],[1,1485,80,74],[1,1511,82,8],[1,1524,82,21,"ServerRegistrationModule"],[1,1526,82,45,"default"],[1,1534,82,46,"getInstallationIdAsync"],[1,1558,83,4],[1,1559,84,4],[1,1565,84,11,"e"],[1,1568,85,8],[1,1574,85,14],[1,1578,85,18,"CodedError"],[1,1580,85,28,"CodedError"],[1,1591,85,29],[1,1621,85,60],[1,1680,85,119,"e"],[1,1685,86,4],[1,1686,87,0],[1,1687,89,0],[1,1696,89,9,"getTypeOfToken"],[1,1698,89,24,"devicePushToken"],[1,1701,90,4],[1,1708,90,12,"devicePushToken"],[1,1710,90,28,"type"],[1,1716,91,8],[1,1720,91,13],[1,1726,92,12],[1,1732,92,19],[1,1739,93,8],[1,1743,93,13],[1,1753,94,12],[1,1759,94,19],[1,1765,96,8],[1,1773,97,12],[1,1780,97,19,"devicePushToken"],[1,1782,97,35,"type"],[1,1787,99,0],[1,1788,101,0,"async"],[1,1803,101,15,"shouldUseDevelopmentNotificationService"],[1,1807,113,4],[1,1814,113,11],[1,1815,114,0],[1,1816,114,1],[1,1819]],"functionMap":{"names":["<global>","updateDevicePushTokenAsync","doUpdateDevicePushTokenAsync","retry","Promise$argument_0","getDeviceIdAsync","getTypeOfToken","shouldUseDevelopmentNotificationService"],"mappings":"AAA;OCK;yCCC;KD8C;kBEE;KFE;8BGe,qDH;CDG;AKE;CLU;AME;CNU;AOE;CPa"},"hasCjsExports":false},"type":"js/module"}]}