{"dependencies":[{"name":"react-native-web/dist/exports/NativeModules","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MRft9soElPgDBIQyAww27iefYeU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/index","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"55efhPHw3gz2FoQtoN2yI1VuhbM=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _reactNativeWebDistExportsNativeModules = require(_dependencyMap[0], \"react-native-web/dist/exports/NativeModules\");\n  var NativeModules = _interopDefault(_reactNativeWebDistExportsNativeModules);\n  var _reactNativeWebDistIndex = require(_dependencyMap[1], \"react-native-web/dist/index\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  const {\n    WebRTCModule\n  } = NativeModules.default;\n\n  /**\n   * Type declaration for a permissions descriptor.\n   */\n\n  /**\n   * Class implementing a subset of W3C's Permissions API as defined by:\n   * https://www.w3.org/TR/permissions/\n   */\n  class Permissions {\n    /**\n     * Possible result values for {@link query}, in accordance with:\n     * https://www.w3.org/TR/permissions/#status-of-a-permission\n     */\n    RESULT = {\n      DENIED: 'denied',\n      GRANTED: 'granted',\n      PROMPT: 'prompt'\n    };\n\n    /**\n     * This implementation only supports requesting these permissions, a subset\n     * of: https://www.w3.org/TR/permissions/#permission-registry\n     */\n    VALID_PERMISSIONS = ['camera', 'microphone'];\n    _lastReq = Promise.resolve();\n\n    /**\n     * Helper for requesting Android permissions. On Android only one permission\n     * can be requested at a time (unless the multi-permission API is used,\n     * but we are not using that for symmetry with the W3C API for querying)\n     * so we'll queue them up.\n     *\n     * @param perm - The requested permission from\n     * {@link PermissionsAndroid.PERMISSIONS}\n     * https://facebook.github.io/react-native/docs/permissionsandroid#permissions-that-require-prompting-the-user\n     */\n    _requestPermissionAndroid(perm) {\n      return new Promise(resolve => {\n        _reactNativeWebDistIndex.PermissionsAndroid.request(perm).then(granted => resolve(granted === _reactNativeWebDistIndex.PermissionsAndroid.RESULTS.GRANTED), () => resolve(false));\n      });\n    }\n\n    /**\n     * Validates the given permission descriptor.\n     */\n    _validatePermissionDescriptior(permissionDesc) {\n      if (typeof permissionDesc !== 'object') {\n        throw new TypeError('Argument 1 of Permissions.query is not an object.');\n      }\n      if (typeof permissionDesc.name === 'undefined') {\n        throw new TypeError('Missing required \\'name\\' member of PermissionDescriptor.');\n      }\n      if (this.VALID_PERMISSIONS.indexOf(permissionDesc.name) === -1) {\n        throw new TypeError('\\'name\\' member of PermissionDescriptor is not a valid value for enumeration PermissionName.');\n      }\n    }\n\n    /**\n     * Method for querying the status of a permission, according to:\n     * https://www.w3.org/TR/permissions/#permissions-interface\n     */\n    query(permissionDesc) {\n      try {\n        this._validatePermissionDescriptior(permissionDesc);\n      } catch (e) {\n        return Promise.reject(e);\n      }\n      if (Platform.default.OS === 'android') {\n        const perm = permissionDesc.name === 'camera' ? _reactNativeWebDistIndex.PermissionsAndroid.PERMISSIONS.CAMERA : _reactNativeWebDistIndex.PermissionsAndroid.PERMISSIONS.RECORD_AUDIO;\n        return new Promise(resolve => {\n          _reactNativeWebDistIndex.PermissionsAndroid.check(perm).then(granted => resolve(granted ? this.RESULT.GRANTED : this.RESULT.PROMPT), () => resolve(this.RESULT.PROMPT));\n        });\n      } else if (Platform.default.OS === 'ios' || Platform.default.OS === 'macos') {\n        return WebRTCModule.checkPermission(permissionDesc.name);\n      } else {\n        return Promise.reject(new TypeError('Unsupported platform.'));\n      }\n    }\n\n    /**\n     * Custom method NOT defined by W3C's permissions API, which allows the\n     * caller to request a permission.\n     */\n    request(permissionDesc) {\n      try {\n        this._validatePermissionDescriptior(permissionDesc);\n      } catch (e) {\n        return Promise.reject(e);\n      }\n      if (Platform.default.OS === 'android') {\n        const perm = permissionDesc.name === 'camera' ? _reactNativeWebDistIndex.PermissionsAndroid.PERMISSIONS.CAMERA : _reactNativeWebDistIndex.PermissionsAndroid.PERMISSIONS.RECORD_AUDIO;\n        const requestPermission = () => this._requestPermissionAndroid(perm);\n        this._lastReq = this._lastReq.then(requestPermission, requestPermission);\n        return this._lastReq;\n      } else if (Platform.default.OS === 'ios' || Platform.default.OS === 'macos') {\n        return WebRTCModule.requestPermission(permissionDesc.name);\n      } else {\n        return Promise.reject(new TypeError('Unsupported platform.'));\n      }\n    }\n  }\n  var _default = new Permissions();\n});","lineCount":129,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopDefault"],[7,27,1,13,"e"],[7,28,1,13],[8,4,1,13],[8,11,1,13,"e"],[8,12,1,13],[8,16,1,13,"e"],[8,17,1,13],[8,18,1,13,"__esModule"],[8,28,1,13],[8,31,1,13,"e"],[8,32,1,13],[9,6,1,13,"default"],[9,13,1,13],[9,15,1,13,"e"],[10,4,1,13],[11,2,1,13],[12,2,109,0,"Object"],[12,8,109,0],[12,9,109,0,"defineProperty"],[12,23,109,0],[12,24,109,0,"exports"],[12,31,109,0],[13,4,109,0,"enumerable"],[13,14,109,0],[14,4,109,0,"get"],[14,7,109,0],[14,18,109,0,"get"],[14,19,109,0],[15,6,109,0],[15,13,109,0,"_default"],[15,21,109,0],[16,4,109,0],[17,2,109,0],[18,2,109,33],[18,6,109,33,"_reactNativeWebDistExportsNativeModules"],[18,45,109,33],[18,48,109,33,"require"],[18,55,109,33],[18,56,109,33,"_dependencyMap"],[18,70,109,33],[19,2,109,33],[19,6,109,33,"NativeModules"],[19,19,109,33],[19,22,109,33,"_interopDefault"],[19,37,109,33],[19,38,109,33,"_reactNativeWebDistExportsNativeModules"],[19,77,109,33],[20,2,109,33],[20,6,109,33,"_reactNativeWebDistIndex"],[20,30,109,33],[20,33,109,33,"require"],[20,40,109,33],[20,41,109,33,"_dependencyMap"],[20,55,109,33],[21,2,109,33],[21,6,109,33,"_reactNativeWebDistExportsPlatform"],[21,40,109,33],[21,43,109,33,"require"],[21,50,109,33],[21,51,109,33,"_dependencyMap"],[21,65,109,33],[22,2,109,33],[22,6,109,33,"Platform"],[22,14,109,33],[22,17,109,33,"_interopDefault"],[22,32,109,33],[22,33,109,33,"_reactNativeWebDistExportsPlatform"],[22,67,109,33],[23,2,4,0],[23,8,4,6],[24,4,5,2,"WebRTCModule"],[25,2,6,0],[25,3,6,1],[25,6,6,4,"NativeModules"],[25,19,6,17],[25,20,6,17,"default"],[25,27,6,17],[27,2,8,0],[28,0,9,0],[29,0,10,0],[31,2,12,0],[32,0,13,0],[33,0,14,0],[34,0,15,0],[35,2,16,0],[35,8,16,6,"Permissions"],[35,19,16,17],[35,20,16,18],[36,4,17,2],[37,0,18,0],[38,0,19,0],[39,0,20,0],[40,4,21,2,"RESULT"],[40,10,21,8],[40,13,21,11],[41,6,22,4,"DENIED"],[41,12,22,10],[41,14,22,12],[41,22,22,20],[42,6,23,4,"GRANTED"],[42,13,23,11],[42,15,23,13],[42,24,23,22],[43,6,24,4,"PROMPT"],[43,12,24,10],[43,14,24,12],[44,4,25,2],[44,5,25,3],[46,4,27,2],[47,0,28,0],[48,0,29,0],[49,0,30,0],[50,4,31,2,"VALID_PERMISSIONS"],[50,21,31,19],[50,24,31,22],[50,25,31,23],[50,33,31,31],[50,35,31,33],[50,47,31,45],[50,48,31,46],[51,4,32,2,"_lastReq"],[51,12,32,10],[51,15,32,13,"Promise"],[51,22,32,20],[51,23,32,21,"resolve"],[51,30,32,28],[51,31,32,29],[51,32,32,30],[53,4,34,2],[54,0,35,0],[55,0,36,0],[56,0,37,0],[57,0,38,0],[58,0,39,0],[59,0,40,0],[60,0,41,0],[61,0,42,0],[62,0,43,0],[63,4,44,2,"_requestPermissionAndroid"],[63,29,44,27,"_requestPermissionAndroid"],[63,30,44,28,"perm"],[63,34,44,32],[63,36,44,34],[64,6,45,4],[64,13,45,11],[64,17,45,15,"Promise"],[64,24,45,22],[64,25,45,23,"resolve"],[64,32,45,30],[64,36,45,34],[65,8,46,6,"PermissionsAndroid"],[65,32,46,24],[65,33,46,24,"PermissionsAndroid"],[65,51,46,24],[65,52,46,25,"request"],[65,59,46,32],[65,60,46,33,"perm"],[65,64,46,37],[65,65,46,38],[65,66,46,39,"then"],[65,70,46,43],[65,71,46,44,"granted"],[65,78,46,51],[65,82,46,55,"resolve"],[65,89,46,62],[65,90,46,63,"granted"],[65,97,46,70],[65,102,46,75,"PermissionsAndroid"],[65,126,46,93],[65,127,46,93,"PermissionsAndroid"],[65,145,46,93],[65,146,46,94,"RESULTS"],[65,153,46,101],[65,154,46,102,"GRANTED"],[65,161,46,109],[65,162,46,110],[65,164,46,112],[65,170,46,118,"resolve"],[65,177,46,125],[65,178,46,126],[65,183,46,131],[65,184,46,132],[65,185,46,133],[66,6,47,4],[66,7,47,5],[66,8,47,6],[67,4,48,2],[69,4,50,2],[70,0,51,0],[71,0,52,0],[72,4,53,2,"_validatePermissionDescriptior"],[72,34,53,32,"_validatePermissionDescriptior"],[72,35,53,33,"permissionDesc"],[72,49,53,47],[72,51,53,49],[73,6,54,4],[73,10,54,8],[73,17,54,15,"permissionDesc"],[73,31,54,29],[73,36,54,34],[73,44,54,42],[73,46,54,44],[74,8,55,6],[74,14,55,12],[74,18,55,16,"TypeError"],[74,27,55,25],[74,28,55,26],[74,79,55,77],[74,80,55,78],[75,6,56,4],[76,6,57,4],[76,10,57,8],[76,17,57,15,"permissionDesc"],[76,31,57,29],[76,32,57,30,"name"],[76,36,57,34],[76,41,57,39],[76,52,57,50],[76,54,57,52],[77,8,58,6],[77,14,58,12],[77,18,58,16,"TypeError"],[77,27,58,25],[77,28,58,26],[77,87,58,85],[77,88,58,86],[78,6,59,4],[79,6,60,4],[79,10,60,8],[79,14,60,12],[79,15,60,13,"VALID_PERMISSIONS"],[79,32,60,30],[79,33,60,31,"indexOf"],[79,40,60,38],[79,41,60,39,"permissionDesc"],[79,55,60,53],[79,56,60,54,"name"],[79,60,60,58],[79,61,60,59],[79,66,60,64],[79,67,60,65],[79,68,60,66],[79,70,60,68],[80,8,61,6],[80,14,61,12],[80,18,61,16,"TypeError"],[80,27,61,25],[80,28,61,26],[80,122,61,120],[80,123,61,121],[81,6,62,4],[82,4,63,2],[84,4,65,2],[85,0,66,0],[86,0,67,0],[87,0,68,0],[88,4,69,2,"query"],[88,9,69,7,"query"],[88,10,69,8,"permissionDesc"],[88,24,69,22],[88,26,69,24],[89,6,70,4],[89,10,70,8],[90,8,71,6],[90,12,71,10],[90,13,71,11,"_validatePermissionDescriptior"],[90,43,71,41],[90,44,71,42,"permissionDesc"],[90,58,71,56],[90,59,71,57],[91,6,72,4],[91,7,72,5],[91,8,72,6],[91,15,72,13,"e"],[91,16,72,14],[91,18,72,16],[92,8,73,6],[92,15,73,13,"Promise"],[92,22,73,20],[92,23,73,21,"reject"],[92,29,73,27],[92,30,73,28,"e"],[92,31,73,29],[92,32,73,30],[93,6,74,4],[94,6,75,4],[94,10,75,8,"Platform"],[94,18,75,16],[94,19,75,16,"default"],[94,26,75,16],[94,27,75,17,"OS"],[94,29,75,19],[94,34,75,24],[94,43,75,33],[94,45,75,35],[95,8,76,6],[95,14,76,12,"perm"],[95,18,76,16],[95,21,76,19,"permissionDesc"],[95,35,76,33],[95,36,76,34,"name"],[95,40,76,38],[95,45,76,43],[95,53,76,51],[95,56,76,54,"PermissionsAndroid"],[95,80,76,72],[95,81,76,72,"PermissionsAndroid"],[95,99,76,72],[95,100,76,73,"PERMISSIONS"],[95,111,76,84],[95,112,76,85,"CAMERA"],[95,118,76,91],[95,121,76,94,"PermissionsAndroid"],[95,145,76,112],[95,146,76,112,"PermissionsAndroid"],[95,164,76,112],[95,165,76,113,"PERMISSIONS"],[95,176,76,124],[95,177,76,125,"RECORD_AUDIO"],[95,189,76,137],[96,8,77,6],[96,15,77,13],[96,19,77,17,"Promise"],[96,26,77,24],[96,27,77,25,"resolve"],[96,34,77,32],[96,38,77,36],[97,10,78,8,"PermissionsAndroid"],[97,34,78,26],[97,35,78,26,"PermissionsAndroid"],[97,53,78,26],[97,54,78,27,"check"],[97,59,78,32],[97,60,78,33,"perm"],[97,64,78,37],[97,65,78,38],[97,66,78,39,"then"],[97,70,78,43],[97,71,78,44,"granted"],[97,78,78,51],[97,82,78,55,"resolve"],[97,89,78,62],[97,90,78,63,"granted"],[97,97,78,70],[97,100,78,73],[97,104,78,77],[97,105,78,78,"RESULT"],[97,111,78,84],[97,112,78,85,"GRANTED"],[97,119,78,92],[97,122,78,95],[97,126,78,99],[97,127,78,100,"RESULT"],[97,133,78,106],[97,134,78,107,"PROMPT"],[97,140,78,113],[97,141,78,114],[97,143,78,116],[97,149,78,122,"resolve"],[97,156,78,129],[97,157,78,130],[97,161,78,134],[97,162,78,135,"RESULT"],[97,168,78,141],[97,169,78,142,"PROMPT"],[97,175,78,148],[97,176,78,149],[97,177,78,150],[98,8,79,6],[98,9,79,7],[98,10,79,8],[99,6,80,4],[99,7,80,5],[99,13,80,11],[99,17,80,15,"Platform"],[99,25,80,23],[99,26,80,23,"default"],[99,33,80,23],[99,34,80,24,"OS"],[99,36,80,26],[99,41,80,31],[99,46,80,36],[99,50,80,40,"Platform"],[99,58,80,48],[99,59,80,48,"default"],[99,66,80,48],[99,67,80,49,"OS"],[99,69,80,51],[99,74,80,56],[99,81,80,63],[99,83,80,65],[100,8,81,6],[100,15,81,13,"WebRTCModule"],[100,27,81,25],[100,28,81,26,"checkPermission"],[100,43,81,41],[100,44,81,42,"permissionDesc"],[100,58,81,56],[100,59,81,57,"name"],[100,63,81,61],[100,64,81,62],[101,6,82,4],[101,7,82,5],[101,13,82,11],[102,8,83,6],[102,15,83,13,"Promise"],[102,22,83,20],[102,23,83,21,"reject"],[102,29,83,27],[102,30,83,28],[102,34,83,32,"TypeError"],[102,43,83,41],[102,44,83,42],[102,67,83,65],[102,68,83,66],[102,69,83,67],[103,6,84,4],[104,4,85,2],[106,4,87,2],[107,0,88,0],[108,0,89,0],[109,0,90,0],[110,4,91,2,"request"],[110,11,91,9,"request"],[110,12,91,10,"permissionDesc"],[110,26,91,24],[110,28,91,26],[111,6,92,4],[111,10,92,8],[112,8,93,6],[112,12,93,10],[112,13,93,11,"_validatePermissionDescriptior"],[112,43,93,41],[112,44,93,42,"permissionDesc"],[112,58,93,56],[112,59,93,57],[113,6,94,4],[113,7,94,5],[113,8,94,6],[113,15,94,13,"e"],[113,16,94,14],[113,18,94,16],[114,8,95,6],[114,15,95,13,"Promise"],[114,22,95,20],[114,23,95,21,"reject"],[114,29,95,27],[114,30,95,28,"e"],[114,31,95,29],[114,32,95,30],[115,6,96,4],[116,6,97,4],[116,10,97,8,"Platform"],[116,18,97,16],[116,19,97,16,"default"],[116,26,97,16],[116,27,97,17,"OS"],[116,29,97,19],[116,34,97,24],[116,43,97,33],[116,45,97,35],[117,8,98,6],[117,14,98,12,"perm"],[117,18,98,16],[117,21,98,19,"permissionDesc"],[117,35,98,33],[117,36,98,34,"name"],[117,40,98,38],[117,45,98,43],[117,53,98,51],[117,56,98,54,"PermissionsAndroid"],[117,80,98,72],[117,81,98,72,"PermissionsAndroid"],[117,99,98,72],[117,100,98,73,"PERMISSIONS"],[117,111,98,84],[117,112,98,85,"CAMERA"],[117,118,98,91],[117,121,98,94,"PermissionsAndroid"],[117,145,98,112],[117,146,98,112,"PermissionsAndroid"],[117,164,98,112],[117,165,98,113,"PERMISSIONS"],[117,176,98,124],[117,177,98,125,"RECORD_AUDIO"],[117,189,98,137],[118,8,99,6],[118,14,99,12,"requestPermission"],[118,31,99,29],[118,34,99,32,"requestPermission"],[118,35,99,32],[118,40,99,38],[118,44,99,42],[118,45,99,43,"_requestPermissionAndroid"],[118,70,99,68],[118,71,99,69,"perm"],[118,75,99,73],[118,76,99,74],[119,8,100,6],[119,12,100,10],[119,13,100,11,"_lastReq"],[119,21,100,19],[119,24,100,22],[119,28,100,26],[119,29,100,27,"_lastReq"],[119,37,100,35],[119,38,100,36,"then"],[119,42,100,40],[119,43,100,41,"requestPermission"],[119,60,100,58],[119,62,100,60,"requestPermission"],[119,79,100,77],[119,80,100,78],[120,8,101,6],[120,15,101,13],[120,19,101,17],[120,20,101,18,"_lastReq"],[120,28,101,26],[121,6,102,4],[121,7,102,5],[121,13,102,11],[121,17,102,15,"Platform"],[121,25,102,23],[121,26,102,23,"default"],[121,33,102,23],[121,34,102,24,"OS"],[121,36,102,26],[121,41,102,31],[121,46,102,36],[121,50,102,40,"Platform"],[121,58,102,48],[121,59,102,48,"default"],[121,66,102,48],[121,67,102,49,"OS"],[121,69,102,51],[121,74,102,56],[121,81,102,63],[121,83,102,65],[122,8,103,6],[122,15,103,13,"WebRTCModule"],[122,27,103,25],[122,28,103,26,"requestPermission"],[122,45,103,43],[122,46,103,44,"permissionDesc"],[122,60,103,58],[122,61,103,59,"name"],[122,65,103,63],[122,66,103,64],[123,6,104,4],[123,7,104,5],[123,13,104,11],[124,8,105,6],[124,15,105,13,"Promise"],[124,22,105,20],[124,23,105,21,"reject"],[124,29,105,27],[124,30,105,28],[124,34,105,32,"TypeError"],[124,43,105,41],[124,44,105,42],[124,67,105,65],[124,68,105,66],[124,69,105,67],[125,6,106,4],[126,4,107,2],[127,2,108,0],[128,2,109,0],[128,6,109,0,"_default"],[128,14,109,0],[128,17,109,15],[128,21,109,19,"Permissions"],[128,32,109,30],[128,33,109,31],[128,34,109,32],[129,0,109,33],[129,3]],"functionMap":{"names":["<global>","Permissions","_requestPermissionAndroid","Promise$argument_0","PermissionsAndroid.request.then$argument_0","PermissionsAndroid.request.then$argument_1","_validatePermissionDescriptior","query","PermissionsAndroid.check.then$argument_0","PermissionsAndroid.check.then$argument_1","request","requestPermission"],"mappings":"AAA;ACe;EC4B;uBCC;4CCC,kED,EE,oBF;KDC;GDC;EKK;GLU;EMM;yBJQ;4CKC,sEL,EM,iCN;OIC;GNM;ESM;gCCQ,0CD;GTQ;CDC"},"hasCjsExports":false},"type":"js/module"}]}