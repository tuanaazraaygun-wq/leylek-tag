{"dependencies":[{"name":"./websocket","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":18,"index":112},"end":{"line":4,"column":40,"index":134}}],"key":"Z9tk37I35leCkp6BqPC1DlwoIEg=","exportNames":["*"],"imports":1}},{"name":"stream","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":19,"index":155},"end":{"line":5,"column":36,"index":172}}],"key":"ywjhWBPQUrHXIfwGsbgNg7Szt/A=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]);const{Duplex:t}=r(d[1]);function n(t){t.emit('close')}function o(){!this.destroyed&&this._writableState.finished&&this.destroy()}function s(t){this.removeListener('error',s),this.destroy(),0===this.listenerCount('error')&&this.emit('error',t)}m.exports=function(c,u){let f=!0;const l=new t({...u,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return c.on('message',function(t,n){const o=!n&&l._readableState.objectMode?t.toString():t;l.push(o)||c.pause()}),c.once('error',function(t){l.destroyed||(f=!1,l.destroy(t))}),c.once('close',function(){l.destroyed||l.push(null)}),l._destroy=function(t,o){if(c.readyState===c.CLOSED)return o(t),void process.nextTick(n,l);let s=!1;c.once('error',function(t){s=!0,o(t)}),c.once('close',function(){s||o(t),process.nextTick(n,l)}),f&&c.terminate()},l._final=function(t){c.readyState!==c.CONNECTING?null!==c._socket&&(c._socket._writableState.finished?(t(),l._readableState.endEmitted&&l.destroy()):(c._socket.once('finish',function(){t()}),c.close())):c.once('open',function(){l._final(t)})},l._read=function(){c.isPaused&&c.resume()},l._write=function(t,n,o){c.readyState!==c.CONNECTING?c.send(t,o):c.once('open',function(){l._write(t,n,o)})},l.on('end',o),l.on('error',s),l}});","lineCount":1,"map":[[1,28,2,0],[1,41,4,18,"require"],[1,43,4,25,"d"],[1,45,4,25],[1,49,4,0],[1,55,5,6,"Duplex"],[1,62,5,8,"Duplex"],[1,65,5,19,"require"],[1,67,5,26,"d"],[1,69,5,26],[1,73,13,0],[1,82,13,9,"emitClose"],[1,84,13,19,"stream"],[1,87,14,2,"stream"],[1,89,14,9,"emit"],[1,94,14,14],[1,102,15,0],[1,103,22,0],[1,112,22,9,"duplexOnEnd"],[1,117,23,7,"this"],[1,122,23,12,"destroyed"],[1,133,23,25,"this"],[1,138,23,30,"_writableState"],[1,153,23,45,"finished"],[1,163,24,4,"this"],[1,168,24,9,"destroy"],[1,177,26,0],[1,178,34,0],[1,187,34,9,"duplexOnError"],[1,189,34,23,"err"],[1,192,35,2,"this"],[1,197,35,7,"removeListener"],[1,212,35,22],[1,220,35,31,"duplexOnError"],[1,223,36,2,"this"],[1,228,36,7,"destroy"],[1,238,37,38],[1,242,37,6,"this"],[1,247,37,11,"listenerCount"],[1,261,37,25],[1,271,39,4,"this"],[1,276,39,9,"emit"],[1,281,39,14],[1,289,39,23,"err"],[1,291,41,0],[1,292,161,0,"module"],[1,294,161,7,"exports"],[1,302,51,0],[1,311,51,31,"ws"],[1,313,51,35,"options"],[1,316,52,2],[1,320,52,6,"terminateOnDestroy"],[1,323,52,27],[1,325,54,2],[1,331,54,8,"duplex"],[1,333,54,17],[1,337,54,21,"Duplex"],[1,339,54,28],[1,343,55,7,"options"],[1,345,56,4,"autoDestroy"],[1,358,56,17],[1,360,57,4,"emitClose"],[1,371,57,15],[1,373,58,4,"objectMode"],[1,385,58,16],[1,387,59,4,"writableObjectMode"],[1,407,59,24],[1,411,158,2],[1,418,62,2,"ws"],[1,420,62,5,"on"],[1,423,62,8],[1,433,62,19],[1,442,62,36,"msg"],[1,444,62,41,"isBinary"],[1,447,63,4],[1,453,63,10,"data"],[1,456,64,7,"isBinary"],[1,459,64,19,"duplex"],[1,461,64,26,"_readableState"],[1,476,64,41,"objectMode"],[1,487,64,54,"msg"],[1,489,64,58,"toString"],[1,500,64,71,"msg"],[1,502,66,9,"duplex"],[1,504,66,16,"push"],[1,509,66,21,"data"],[1,513,66,28,"ws"],[1,515,66,31,"pause"],[1,522,67,2],[1,525,69,2,"ws"],[1,527,69,5,"once"],[1,532,69,10],[1,540,69,19],[1,549,69,34,"err"],[1,552,70,8,"duplex"],[1,554,70,15,"destroyed"],[1,566,81,4,"terminateOnDestroy"],[1,569,81,25],[1,571,82,4,"duplex"],[1,573,82,11,"destroy"],[1,581,82,19,"err"],[1,584,83,2],[1,587,85,2,"ws"],[1,589,85,5,"once"],[1,594,85,10],[1,602,85,19],[1,613,86,8,"duplex"],[1,615,86,15,"destroyed"],[1,626,88,4,"duplex"],[1,628,88,11,"push"],[1,633,88,16],[1,638,89,2],[1,641,91,2,"duplex"],[1,643,91,9,"_destroy"],[1,652,91,20],[1,661,91,30,"err"],[1,663,91,35,"callback"],[1,666,92,4],[1,669,92,8,"ws"],[1,671,92,11,"readyState"],[1,684,92,26,"ws"],[1,686,92,29,"CLOSED"],[1,693,95,6],[1,700,93,6,"callback"],[1,702,93,15,"err"],[1,710,94,6,"process"],[1,718,94,14,"nextTick"],[1,727,94,23,"emitClose"],[1,729,94,34,"duplex"],[1,732,98,4],[1,736,98,8,"called"],[1,739,98,17],[1,741,100,4,"ws"],[1,743,100,7,"once"],[1,748,100,12],[1,756,100,21],[1,765,100,36,"err"],[1,768,101,6,"called"],[1,771,101,15],[1,773,102,6,"callback"],[1,775,102,15,"err"],[1,777,103,4],[1,780,105,4,"ws"],[1,782,105,7,"once"],[1,787,105,12],[1,795,105,21],[1,806,106,11,"called"],[1,809,106,19,"callback"],[1,811,106,28,"err"],[1,814,107,6,"process"],[1,822,107,14,"nextTick"],[1,831,107,23,"emitClose"],[1,833,107,34,"duplex"],[1,835,108,4],[1,838,110,8,"terminateOnDestroy"],[1,841,110,28,"ws"],[1,843,110,31,"terminate"],[1,854,111,2],[1,856,113,2,"duplex"],[1,858,113,9,"_final"],[1,865,113,18],[1,874,113,28,"callback"],[1,877,114,8,"ws"],[1,879,114,11,"readyState"],[1,892,114,26,"ws"],[1,894,114,29,"CONNECTING"],[1,905,125,23],[1,912,125,8,"ws"],[1,914,125,11,"_socket"],[1,924,127,8,"ws"],[1,926,127,11,"_socket"],[1,934,127,19,"_writableState"],[1,949,127,34,"finished"],[1,959,128,6,"callback"],[1,963,129,10,"duplex"],[1,965,129,17,"_readableState"],[1,980,129,32,"endEmitted"],[1,992,129,44,"duplex"],[1,994,129,51,"destroy"],[1,1006,131,6,"ws"],[1,1008,131,9,"_socket"],[1,1016,131,17,"once"],[1,1021,131,22],[1,1030,131,32],[1,1041,135,8,"callback"],[1,1044,136,6],[1,1047,137,6,"ws"],[1,1049,137,9,"close"],[1,1059,115,6,"ws"],[1,1061,115,9,"once"],[1,1066,115,14],[1,1073,115,22],[1,1084,116,8,"duplex"],[1,1086,116,15,"_final"],[1,1093,116,22,"callback"],[1,1095,117,6],[1,1097,139,2],[1,1099,141,2,"duplex"],[1,1101,141,9,"_read"],[1,1107,141,17],[1,1118,142,8,"ws"],[1,1120,142,11,"isPaused"],[1,1130,142,21,"ws"],[1,1132,142,24,"resume"],[1,1140,143,2],[1,1142,145,2,"duplex"],[1,1144,145,9,"_write"],[1,1151,145,18],[1,1160,145,28,"chunk"],[1,1162,145,35,"encoding"],[1,1164,145,45,"callback"],[1,1167,146,8,"ws"],[1,1169,146,11,"readyState"],[1,1182,146,26,"ws"],[1,1184,146,29,"CONNECTING"],[1,1195,153,4,"ws"],[1,1197,153,7,"send"],[1,1202,153,12,"chunk"],[1,1204,153,19,"callback"],[1,1207,147,6,"ws"],[1,1209,147,9,"once"],[1,1214,147,14],[1,1221,147,22],[1,1232,148,8,"duplex"],[1,1234,148,15,"_write"],[1,1241,148,22,"chunk"],[1,1243,148,29,"encoding"],[1,1245,148,39,"callback"],[1,1247,149,6],[1,1249,154,2],[1,1251,156,2,"duplex"],[1,1253,156,9,"on"],[1,1256,156,12],[1,1262,156,19,"duplexOnEnd"],[1,1265,157,2,"duplex"],[1,1267,157,9,"on"],[1,1270,157,12],[1,1278,157,21,"duplexOnError"],[1,1281,158,9,"duplex"],[1,1282,159,0],[1,1283,161,39],[1,1286]],"functionMap":{"names":["<global>","emitClose","duplexOnEnd","duplexOnError","createWebSocketStream","message","error","close","duplex._destroy","duplex._final","open","finish","duplex._read","duplex._write"],"mappings":"AAA;ACY;CDE;AEO;CFI;AGQ;CHO;AIU;mBCW;GDK;mBEE;GFc;mBGE;GHI;oBIE;qBFS;KEG;qBDE;KCG;GJG;kBKE;sBCE;ODE;gCEc;OFK;GLG;iBQE;GRE;kBSE;sBHE;OGE;GTK;CJK"},"hasCjsExports":true},"type":"js/module"}]}