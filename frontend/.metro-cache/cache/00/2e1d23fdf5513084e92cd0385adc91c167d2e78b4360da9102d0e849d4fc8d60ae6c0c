{"dependencies":[{"name":"../transport.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"q68AWRvh2qc0QUlp41HSOL9aMUA=","exportNames":["*"],"imports":1}},{"name":"../util.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":48,"index":93}}],"key":"kanFP5HUYYYoVhDf3d7saim1ZXY=","exportNames":["*"],"imports":1}},{"name":"engine.io-parser","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":94},"end":{"line":3,"column":48,"index":142}}],"key":"IB5HY76c7xC+tDEPCV8b/nK76DU=","exportNames":["*"],"imports":1}},{"name":"../globals.node.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":143},"end":{"line":4,"column":76,"index":219}}],"key":"RPWURBgga4vfm2ZRigByneogh6w=","exportNames":["*"],"imports":1}},{"name":"debug","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":220},"end":{"line":5,"column":32,"index":252}}],"key":"Nx7LMnUOZdRc8E6QIb5nvmtJE+4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,_i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"BaseWS\",{enumerable:!0,get:function(){return p}}),Object.defineProperty(_e,\"WS\",{enumerable:!0,get:function(){return u}});var e,t=r(d[0]),s=r(d[1]),o=r(d[2]),i=r(d[3]),n=r(d[4]);const c=(0,((e=n)&&e.__esModule?e:{default:e}).default)(\"engine.io-client:websocket\"),h=\"undefined\"!=typeof navigator&&\"string\"==typeof navigator.product&&\"reactnative\"===navigator.product.toLowerCase();class p extends t.Transport{get name(){return\"websocket\"}doOpen(){const e=this.uri(),t=this.opts.protocols,o=h?{}:(0,s.pick)(this.opts,\"agent\",\"perMessageDeflate\",\"pfx\",\"key\",\"passphrase\",\"cert\",\"ca\",\"ciphers\",\"rejectUnauthorized\",\"localAddress\",\"protocolVersion\",\"origin\",\"maxPayload\",\"family\",\"checkServerIdentity\");this.opts.extraHeaders&&(o.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,o)}catch(e){return this.emitReserved(\"error\",e)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:\"websocket connection closed\",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError(\"websocket error\",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const s=e[t],n=t===e.length-1;(0,o.encodePacket)(s,this.supportsBinary,e=>{try{this.doWrite(s,e)}catch(e){c(\"websocket closed before onclose event\")}n&&(0,i.nextTick)(()=>{this.writable=!0,this.emitReserved(\"drain\")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?\"wss\":\"ws\",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=(0,s.randomString)()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const l=i.globalThisShim.WebSocket||i.globalThisShim.MozWebSocket;class u extends p{createSocket(e,t,s){return h?new l(e,t,s):t?new l(e,t):new l(e)}doWrite(e,t){this.ws.send(t)}}});","lineCount":1,"map":[[1,93,11,0,"Object"],[1,100,11,0,"defineProperty"],[1,115,11,0,"_e"],[1,118,11,0],[1,128,11,0,"enumerable"],[1,140,11,0],[1,142,11,0,"get"],[1,146,11,0],[1,164,11,0,"BaseWS"],[1,165,11,0],[1,169,117,0,"Object"],[1,176,117,0,"defineProperty"],[1,191,117,0,"_e"],[1,194,117,0],[1,200,117,0,"enumerable"],[1,212,117,0],[1,214,117,0,"get"],[1,218,117,0],[1,236,117,0,"WS"],[1,237,117,0],[1,241,1,0],[1,245],[1,247,1,0,"_transportJs"],[1,249,1,0,"r"],[1,251,1,0,"d"],[1,253,1,0],[1,257,2,0,"_utilJs"],[1,259,2,0,"r"],[1,261,2,0,"d"],[1,263,2,0],[1,267,3,0,"_engineIoParser"],[1,269,3,0,"r"],[1,271,3,0,"d"],[1,273,3,0],[1,277,4,0,"_globalsNodeJs"],[1,279,4,0,"r"],[1,281,4,0,"d"],[1,283,4,0],[1,287,5,0,"_debug"],[1,289,5,0,"r"],[1,291,5,0,"d"],[1,293,5,0],[1,297,6,0],[1,303,6,6,"debug"],[1,306,6,14],[1,310],[1,312,5,0,"_debug"],[1,316],[1,344,6,25,"default"],[1,353,6,26],[1,383,8,6,"isReactNative"],[1,385,8,43],[1,405,8,29,"navigator"],[1,416,9,33],[1,433,9,11,"navigator"],[1,443,9,21,"product"],[1,452,10,40],[1,468,10,4,"navigator"],[1,478,10,14,"product"],[1,486,10,22,"toLowerCase"],[1,500,11,7],[1,506,11,13,"BaseWS"],[1,516,11,28,"Transport"],[1,518,11,37,"Transport"],[1,528,12,4],[1,536,12,8,"name"],[1,539,13,8],[1,545,13,15],[1,556,14,4],[1,557,15,4,"doOpen"],[1,566,16,8],[1,572,16,14,"uri"],[1,574,16,20,"this"],[1,579,16,25,"uri"],[1,585,17,14,"protocols"],[1,587,17,26,"this"],[1,592,17,31,"opts"],[1,597,17,36,"protocols"],[1,607,19,14,"opts"],[1,609,19,21,"isReactNative"],[1,611,20,14],[1,612,20,15],[1,615,21,14],[1,617,21,14,"pick"],[1,619,21,18,"pick"],[1,625,21,19,"this"],[1,630,21,24,"opts"],[1,635,21,30],[1,643,21,39],[1,663,21,60],[1,669,21,67],[1,675,21,74],[1,688,21,88],[1,695,21,96],[1,700,21,102],[1,710,21,113],[1,731,21,135],[1,746,21,151],[1,764,21,170],[1,773,21,180],[1,786,21,194],[1,795,21,204],[1,818,22,12,"this"],[1,823,22,17,"opts"],[1,828,22,22,"extraHeaders"],[1,843,23,12,"opts"],[1,845,23,17,"headers"],[1,853,23,27,"this"],[1,858,23,32,"opts"],[1,863,23,37,"extraHeaders"],[1,877,25,8],[1,881,26,12,"this"],[1,886,26,17,"ws"],[1,889,26,22,"this"],[1,894,26,27,"createSocket"],[1,907,26,40,"uri"],[1,909,26,45,"protocols"],[1,911,26,56,"opts"],[1,913,27,8],[1,914,28,8],[1,920,28,15,"err"],[1,923,29,12],[1,930,29,19,"this"],[1,935,29,24,"emitReserved"],[1,948,29,37],[1,956,29,46,"err"],[1,958,30,8],[1,959,31,8,"this"],[1,964,31,13,"ws"],[1,967,31,16,"binaryType"],[1,978,31,29,"this"],[1,983,31,34,"socket"],[1,990,31,41,"binaryType"],[1,1001,32,8,"this"],[1,1006,32,13,"addEventListeners"],[1,1025,33,4],[1,1026,39,4,"addEventListeners"],[1,1046,40,8,"this"],[1,1051,40,13,"ws"],[1,1054,40,16,"onopen"],[1,1061,40,25],[1,1066,41,16,"this"],[1,1071,41,21,"opts"],[1,1076,41,26,"autoUnref"],[1,1087,42,16,"this"],[1,1092,42,21,"ws"],[1,1095,42,24,"_socket"],[1,1103,42,32,"unref"],[1,1111,44,12,"this"],[1,1116,44,17,"onOpen"],[1,1126,46,8,"this"],[1,1131,46,13,"ws"],[1,1134,46,16,"onclose"],[1,1142,46,27,"closeEvent"],[1,1145,46,42,"this"],[1,1150,46,47,"onClose"],[1,1158,46,55],[1,1159,47,12,"description"],[1,1171,47,25],[1,1201,48,12,"context"],[1,1209,48,21,"closeEvent"],[1,1213,50,8,"this"],[1,1218,50,13,"ws"],[1,1221,50,16,"onmessage"],[1,1231,50,29,"ev"],[1,1234,50,36,"this"],[1,1239,50,41,"onData"],[1,1246,50,48,"ev"],[1,1248,50,51,"data"],[1,1254,51,8,"this"],[1,1259,51,13,"ws"],[1,1262,51,16,"onerror"],[1,1270,51,27,"e"],[1,1273,51,33,"this"],[1,1278,51,38,"onError"],[1,1286,51,46],[1,1304,51,65,"e"],[1,1306,52,4],[1,1307,53,4,"write"],[1,1313,53,10,"packets"],[1,1316,54,8,"this"],[1,1321,54,13,"writable"],[1,1331,54,24],[1,1333,57,8],[1,1337,57,13],[1,1341,57,17,"i"],[1,1343,57,21],[1,1345,57,24,"i"],[1,1347,57,28,"packets"],[1,1349,57,36,"length"],[1,1356,57,44,"i"],[1,1360,57,49],[1,1361,58,12],[1,1367,58,18,"packet"],[1,1369,58,27,"packets"],[1,1371,58,35,"i"],[1,1374,59,18,"lastPacket"],[1,1376,59,31,"i"],[1,1380,59,37,"packets"],[1,1382,59,45,"length"],[1,1389,59,54],[1,1392,60,12],[1,1394,60,12,"encodePacket"],[1,1396,60,24,"encodePacket"],[1,1410,60,25,"packet"],[1,1412,60,33,"this"],[1,1417,60,38,"supportsBinary"],[1,1432,60,55,"data"],[1,1436,64,16],[1,1440,65,20,"this"],[1,1445,65,25,"doWrite"],[1,1453,65,33,"packet"],[1,1455,65,41,"data"],[1,1457,66,16],[1,1458,67,16],[1,1464,67,23,"e"],[1,1467,68,20,"debug"],[1,1469,68,26],[1,1509,69,16],[1,1510,70,20,"lastPacket"],[1,1514,73,20],[1,1516,73,20,"nextTick"],[1,1518,73,28,"nextTick"],[1,1528,73,29],[1,1533,74,24,"this"],[1,1538,74,29,"writable"],[1,1548,74,40],[1,1550,75,24,"this"],[1,1555,75,29,"emitReserved"],[1,1568,75,42],[1,1578,76,23,"this"],[1,1583,76,28,"setTimeoutFn"],[1,1598,79,8],[1,1599,80,4],[1,1600,81,4,"doClose"],[1,1615,82,31],[1,1619,82,19,"this"],[1,1624,82,24,"ws"],[1,1629,83,12,"this"],[1,1634,83,17,"ws"],[1,1637,83,20,"onerror"],[1,1645,83,30],[1,1652,84,12,"this"],[1,1657,84,17,"ws"],[1,1660,84,20,"close"],[1,1668,85,12,"this"],[1,1673,85,17,"ws"],[1,1676,85,22],[1,1681,87,4],[1,1682,93,4,"uri"],[1,1688,94,8],[1,1694,94,14,"schema"],[1,1696,94,23,"this"],[1,1701,94,28,"opts"],[1,1706,94,33,"secure"],[1,1713,94,42],[1,1719,94,50],[1,1724,95,14,"query"],[1,1726,95,22,"this"],[1,1731,95,27,"query"],[1,1738,95,36],[1,1739,95,37],[1,1741,104,8],[1,1748,97,12,"this"],[1,1753,97,17,"opts"],[1,1758,97,22,"timestampRequests"],[1,1778,98,12,"query"],[1,1780,98,18,"this"],[1,1785,98,23,"opts"],[1,1790,98,28,"timestampParam"],[1,1807,98,46],[1,1809,98,46,"randomString"],[1,1811,98,58,"randomString"],[1,1828,101,13,"this"],[1,1833,101,18,"supportsBinary"],[1,1850,102,12,"query"],[1,1852,102,18,"b64"],[1,1856,102,24],[1,1859,104,15,"this"],[1,1864,104,20,"createUri"],[1,1874,104,30,"schema"],[1,1876,104,38,"query"],[1,1878,105,4],[1,1880,107,0],[1,1886,107,6,"WebSocketCtor"],[1,1888,107,22,"globalThis"],[1,1890,107,32,"globalThisShim"],[1,1905,107,33,"WebSocket"],[1,1916,107,46,"globalThis"],[1,1918,107,56,"globalThisShim"],[1,1933,107,57,"MozWebSocket"],[1,1946,117,7],[1,1952,117,13,"WS"],[1,1962,117,24,"BaseWS"],[1,1964,118,4,"createSocket"],[1,1977,118,17,"uri"],[1,1979,118,22,"protocols"],[1,1981,118,33,"opts"],[1,1984,119,8],[1,1991,119,16,"isReactNative"],[1,1993,123,14],[1,1997,123,18,"WebSocketCtor"],[1,1999,123,32,"uri"],[1,2001,123,37,"protocols"],[1,2003,123,48,"opts"],[1,2006,120,14,"protocols"],[1,2008,121,18],[1,2012,121,22,"WebSocketCtor"],[1,2014,121,36,"uri"],[1,2016,121,41,"protocols"],[1,2019,122,18],[1,2023,122,22,"WebSocketCtor"],[1,2025,122,36,"uri"],[1,2027,124,4],[1,2028,125,4,"doWrite"],[1,2036,125,12,"_packet"],[1,2038,125,21,"data"],[1,2041,126,8,"this"],[1,2046,126,13,"ws"],[1,2049,126,16,"send"],[1,2054,126,21,"data"],[1,2056,127,4],[1,2058,128,1],[1,2061]],"functionMap":{"names":["<global>","BaseWS","BaseWS#get__name","BaseWS#doOpen","BaseWS#addEventListeners","ws.onopen","ws.onclose","ws.onmessage","ws.onerror","BaseWS#write","encodePacket$argument_2","nextTick$argument_0","BaseWS#doClose","BaseWS#uri","WS","WS#createSocket","WS#doWrite"],"mappings":"AAA;OCU;ICC;KDE;IEC;KFkB;IGM;yBCC;SDK;0BEC;UFG;4BGC,4BH;0BIC,yCJ;KHC;IQC;sDCO;6BCa;qBDG;aDE;KRE;IWC;8BJE,SI;KXI;IYM;KZY;CDC;OcW;ICC;KDM;IEC;KFE;CdC"},"hasCjsExports":false},"type":"js/module"}]}