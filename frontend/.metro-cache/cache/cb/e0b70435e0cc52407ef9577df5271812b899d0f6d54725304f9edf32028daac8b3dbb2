{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/callSuper","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"378KbBHdmndC3iMXZ2Ix8oB3LeE=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/superPropGet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"b4Lel0pEiTM8mvZZX/d05uR+OmU=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/inherits","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"y0uNg4LxF1CLscQChxzgo5dfjvA=","exportNames":["*"],"imports":1}},{"name":"ts-interface-checker","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":54,"index":54}}],"key":"HfhaKjnice1fCpg0Sn7EyYWsNYo=","exportNames":["*"],"imports":1}},{"name":"../impl/IAgoraH265TranscoderImpl","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":206},"end":{"line":5,"column":71,"index":277}}],"key":"/wZtVtLrZslGxg0d4gs8ioI4l6Q=","exportNames":["*"],"imports":1}},{"name":"../ti/IAgoraH265Transcoder-ti","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":279},"end":{"line":7,"column":67,"index":346}}],"key":"IzFj/wYqInHyUKnj3lvX6tqYa4I=","exportNames":["*"],"imports":1}},{"name":"./IrisApiEngine","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":406},"end":{"line":15,"column":25,"index":494}}],"key":"0UpvluOwke2G7Jk/PkNw9qFcW40=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"H265TranscoderInternal\", {\n    enumerable: true,\n    get: function () {\n      return H265TranscoderInternal;\n    }\n  });\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[0]);\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[1]);\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _babelRuntimeHelpersCallSuper = require(_dependencyMap[2]);\n  var _callSuper = _interopDefault(_babelRuntimeHelpersCallSuper);\n  var _babelRuntimeHelpersSuperPropGet = require(_dependencyMap[3]);\n  var _superPropGet = _interopDefault(_babelRuntimeHelpersSuperPropGet);\n  var _babelRuntimeHelpersInherits = require(_dependencyMap[4]);\n  var _inherits = _interopDefault(_babelRuntimeHelpersInherits);\n  var _tsInterfaceChecker = require(_dependencyMap[5]);\n  var _implIAgoraH265TranscoderImpl = require(_dependencyMap[6]);\n  var _tiIAgoraH265TranscoderTi = require(_dependencyMap[7]);\n  var IAgoraH265TranscoderTI = _interopDefault(_tiIAgoraH265TranscoderTi);\n  var _IrisApiEngine = require(_dependencyMap[8]);\n  var checkers = (0, _tsInterfaceChecker.createCheckers)(IAgoraH265TranscoderTI.default);\n  var H265TranscoderInternal = /*#__PURE__*/function (_IH265TranscoderImpl) {\n    function H265TranscoderInternal() {\n      (0, _classCallCheck.default)(this, H265TranscoderInternal);\n      return (0, _callSuper.default)(this, H265TranscoderInternal, arguments);\n    }\n    (0, _inherits.default)(H265TranscoderInternal, _IH265TranscoderImpl);\n    return (0, _createClass.default)(H265TranscoderInternal, [{\n      key: \"release\",\n      value: function release() {\n        H265TranscoderInternal._h265_transcoder_observers = [];\n        this.removeAllListeners();\n      }\n    }, {\n      key: \"_addListenerPreCheck\",\n      value: function _addListenerPreCheck(eventType) {\n        if (checkers.IH265TranscoderObserver?.strictTest({\n          [eventType]: undefined\n        })) {\n          if (H265TranscoderInternal._h265_transcoder_observers.length === 0) {\n            this.registerTranscoderObserver({});\n          }\n        }\n        return true;\n      }\n    }, {\n      key: \"addListener\",\n      value: function addListener(eventType, listener) {\n        this._addListenerPreCheck(eventType);\n        var callback = (eventProcessor, data) => {\n          if (eventProcessor.type(data) !== _IrisApiEngine.EVENT_TYPE.IAgoraH265Transcoder) {\n            return;\n          }\n          eventProcessor.func.map(it => {\n            it({\n              [eventType]: listener\n            }, eventType, data);\n          });\n        };\n        // @ts-ignore\n        listener.agoraCallback = callback;\n        _IrisApiEngine.DeviceEventEmitter.addListener(eventType, callback);\n      }\n    }, {\n      key: \"removeListener\",\n      value: function removeListener(eventType, listener) {\n        _IrisApiEngine.DeviceEventEmitter.removeListener(eventType,\n        // @ts-ignore\n        listener?.agoraCallback ?? listener);\n      }\n    }, {\n      key: \"removeAllListeners\",\n      value: function removeAllListeners(eventType) {\n        _IrisApiEngine.DeviceEventEmitter.removeAllListeners(eventType);\n      }\n    }, {\n      key: \"registerTranscoderObserver\",\n      value: function registerTranscoderObserver(observer) {\n        if (!H265TranscoderInternal._h265_transcoder_observers.find(value => value === observer)) {\n          H265TranscoderInternal._h265_transcoder_observers.push(observer);\n        }\n        return (0, _superPropGet.default)(H265TranscoderInternal, \"registerTranscoderObserver\", this, 3)([observer]);\n      }\n    }, {\n      key: \"unregisterTranscoderObserver\",\n      value: function unregisterTranscoderObserver(observer) {\n        H265TranscoderInternal._h265_transcoder_observers = H265TranscoderInternal._h265_transcoder_observers.filter(value => value !== observer);\n        return (0, _superPropGet.default)(H265TranscoderInternal, \"unregisterTranscoderObserver\", this, 3)([observer]);\n      }\n    }]);\n  }(_implIAgoraH265TranscoderImpl.IH265TranscoderImpl);\n  H265TranscoderInternal._h265_transcoder_observers = [];\n});","lineCount":105,"map":[[12,2,17,0,"Object"],[12,8,17,0],[12,9,17,0,"defineProperty"],[12,23,17,0],[12,24,17,0,"exports"],[12,31,17,0],[13,4,17,0,"enumerable"],[13,14,17,0],[14,4,17,0,"get"],[14,7,17,0],[14,18,17,0,"get"],[14,19,17,0],[15,6,17,0],[15,13,17,0,"H265TranscoderInternal"],[15,35,17,0],[16,4,17,0],[17,2,17,0],[18,2,97,1],[18,6,97,1,"_babelRuntimeHelpersClassCallCheck"],[18,40,97,1],[18,43,97,1,"require"],[18,50,97,1],[18,51,97,1,"_dependencyMap"],[18,65,97,1],[19,2,97,1],[19,6,97,1,"_classCallCheck"],[19,21,97,1],[19,24,97,1,"_interopDefault"],[19,39,97,1],[19,40,97,1,"_babelRuntimeHelpersClassCallCheck"],[19,74,97,1],[20,2,97,1],[20,6,97,1,"_babelRuntimeHelpersCreateClass"],[20,37,97,1],[20,40,97,1,"require"],[20,47,97,1],[20,48,97,1,"_dependencyMap"],[20,62,97,1],[21,2,97,1],[21,6,97,1,"_createClass"],[21,18,97,1],[21,21,97,1,"_interopDefault"],[21,36,97,1],[21,37,97,1,"_babelRuntimeHelpersCreateClass"],[21,68,97,1],[22,2,97,1],[22,6,97,1,"_babelRuntimeHelpersCallSuper"],[22,35,97,1],[22,38,97,1,"require"],[22,45,97,1],[22,46,97,1,"_dependencyMap"],[22,60,97,1],[23,2,97,1],[23,6,97,1,"_callSuper"],[23,16,97,1],[23,19,97,1,"_interopDefault"],[23,34,97,1],[23,35,97,1,"_babelRuntimeHelpersCallSuper"],[23,64,97,1],[24,2,97,1],[24,6,97,1,"_babelRuntimeHelpersSuperPropGet"],[24,38,97,1],[24,41,97,1,"require"],[24,48,97,1],[24,49,97,1,"_dependencyMap"],[24,63,97,1],[25,2,97,1],[25,6,97,1,"_superPropGet"],[25,19,97,1],[25,22,97,1,"_interopDefault"],[25,37,97,1],[25,38,97,1,"_babelRuntimeHelpersSuperPropGet"],[25,70,97,1],[26,2,97,1],[26,6,97,1,"_babelRuntimeHelpersInherits"],[26,34,97,1],[26,37,97,1,"require"],[26,44,97,1],[26,45,97,1,"_dependencyMap"],[26,59,97,1],[27,2,97,1],[27,6,97,1,"_inherits"],[27,15,97,1],[27,18,97,1,"_interopDefault"],[27,33,97,1],[27,34,97,1,"_babelRuntimeHelpersInherits"],[27,62,97,1],[28,2,1,0],[28,6,1,0,"_tsInterfaceChecker"],[28,25,1,0],[28,28,1,0,"require"],[28,35,1,0],[28,36,1,0,"_dependencyMap"],[28,50,1,0],[29,2,5,0],[29,6,5,0,"_implIAgoraH265TranscoderImpl"],[29,35,5,0],[29,38,5,0,"require"],[29,45,5,0],[29,46,5,0,"_dependencyMap"],[29,60,5,0],[30,2,7,0],[30,6,7,0,"_tiIAgoraH265TranscoderTi"],[30,31,7,0],[30,34,7,0,"require"],[30,41,7,0],[30,42,7,0,"_dependencyMap"],[30,56,7,0],[31,2,7,0],[31,6,7,0,"IAgoraH265TranscoderTI"],[31,28,7,0],[31,31,7,0,"_interopDefault"],[31,46,7,0],[31,47,7,0,"_tiIAgoraH265TranscoderTi"],[31,72,7,0],[32,2,11,0],[32,6,11,0,"_IrisApiEngine"],[32,20,11,0],[32,23,11,0,"require"],[32,30,11,0],[32,31,11,0,"_dependencyMap"],[32,45,11,0],[33,2,9,0],[33,6,9,6,"checkers"],[33,14,9,14],[33,17,9,17],[33,21,9,17,"createCheckers"],[33,40,9,31],[33,41,9,31,"createCheckers"],[33,55,9,31],[33,57,9,32,"IAgoraH265TranscoderTI"],[33,79,9,54],[33,80,9,54,"default"],[33,87,9,54],[33,88,9,55],[34,2,9,56],[34,6,17,13,"H265TranscoderInternal"],[34,28,17,35],[34,54,17,35,"_IH265TranscoderImpl"],[34,74,17,35],[35,4,17,35],[35,13,17,35,"H265TranscoderInternal"],[35,36,17,35],[36,6,17,35],[36,10,17,35,"_classCallCheck"],[36,25,17,35],[36,26,17,35,"default"],[36,33,17,35],[36,41,17,35,"H265TranscoderInternal"],[36,63,17,35],[37,6,17,35],[37,17,17,35,"_callSuper"],[37,27,17,35],[37,28,17,35,"default"],[37,35,17,35],[37,43,17,35,"H265TranscoderInternal"],[37,65,17,35],[37,67,17,35,"arguments"],[37,76,17,35],[38,4,17,35],[39,4,17,35],[39,8,17,35,"_inherits"],[39,17,17,35],[39,18,17,35,"default"],[39,25,17,35],[39,27,17,35,"H265TranscoderInternal"],[39,49,17,35],[39,51,17,35,"_IH265TranscoderImpl"],[39,71,17,35],[40,4,17,35],[40,15,17,35,"_createClass"],[40,27,17,35],[40,28,17,35,"default"],[40,35,17,35],[40,37,17,35,"H265TranscoderInternal"],[40,59,17,35],[41,6,17,35,"key"],[41,9,17,35],[42,6,17,35,"value"],[42,11,17,35],[42,13,20,2],[42,22,20,2,"release"],[42,29,20,9,"release"],[42,30,20,9],[42,32,20,12],[43,8,21,4,"H265TranscoderInternal"],[43,30,21,26],[43,31,21,27,"_h265_transcoder_observers"],[43,57,21,53],[43,60,21,56],[43,62,21,58],[44,8,22,4],[44,12,22,8],[44,13,22,9,"removeAllListeners"],[44,31,22,27],[44,32,22,28],[44,33,22,29],[45,6,23,2],[46,4,23,3],[47,6,23,3,"key"],[47,9,23,3],[48,6,23,3,"value"],[48,11,23,3],[48,13,25,2],[48,22,25,2,"_addListenerPreCheck"],[48,42,25,22,"_addListenerPreCheck"],[48,43,26,4,"eventType"],[48,52,26,24],[48,54,27,13],[49,8,28,4],[49,12,29,6,"checkers"],[49,20,29,14],[49,21,29,15,"IH265TranscoderObserver"],[49,44,29,38],[49,46,29,40,"strictTest"],[49,56,29,50],[49,57,29,51],[50,10,30,8],[50,11,30,9,"eventType"],[50,20,30,18],[50,23,30,21,"undefined"],[51,8,31,6],[51,9,31,7],[51,10,31,8],[51,12,32,6],[52,10,33,6],[52,14,33,10,"H265TranscoderInternal"],[52,36,33,32],[52,37,33,33,"_h265_transcoder_observers"],[52,63,33,59],[52,64,33,60,"length"],[52,70,33,66],[52,75,33,71],[52,76,33,72],[52,78,33,74],[53,12,34,8],[53,16,34,12],[53,17,34,13,"registerTranscoderObserver"],[53,43,34,39],[53,44,34,40],[53,45,34,41],[53,46,34,42],[53,47,34,43],[54,10,35,6],[55,8,36,4],[56,8,37,4],[56,15,37,11],[56,19,37,15],[57,6,38,2],[58,4,38,3],[59,6,38,3,"key"],[59,9,38,3],[60,6,38,3,"value"],[60,11,38,3],[60,13,40,2],[60,22,40,2,"addListener"],[60,33,40,13,"addListener"],[60,34,41,4,"eventType"],[60,43,41,24],[60,45,42,4,"listener"],[60,53,42,45],[60,55,43,10],[61,8,44,4],[61,12,44,8],[61,13,44,9,"_addListenerPreCheck"],[61,33,44,29],[61,34,44,30,"eventType"],[61,43,44,39],[61,44,44,40],[62,8,45,4],[62,12,45,10,"callback"],[62,20,45,18],[62,23,45,21,"callback"],[62,24,45,22,"eventProcessor"],[62,38,45,57],[62,40,45,59,"data"],[62,44,45,68],[62,49,45,73],[63,10,46,6],[63,14,46,10,"eventProcessor"],[63,28,46,24],[63,29,46,25,"type"],[63,33,46,29],[63,34,46,30,"data"],[63,38,46,34],[63,39,46,35],[63,44,46,40,"EVENT_TYPE"],[63,58,46,50],[63,59,46,50,"EVENT_TYPE"],[63,69,46,50],[63,70,46,51,"IAgoraH265Transcoder"],[63,90,46,71],[63,92,46,73],[64,12,47,8],[65,10,48,6],[66,10,49,6,"eventProcessor"],[66,24,49,20],[66,25,49,21,"func"],[66,29,49,25],[66,30,49,26,"map"],[66,33,49,29],[66,34,49,31,"it"],[66,36,49,33],[66,40,49,38],[67,12,50,8,"it"],[67,14,50,10],[67,15,50,11],[68,14,50,13],[68,15,50,14,"eventType"],[68,24,50,23],[68,27,50,26,"listener"],[69,12,50,35],[69,13,50,36],[69,15,50,38,"eventType"],[69,24,50,47],[69,26,50,49,"data"],[69,30,50,53],[69,31,50,54],[70,10,51,6],[70,11,51,7],[70,12,51,8],[71,8,52,4],[71,9,52,5],[72,8,53,4],[73,8,54,4,"listener"],[73,16,54,12],[73,17,54,14,"agoraCallback"],[73,30,54,27],[73,33,54,30,"callback"],[73,41,54,38],[74,8,55,4,"DeviceEventEmitter"],[74,22,55,22],[74,23,55,22,"DeviceEventEmitter"],[74,41,55,22],[74,42,55,23,"addListener"],[74,53,55,34],[74,54,55,35,"eventType"],[74,63,55,44],[74,65,55,46,"callback"],[74,73,55,54],[74,74,55,55],[75,6,56,2],[76,4,56,3],[77,6,56,3,"key"],[77,9,56,3],[78,6,56,3,"value"],[78,11,56,3],[78,13,58,2],[78,22,58,2,"removeListener"],[78,36,58,16,"removeListener"],[78,37,59,4,"eventType"],[78,46,59,24],[78,48,60,4,"listener"],[78,56,60,46],[78,58,61,4],[79,8,62,4,"DeviceEventEmitter"],[79,22,62,22],[79,23,62,22,"DeviceEventEmitter"],[79,41,62,22],[79,42,62,23,"removeListener"],[79,56,62,37],[79,57,63,6,"eventType"],[79,66,63,15],[80,8,64,6],[81,8,65,6,"listener"],[81,16,65,14],[81,18,65,16,"agoraCallback"],[81,31,65,29],[81,35,65,33,"listener"],[81,43,66,4],[81,44,66,5],[82,6,67,2],[83,4,67,3],[84,6,67,3,"key"],[84,9,67,3],[85,6,67,3,"value"],[85,11,67,3],[85,13,69,2],[85,22,69,2,"removeAllListeners"],[85,40,69,20,"removeAllListeners"],[85,41,70,4,"eventType"],[85,50,70,25],[85,52,71,4],[86,8,72,4,"DeviceEventEmitter"],[86,22,72,22],[86,23,72,22,"DeviceEventEmitter"],[86,41,72,22],[86,42,72,23,"removeAllListeners"],[86,60,72,41],[86,61,72,42,"eventType"],[86,70,72,51],[86,71,72,52],[87,6,73,2],[88,4,73,3],[89,6,73,3,"key"],[89,9,73,3],[90,6,73,3,"value"],[90,11,73,3],[90,13,75,2],[90,22,75,11,"registerTranscoderObserver"],[90,48,75,37,"registerTranscoderObserver"],[90,49,76,4,"observer"],[90,57,76,37],[90,59,77,12],[91,8,78,4],[91,12,79,6],[91,13,79,7,"H265TranscoderInternal"],[91,35,79,29],[91,36,79,30,"_h265_transcoder_observers"],[91,62,79,56],[91,63,79,57,"find"],[91,67,79,61],[91,68,80,9,"value"],[91,73,80,14],[91,77,80,19,"value"],[91,82,80,24],[91,87,80,29,"observer"],[91,95,81,6],[91,96,81,7],[91,98,82,6],[92,10,83,6,"H265TranscoderInternal"],[92,32,83,28],[92,33,83,29,"_h265_transcoder_observers"],[92,59,83,55],[92,60,83,56,"push"],[92,64,83,60],[92,65,83,61,"observer"],[92,73,83,69],[92,74,83,70],[93,8,84,4],[94,8,85,4],[94,19,85,4,"_superPropGet"],[94,32,85,4],[94,33,85,4,"default"],[94,40,85,4],[94,42,85,4,"H265TranscoderInternal"],[94,64,85,4],[94,106,85,44,"observer"],[94,114,85,52],[95,6,86,2],[96,4,86,3],[97,6,86,3,"key"],[97,9,86,3],[98,6,86,3,"value"],[98,11,86,3],[98,13,88,2],[98,22,88,11,"unregisterTranscoderObserver"],[98,50,88,39,"unregisterTranscoderObserver"],[98,51,89,4,"observer"],[98,59,89,37],[98,61,90,12],[99,8,91,4,"H265TranscoderInternal"],[99,30,91,26],[99,31,91,27,"_h265_transcoder_observers"],[99,57,91,53],[99,60,92,6,"H265TranscoderInternal"],[99,82,92,28],[99,83,92,29,"_h265_transcoder_observers"],[99,109,92,55],[99,110,92,56,"filter"],[99,116,92,62],[99,117,93,9,"value"],[99,122,93,14],[99,126,93,19,"value"],[99,131,93,24],[99,136,93,29,"observer"],[99,144,94,6],[99,145,94,7],[100,8,95,4],[100,19,95,4,"_superPropGet"],[100,32,95,4],[100,33,95,4,"default"],[100,40,95,4],[100,42,95,4,"H265TranscoderInternal"],[100,64,95,4],[100,108,95,46,"observer"],[100,116,95,54],[101,6,96,2],[102,4,96,3],[103,2,96,3],[103,4,17,44,"IH265TranscoderImpl"],[103,33,17,63],[103,34,17,63,"IH265TranscoderImpl"],[103,53,17,63],[104,2,17,13,"H265TranscoderInternal"],[104,24,17,35],[104,25,18,9,"_h265_transcoder_observers"],[104,51,18,35],[104,54,18,65],[104,56,18,67],[105,0,18,67],[105,3]],"functionMap":{"names":["<global>","H265TranscoderInternal","H265TranscoderInternal#release","H265TranscoderInternal#_addListenerPreCheck","H265TranscoderInternal#addListener","callback","eventProcessor.func.map$argument_0","H265TranscoderInternal#removeListener","H265TranscoderInternal#removeAllListeners","H265TranscoderInternal#registerTranscoderObserver","H265TranscoderInternal._h265_transcoder_observers.find$argument_0","H265TranscoderInternal#unregisterTranscoderObserver","H265TranscoderInternal._h265_transcoder_observers.filter$argument_0"],"mappings":"AAA;OCgB;ECG;GDG;EEE;GFa;EGE;qBCK;8BCI;ODE;KDC;GHI;EME;GNS;EOE;GPI;EQE;QCK,6BD;GRM;EUE;QCK,6BD;GVG;CDC"},"hasCjsExports":false},"type":"js/module"}]}