{"dependencies":[{"name":"../transport.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"q68AWRvh2qc0QUlp41HSOL9aMUA=","exportNames":["*"],"imports":1}},{"name":"../globals.node.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":46,"index":91}}],"key":"RPWURBgga4vfm2ZRigByneogh6w=","exportNames":["*"],"imports":1}},{"name":"engine.io-parser","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":92},"end":{"line":3,"column":89,"index":181}}],"key":"IB5HY76c7xC+tDEPCV8b/nK76DU=","exportNames":["*"],"imports":1}},{"name":"debug","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":182},"end":{"line":4,"column":32,"index":214}}],"key":"Nx7LMnUOZdRc8E6QIb5nvmtJE+4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,_i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"WT\",{enumerable:!0,get:function(){return c}});var e,t=r(d[0]),s=r(d[1]),i=r(d[2]),n=r(d[3]);const o=(0,((e=n)&&e.__esModule?e:{default:e}).default)(\"engine.io-client:webtransport\");class c extends t.Transport{get name(){return\"webtransport\"}doOpen(){try{this._transport=new WebTransport(this.createUri(\"https\"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved(\"error\",e)}this._transport.closed.then(()=>{o(\"transport closed gracefully\"),this.onClose()}).catch(e=>{o(\"transport closed due to %s\",e),this.onError(\"webtransport error\",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=(0,i.createPacketDecoderStream)(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(t).getReader(),n=(0,i.createPacketEncoderStream)();n.readable.pipeTo(e.writable),this._writer=n.writable.getWriter();const c=()=>{s.read().then(({done:e,value:t})=>{e?o(\"session is closed\"):(o(\"received chunk: %o\",t),this.onPacket(t),c())}).catch(e=>{o(\"an error occurred while reading: %s\",e)})};c();const h={type:\"open\"};this.query.sid&&(h.data=`{\"sid\":\"${this.query.sid}\"}`),this._writer.write(h).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=e[t],n=t===e.length-1;this._writer.write(i).then(()=>{n&&(0,s.nextTick)(()=>{this.writable=!0,this.emitReserved(\"drain\")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}}});","lineCount":1,"map":[[1,93,14,0,"Object"],[1,100,14,0,"defineProperty"],[1,115,14,0,"_e"],[1,118,14,0],[1,124,14,0,"enumerable"],[1,136,14,0],[1,138,14,0,"get"],[1,142,14,0],[1,160,14,0,"WT"],[1,161,14,0],[1,165,1,0],[1,169],[1,171,1,0,"_transportJs"],[1,173,1,0,"r"],[1,175,1,0,"d"],[1,177,1,0],[1,181,2,0,"_globalsNodeJs"],[1,183,2,0,"r"],[1,185,2,0,"d"],[1,187,2,0],[1,191,3,0,"_engineIoParser"],[1,193,3,0,"r"],[1,195,3,0,"d"],[1,197,3,0],[1,201,4,0,"_debug"],[1,203,4,0,"r"],[1,205,4,0,"d"],[1,207,4,0],[1,211,5,0],[1,217,5,6,"debug"],[1,220,5,14],[1,224],[1,226,4,0,"_debug"],[1,230],[1,258,5,25,"default"],[1,267,5,26],[1,300,14,7],[1,306,14,13,"WT"],[1,316,14,24,"Transport"],[1,318,14,33,"Transport"],[1,328,15,4],[1,336,15,8,"name"],[1,339,16,8],[1,345,16,15],[1,359,17,4],[1,360,18,4,"doOpen"],[1,369,19,8],[1,373,21,12,"this"],[1,378,21,17,"_transport"],[1,389,21,30],[1,393,21,34,"WebTransport"],[1,406,21,47,"this"],[1,411,21,52,"createUri"],[1,421,21,62],[1,430,21,72,"this"],[1,435,21,77,"opts"],[1,440,21,82,"transportOptions"],[1,457,21,99,"this"],[1,462,21,104,"name"],[1,468,22,8],[1,469,23,8],[1,475,23,15,"err"],[1,478,24,12],[1,485,24,19,"this"],[1,490,24,24,"emitReserved"],[1,503,24,37],[1,511,24,46,"err"],[1,513,25,8],[1,514,26,8,"this"],[1,519,26,13,"_transport"],[1,530,26,24,"closed"],[1,537,27,13,"then"],[1,542,27,18],[1,547,28,12,"debug"],[1,549,28,18],[1,580,29,12,"this"],[1,585,29,17,"onClose"],[1,597,31,13,"catch"],[1,603,31,20,"err"],[1,607,32,12,"debug"],[1,609,32,18],[1,638,32,48,"err"],[1,641,33,12,"this"],[1,646,33,17,"onError"],[1,654,33,25],[1,675,33,47,"err"],[1,680,36,8,"this"],[1,685,36,13,"_transport"],[1,696,36,24,"ready"],[1,702,36,30,"then"],[1,707,36,35],[1,712,37,12,"this"],[1,717,37,17,"_transport"],[1,728,37,28,"createBidirectionalStream"],[1,756,37,56,"then"],[1,761,37,62,"stream"],[1,765,38,16],[1,771,38,22,"decoderStream"],[1,774,38,38],[1,776,38,38,"createPacketDecoderStream"],[1,778,38,63,"createPacketDecoderStream"],[1,805,38,64,"Number"],[1,812,38,71,"MAX_SAFE_INTEGER"],[1,829,38,89,"this"],[1,834,38,94,"socket"],[1,841,38,101,"binaryType"],[1,853,39,22,"reader"],[1,855,39,31,"stream"],[1,857,39,38,"readable"],[1,866,39,47,"pipeThrough"],[1,878,39,59,"decoderStream"],[1,881,39,74,"getReader"],[1,893,40,22,"encoderStream"],[1,896,40,38],[1,898,40,38,"createPacketEncoderStream"],[1,900,40,63,"createPacketEncoderStream"],[1,929,41,16,"encoderStream"],[1,931,41,30,"readable"],[1,940,41,39,"pipeTo"],[1,947,41,46,"stream"],[1,949,41,53,"writable"],[1,959,42,16,"this"],[1,964,42,21,"_writer"],[1,972,42,31,"encoderStream"],[1,974,42,45,"writable"],[1,983,42,54,"getWriter"],[1,995,43,16],[1,1001,43,22,"read"],[1,1003,43,29,"read"],[1,1008,44,20,"reader"],[1,1010,45,25,"read"],[1,1017,46,25,"then"],[1,1022,46,30],[1,1024,46,33,"done"],[1,1031,46,39,"value"],[1,1043,47,28,"done"],[1,1045,48,28,"debug"],[1,1047,48,34],[1,1069,51,24,"debug"],[1,1071,51,30],[1,1092,51,52,"value"],[1,1095,52,24,"this"],[1,1100,52,29,"onPacket"],[1,1109,52,38,"value"],[1,1112,53,24,"read"],[1,1119,55,25,"catch"],[1,1125,55,32,"err"],[1,1129,56,24,"debug"],[1,1131,56,30],[1,1169,56,69,"err"],[1,1175,59,16,"read"],[1,1179,60,16],[1,1185,60,22,"packet"],[1,1187,60,31],[1,1188,60,33,"type"],[1,1193,60,39],[1,1201,61,20,"this"],[1,1206,61,25,"query"],[1,1212,61,31,"sid"],[1,1218,62,20,"packet"],[1,1220,62,27,"data"],[1,1225,62,34],[1,1236,62,45,"this"],[1,1241,62,50,"query"],[1,1247,62,56,"sid"],[1,1256,64,16,"this"],[1,1261,64,21,"_writer"],[1,1269,64,29,"write"],[1,1275,64,35,"packet"],[1,1278,64,43,"then"],[1,1283,64,48],[1,1287,64,54,"this"],[1,1292,64,59,"onOpen"],[1,1305,67,4],[1,1306,68,4,"write"],[1,1312,68,10,"packets"],[1,1315,69,8,"this"],[1,1320,69,13,"writable"],[1,1330,69,24],[1,1332,70,8],[1,1336,70,13],[1,1340,70,17,"i"],[1,1342,70,21],[1,1344,70,24,"i"],[1,1346,70,28,"packets"],[1,1348,70,36,"length"],[1,1355,70,44,"i"],[1,1359,70,49],[1,1360,71,12],[1,1366,71,18,"packet"],[1,1368,71,27,"packets"],[1,1370,71,35,"i"],[1,1373,72,18,"lastPacket"],[1,1375,72,31,"i"],[1,1379,72,37,"packets"],[1,1381,72,45,"length"],[1,1388,72,54],[1,1390,73,12,"this"],[1,1395,73,17,"_writer"],[1,1403,73,25,"write"],[1,1409,73,31,"packet"],[1,1412,73,39,"then"],[1,1417,73,44],[1,1422,74,20,"lastPacket"],[1,1426,75,20],[1,1428,75,20,"nextTick"],[1,1430,75,28,"nextTick"],[1,1440,75,29],[1,1445,76,24,"this"],[1,1450,76,29,"writable"],[1,1460,76,40],[1,1462,77,24,"this"],[1,1467,77,29,"emitReserved"],[1,1480,77,42],[1,1490,78,23,"this"],[1,1495,78,28,"setTimeoutFn"],[1,1510,81,8],[1,1511,82,4],[1,1512,83,4,"doClose"],[1,1522,84,8],[1,1526,84,12,"_a"],[1,1528,85,35],[1,1536,85,9,"_a"],[1,1538,85,14,"this"],[1,1543,85,19,"_transport"],[1,1561,85,45,"undefined"],[1,1565,85,43,"_a"],[1,1568,85,68,"_a"],[1,1570,85,71,"close"],[1,1577,86,4],[1,1579,87,1],[1,1582]],"functionMap":{"names":["<global>","WT","WT#get__name","WT#doOpen","_transport.closed.then$argument_0","_transport.closed.then._catch$argument_0","_transport.ready.then$argument_0","_transport.createBidirectionalStream.then$argument_0","read","reader.read.then$argument_0","reader.read.then._catch$argument_0","_writer.write.then$argument_0","WT#write","nextTick$argument_0","WT#doClose"],"mappings":"AAA;OCa;ICC;KDE;IEC;kBCS;SDG;mBEC;SFG;mCGE;6DCC;6BCM;8BCG;qBDQ;+BEC;qBFE;iBDC;gDIM,mBJ;aDC;SHC;KFC;IWC;4CDK;6BEE;qBFG;aCE;KXE;IaC;KbG;CDC"},"hasCjsExports":false},"type":"js/module"}]}