{"dependencies":[{"name":"expo-application","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":48,"index":48}}],"key":"aOo/Wkh64aldyNvnMGu1GTRT2ZA=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":49},"end":{"line":2,"column":39,"index":88}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":89},"end":{"line":3,"column":78,"index":167}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}},{"name":"./DevicePushTokenAutoRegistration.fx","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":168},"end":{"line":4,"column":93,"index":261}}],"key":"ZH5Mz79TLJE/dTuAobGrlWmVWRo=","exportNames":["*"],"imports":1}},{"name":"./ServerRegistrationModule","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":262},"end":{"line":5,"column":66,"index":328}}],"key":"OTliNP9lxRDJOLdh5XsGIjq12GA=","exportNames":["*"],"imports":1}},{"name":"./getDevicePushTokenAsync","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":329},"end":{"line":6,"column":64,"index":393}}],"key":"XdMNnezmMyUe2eZLOsw/aE7Mhfk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,_d){\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return u}});var t=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(o){var n=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,n.get?n:{enumerable:!0,get:function(){return e[o]}})}),t.default=e,t})(r(_d[0])),o=e(r(_d[1])),n=r(_d[2]),c=r(_d[3]),s=e(r(_d[4])),d=e(r(_d[5]));const p='https://exp.host/--/api/v2/';async function u(e={}){const s=e.devicePushToken||await(0,d.default)(),u=e.deviceId||await h(),R=e.projectId||o.default.easConfig?.projectId||o.default.expoConfig?.extra?.eas?.projectId;if(!R)throw new n.CodedError('ERR_NOTIFICATIONS_NO_EXPERIENCE_ID',\"No \\\"projectId\\\" found. If \\\"projectId\\\" can't be inferred from the manifest (for instance, in bare workflow), you have to pass it in yourself.\");const w=e.applicationId||t.applicationId;if(!w)throw new n.CodedError('ERR_NOTIFICATIONS_NO_APPLICATION_ID',\"No \\\"applicationId\\\" found. If it can't be inferred from native configuration by expo-application, you have to pass it in yourself.\");const O=e.type||y(s),_=e.development||await I(),v=e.baseUrl??p,N=e.url??`${v}push/getExpoPushToken`,x={type:O,deviceId:u.toLowerCase(),development:_,appId:w,deviceToken:E(s),projectId:R},T=await fetch(N,{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify(x)}).catch(e=>{throw new n.CodedError('ERR_NOTIFICATIONS_NETWORK_ERROR',`Error encountered while fetching Expo token: ${e}.`)});if(!T.ok){const e=T.statusText||T.status;let t;try{t=await T.text()}catch{}throw new n.CodedError('ERR_NOTIFICATIONS_SERVER_ERROR',`Error encountered while fetching Expo token, expected an OK response, received: ${e} (body: \"${t}\").`)}const b=l(await f(T));try{e.url||e.baseUrl?console.debug(\"[expo-notifications] Since the URL endpoint to register in has been customized in the options, expo-notifications won't try to auto-update the device push token on the server.\"):await(0,c.setAutoServerRegistrationEnabledAsync)(!0)}catch(e){console.warn('[expo-notifications] Could not enable automatically registering new device tokens with the Expo notification service',e)}return{type:'expo',data:b}}async function f(e){try{return await e.json()}catch{try{throw new n.CodedError('ERR_NOTIFICATIONS_SERVER_ERROR',`Expected a JSON response from server when fetching Expo token, received body: ${JSON.stringify(await e.text())}.`)}catch{throw new n.CodedError('ERR_NOTIFICATIONS_SERVER_ERROR',`Expected a JSON response from server when fetching Expo token, received response: ${JSON.stringify(e)}.`)}}}function l(e){if(!e||'object'!=typeof e||!e.data||'object'!=typeof e.data||!e.data.expoPushToken||'string'!=typeof e.data.expoPushToken)throw new n.CodedError('ERR_NOTIFICATIONS_SERVER_ERROR',`Malformed response from server, expected \"{ data: { expoPushToken: string } }\", received: ${JSON.stringify(e,null,2)}.`);return e.data.expoPushToken}async function h(){try{if(!s.default.getInstallationIdAsync)throw new n.UnavailabilityError('ExpoServerRegistrationModule','getInstallationIdAsync');return await s.default.getInstallationIdAsync()}catch(e){throw new n.CodedError('ERR_NOTIF_DEVICE_ID',`Could not have fetched installation ID of the application: ${e}.`)}}function E(e){return'string'==typeof e.data?e.data:JSON.stringify(e.data)}async function I(){return!1}function y(e){switch(e.type){case'ios':return'apns';case'android':return'fcm';default:return e.type}}});","lineCount":1,"map":[[1,144,45,15,"Object"],[1,151,45,15,"defineProperty"],[1,166,45,15,"_e"],[1,169,45,15],[1,180,45,15,"enumerable"],[1,192,45,15],[1,194,45,15,"get"],[1,198,45,15],[1,216,45,15,"getExpoPushTokenAsync"],[1,217,45,15],[1,221,1,0],[1,225,1,0,"Application"],[1,228],[1,461,1,0,"_interopNamespace"],[1,462,1,0,"r"],[1,464,1,0,"_d"],[1,467,1,0],[1,472,2,0,"Constants"],[1,474,2,0,"_interopDefault"],[1,476,2,0,"r"],[1,478,2,0,"_d"],[1,481,2,0],[1,486,3,0,"_expoModulesCore"],[1,488,3,0,"r"],[1,490,3,0,"_d"],[1,493,3,0],[1,497,4,0,"_DevicePushTokenAutoRegistrationFx"],[1,499,4,0,"r"],[1,501,4,0,"_d"],[1,504,4,0],[1,508,5,0,"ServerRegistrationModule"],[1,510,5,0,"_interopDefault"],[1,512,5,0,"r"],[1,514,5,0,"_d"],[1,517,5,0],[1,522,6,0,"getDevicePushTokenAsync"],[1,524,6,0,"_interopDefault"],[1,526,6,0,"r"],[1,528,6,0,"_d"],[1,531,6,0],[1,536,7,0],[1,542,7,6,"productionBaseUrl"],[1,544,7,26],[1,574,45,15,"async"],[1,589,45,30,"getExpoPushTokenAsync"],[1,591,45,52,"options"],[1,593,45,62],[1,594,45,63],[1,597,46,4],[1,603,46,10,"devicePushToken"],[1,605,46,28,"options"],[1,607,46,36,"devicePushToken"],[1,630,46,62],[1,632,46,62,"getDevicePushTokenAsync"],[1,634,46,85,"default"],[1,645,47,10,"deviceId"],[1,647,47,21,"options"],[1,649,47,29,"deviceId"],[1,665,47,48,"getDeviceIdAsync"],[1,669,49,10,"projectId"],[1,671,49,22,"options"],[1,673,49,30,"projectId"],[1,684,50,8,"Constants"],[1,686,50,17,"default"],[1,694,50,18,"easConfig"],[1,705,50,29,"projectId"],[1,716,51,8,"Constants"],[1,718,51,17,"default"],[1,726,51,18,"expoConfig"],[1,738,51,30,"extra"],[1,745,51,37,"eas"],[1,750,51,42,"projectId"],[1,760,52,4],[1,764,52,9,"projectId"],[1,766,53,8],[1,772,53,14],[1,776,53,18,"CodedError"],[1,778,53,28,"CodedError"],[1,789,53,29],[1,826,53,67],[1,973,55,4],[1,979,55,10,"applicationId"],[1,981,55,26,"options"],[1,983,55,34,"applicationId"],[1,998,55,51,"Application"],[1,1000,55,63,"applicationId"],[1,1014,56,4],[1,1018,56,9,"applicationId"],[1,1020,57,8],[1,1026,57,14],[1,1030,57,18,"CodedError"],[1,1032,57,28,"CodedError"],[1,1043,57,29],[1,1081,57,68],[1,1216,59,4],[1,1222,59,10,"type"],[1,1224,59,17,"options"],[1,1226,59,25,"type"],[1,1232,59,33,"getTypeOfToken"],[1,1234,59,48,"devicePushToken"],[1,1237,60,10,"development"],[1,1239,60,24,"options"],[1,1241,60,32,"development"],[1,1260,60,54,"shouldUseDevelopmentNotificationService"],[1,1264,61,10,"baseUrl"],[1,1266,61,20,"options"],[1,1268,61,28,"baseUrl"],[1,1277,61,39,"productionBaseUrl"],[1,1279,62,10,"url"],[1,1281,62,16,"options"],[1,1283,62,24,"url"],[1,1288,62,31],[1,1291,62,34,"baseUrl"],[1,1316,63,10,"body"],[1,1318,63,17],[1,1319,64,8,"type"],[1,1326,65,8,"deviceId"],[1,1335,65,18,"deviceId"],[1,1337,65,27,"toLowerCase"],[1,1351,66,8,"development"],[1,1365,67,8,"appId"],[1,1371,67,15,"applicationId"],[1,1373,68,8,"deviceToken"],[1,1385,68,21,"getDeviceToken"],[1,1387,68,36,"devicePushToken"],[1,1390,69,8,"projectId"],[1,1403,71,10,"response"],[1,1411,71,27,"fetch"],[1,1417,71,33,"url"],[1,1419,71,38],[1,1420,72,8,"method"],[1,1427,72,16],[1,1434,73,8,"headers"],[1,1442,73,17],[1,1443,74,12],[1,1458,74,28],[1,1478,76,8,"body"],[1,1483,76,14,"JSON"],[1,1488,76,19,"stringify"],[1,1498,76,29,"body"],[1,1503,77,7,"catch"],[1,1509,77,14,"error"],[1,1513,78,8],[1,1519,78,14],[1,1523,78,18,"CodedError"],[1,1525,78,28,"CodedError"],[1,1536,78,29],[1,1570,78,64],[1,1618,78,112,"error"],[1,1626,80,4],[1,1630,80,9,"response"],[1,1632,80,18,"ok"],[1,1635,80,22],[1,1636,81,8],[1,1642,81,14,"statusInfo"],[1,1644,81,27,"response"],[1,1646,81,36,"statusText"],[1,1658,81,50,"response"],[1,1660,81,59,"status"],[1,1667,82,8],[1,1671,82,12,"body"],[1,1673,83,8],[1,1677,84,12,"body"],[1,1685,84,25,"response"],[1,1687,84,34,"text"],[1,1693,85,8],[1,1694,86,8],[1,1700,87,12],[1,1701,89,8],[1,1707,89,14],[1,1711,89,18,"CodedError"],[1,1713,89,28,"CodedError"],[1,1724,89,29],[1,1757,89,63],[1,1840,89,146,"statusInfo"],[1,1853,89,168,"body"],[1,1860,90,4],[1,1861,91,4],[1,1867,91,10,"expoPushToken"],[1,1869,91,26,"getExpoPushToken"],[1,1877,91,49,"parseResponse"],[1,1879,91,63,"response"],[1,1883,92,4],[1,1887,93,12,"options"],[1,1889,93,20,"url"],[1,1894,93,27,"options"],[1,1896,93,35,"baseUrl"],[1,1904,94,12,"console"],[1,1912,94,20,"debug"],[1,1918,94,26],[1,2103,97,18],[1,2105,97,18,"setAutoServerRegistrationEnabledAsync"],[1,2107,97,55,"setAutoServerRegistrationEnabledAsync"],[1,2147,97,56],[1,2149,99,4],[1,2150,100,4],[1,2156,100,11,"e"],[1,2159,101,8,"console"],[1,2167,101,16,"warn"],[1,2172,101,21],[1,2291,101,141,"e"],[1,2293,102,4],[1,2294,103,4],[1,2300,103,11],[1,2301,104,8,"type"],[1,2306,104,14],[1,2313,105,8,"data"],[1,2318,105,14,"expoPushToken"],[1,2320,107,0],[1,2321,108,0,"async"],[1,2336,108,15,"parseResponse"],[1,2338,108,29,"response"],[1,2341,109,4],[1,2345,110,8],[1,2358,110,21,"response"],[1,2360,110,30,"json"],[1,2366,111,4],[1,2367,112,4],[1,2373,113,8],[1,2377,114,12],[1,2383,114,18],[1,2387,114,22,"CodedError"],[1,2389,114,32,"CodedError"],[1,2400,114,33],[1,2433,114,67],[1,2514,114,148,"JSON"],[1,2519,114,153,"stringify"],[1,2535,114,169,"response"],[1,2537,114,178,"text"],[1,2548,115,8],[1,2549,116,8],[1,2555,117,12],[1,2561,117,18],[1,2565,117,22,"CodedError"],[1,2567,117,32,"CodedError"],[1,2578,117,33],[1,2611,117,67],[1,2696,117,152,"JSON"],[1,2701,117,157,"stringify"],[1,2711,117,167,"response"],[1,2717,118,8],[1,2718,119,4],[1,2719,120,0],[1,2720,121,0],[1,2729,121,9,"getExpoPushToken"],[1,2731,121,26,"data"],[1,2734,122,4],[1,2738,122,9,"data"],[1,2741,123,26],[1,2758,123,17,"data"],[1,2762,124,9,"data"],[1,2764,124,14,"data"],[1,2770,125,31],[1,2787,125,17,"data"],[1,2789,125,22,"data"],[1,2796,126,9,"data"],[1,2798,126,14,"data"],[1,2803,126,19,"expoPushToken"],[1,2818,127,45],[1,2835,127,17,"data"],[1,2837,127,22,"data"],[1,2842,127,27,"expoPushToken"],[1,2856,128,8],[1,2862,128,14],[1,2866,128,18,"CodedError"],[1,2868,128,28,"CodedError"],[1,2879,128,29],[1,2912,128,63],[1,3005,128,156,"JSON"],[1,3010,128,161,"stringify"],[1,3020,128,171,"data"],[1,3022,128,177],[1,3027,128,183],[1,3034,130,4],[1,3041,130,11,"data"],[1,3043,130,16,"data"],[1,3048,130,21,"expoPushToken"],[1,3061,131,0],[1,3062,133,0,"async"],[1,3077,133,15,"getDeviceIdAsync"],[1,3081,134,4],[1,3085,135,8],[1,3089,135,13,"ServerRegistrationModule"],[1,3091,135,37,"default"],[1,3099,135,38,"getInstallationIdAsync"],[1,3122,136,12],[1,3128,136,18],[1,3132,136,22,"UnavailabilityError"],[1,3134,136,41,"UnavailabilityError"],[1,3154,136,42],[1,3185,136,74],[1,3211,138,8],[1,3224,138,21,"ServerRegistrationModule"],[1,3226,138,45,"default"],[1,3234,138,46,"getInstallationIdAsync"],[1,3258,139,4],[1,3259,140,4],[1,3265,140,11,"e"],[1,3268,141,8],[1,3274,141,14],[1,3278,141,18,"CodedError"],[1,3280,141,28,"CodedError"],[1,3291,141,29],[1,3313,141,52],[1,3375,141,114,"e"],[1,3380,142,4],[1,3381,143,0],[1,3382,144,0],[1,3391,144,9,"getDeviceToken"],[1,3393,144,24,"devicePushToken"],[1,3396,145,4],[1,3402,145,40],[1,3419,145,15,"devicePushToken"],[1,3421,145,31,"data"],[1,3426,146,15,"devicePushToken"],[1,3428,146,31,"data"],[1,3433,148,11,"JSON"],[1,3438,148,16,"stringify"],[1,3448,148,26,"devicePushToken"],[1,3450,148,42,"data"],[1,3455,149,0],[1,3456,151,0,"async"],[1,3471,151,15,"shouldUseDevelopmentNotificationService"],[1,3475,163,4],[1,3482,163,11],[1,3483,164,0],[1,3484,166,0],[1,3493,166,9,"getTypeOfToken"],[1,3495,166,24,"devicePushToken"],[1,3498,167,4],[1,3505,167,12,"devicePushToken"],[1,3507,167,28,"type"],[1,3513,168,8],[1,3517,168,13],[1,3523,169,12],[1,3529,169,19],[1,3536,170,8],[1,3540,170,13],[1,3550,171,12],[1,3556,171,19],[1,3562,173,8],[1,3570,174,12],[1,3577,174,19,"devicePushToken"],[1,3579,174,35,"type"],[1,3584,176,0],[1,3585,176,1],[1,3588]],"functionMap":{"names":["<global>","getExpoPushTokenAsync","fetch._catch$argument_0","parseResponse","getExpoPushToken","getDeviceIdAsync","getDeviceToken","shouldUseDevelopmentNotificationService","getTypeOfToken"],"mappings":"AAA;eC4C;aCgC;KDE;CD4B;AGC;CHY;AIC;CJU;AKE;CLU;AMC;CNK;AOE;CPa;AQE;CRU"},"hasCjsExports":false},"type":"js/module"}]}