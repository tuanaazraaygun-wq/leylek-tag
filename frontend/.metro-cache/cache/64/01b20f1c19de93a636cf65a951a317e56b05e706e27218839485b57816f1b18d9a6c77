{"dependencies":[{"name":"events","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":21,"index":137},"end":{"line":5,"column":38,"index":154}}],"key":"JsYPPZbiyTKGtgYi4nFi37XasmQ=","exportNames":["*"],"imports":1}},{"name":"http","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":13,"index":169},"end":{"line":6,"column":28,"index":184}}],"key":"yxqbxLTX0paWNp+looPTDqSlUdI=","exportNames":["*"],"imports":1}},{"name":"stream","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":19,"index":205},"end":{"line":7,"column":36,"index":222}}],"key":"ywjhWBPQUrHXIfwGsbgNg7Szt/A=","exportNames":["*"],"imports":1}},{"name":"crypto","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":23,"index":247},"end":{"line":8,"column":40,"index":264}}],"key":"qkQHogusroKbdlr5of4h1Mv5pUg=","exportNames":["*"],"imports":1}},{"name":"./extension","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":18,"index":285},"end":{"line":10,"column":40,"index":307}}],"key":"j9VWPq7/dbuGxKTZLdSJJsd9Szs=","exportNames":["*"],"imports":1}},{"name":"./permessage-deflate","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":11,"column":26,"index":335},"end":{"line":11,"column":57,"index":366}}],"key":"Q2Pva8QskhgfG9XaS7nBCDBdIDE=","exportNames":["*"],"imports":1}},{"name":"./subprotocol","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":12,"column":20,"index":388},"end":{"line":12,"column":44,"index":412}}],"key":"KMLfux5H1PsSLbU84XlKzaDVUSA=","exportNames":["*"],"imports":1}},{"name":"./websocket","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":13,"column":18,"index":432},"end":{"line":13,"column":40,"index":454}}],"key":"Z9tk37I35leCkp6BqPC1DlwoIEg=","exportNames":["*"],"imports":1}},{"name":"./constants","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":14,"column":29,"index":485},"end":{"line":14,"column":51,"index":507}}],"key":"3z43bJyk/UB4EKjDCOXTFak09do=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){'use strict';const t=r(d[0]),s=r(d[1]),{Duplex:o}=r(d[2]),{createHash:n}=r(d[3]),c=r(d[4]),h=r(d[5]),l=r(d[6]),p=r(d[7]),{GUID:u,kWebSocket:v}=r(d[8]),f=/^[+/0-9A-Za-z]{22}==$/;function S(t,s){for(const o of Object.keys(s))t.on(o,s[o]);return function(){for(const o of Object.keys(s))t.removeListener(o,s[o])}}function k(t){t._state=2,t.emit('close')}function b(){this.destroy()}function _(t,o,n,c){n=n||s.STATUS_CODES[o],c={Connection:'close','Content-Type':'text/html','Content-Length':Buffer.byteLength(n),...c},t.once('finish',t.destroy),t.end(`HTTP/1.1 ${o} ${s.STATUS_CODES[o]}\\r\\n`+Object.keys(c).map(t=>`${t}: ${c[t]}`).join('\\r\\n')+'\\r\\n\\r\\n'+n)}function w(t,s,o,n,c,h){if(t.listenerCount('wsClientError')){const n=new Error(c);Error.captureStackTrace(n,w),t.emit('wsClientError',n,o,s)}else _(o,n,c,h)}m.exports=class extends t{constructor(t,o){if(super(),null==(t={allowSynchronousEvents:!0,autoPong:!0,maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:p,...t}).port&&!t.server&&!t.noServer||null!=t.port&&(t.server||t.noServer)||t.server&&t.noServer)throw new TypeError(\"One and only one of the \\\"port\\\", \\\"server\\\", or \\\"noServer\\\" options must be specified\");if(null!=t.port?(this._server=s.createServer((t,o)=>{const n=s.STATUS_CODES[426];o.writeHead(426,{'Content-Length':n.length,'Content-Type':'text/plain'}),o.end(n)}),this._server.listen(t.port,t.host,t.backlog,o)):t.server&&(this._server=t.server),this._server){const t=this.emit.bind(this,'connection');this._removeListeners=S(this._server,{listening:this.emit.bind(this,'listening'),error:this.emit.bind(this,'error'),upgrade:(s,o,n)=>{this.handleUpgrade(s,o,n,t)}})}!0===t.perMessageDeflate&&(t.perMessageDeflate={}),t.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=t,this._state=0}address(){if(this.options.noServer)throw new Error('The server is operating in \"noServer\" mode');return this._server?this._server.address():null}close(t){if(2===this._state)return t&&this.once('close',()=>{t(new Error('The server is not running'))}),void process.nextTick(k,this);if(t&&this.once('close',t),1!==this._state)if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(k,this);else{const t=this._server;this._removeListeners(),this._removeListeners=this._server=null,t.close(()=>{k(this)})}}shouldHandle(t){if(this.options.path){const s=t.url.indexOf('?');if((-1!==s?t.url.slice(0,s):t.url)!==this.options.path)return!1}return!0}handleUpgrade(t,s,o,n){s.on('error',b);const p=t.headers['sec-websocket-key'],u=t.headers.upgrade,v=+t.headers['sec-websocket-version'];if('GET'!==t.method){return void w(this,t,s,405,'Invalid HTTP method')}if(void 0===u||'websocket'!==u.toLowerCase()){return void w(this,t,s,400,'Invalid Upgrade header')}if(void 0===p||!f.test(p)){return void w(this,t,s,400,'Missing or invalid Sec-WebSocket-Key header')}if(13!==v&&8!==v){return void w(this,t,s,400,'Missing or invalid Sec-WebSocket-Version header',{'Sec-WebSocket-Version':'13, 8'})}if(!this.shouldHandle(t))return void _(s,400);const S=t.headers['sec-websocket-protocol'];let k=new Set;if(void 0!==S)try{k=l.parse(S)}catch(o){return void w(this,t,s,400,'Invalid Sec-WebSocket-Protocol header')}const y=t.headers['sec-websocket-extensions'],T={};if(this.options.perMessageDeflate&&void 0!==y){const o=new h(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const t=c.parse(y);t[h.extensionName]&&(o.accept(t[h.extensionName]),T[h.extensionName]=o)}catch(o){return void w(this,t,s,400,'Invalid or unacceptable Sec-WebSocket-Extensions header')}}if(this.options.verifyClient){const c={origin:t.headers[\"\"+(8===v?'sec-websocket-origin':'origin')],secure:!(!t.socket.authorized&&!t.socket.encrypted),req:t};if(2===this.options.verifyClient.length)return void this.options.verifyClient(c,(c,h,l,u)=>{if(!c)return _(s,h||401,l,u);this.completeUpgrade(T,p,k,t,s,o,n)});if(!this.options.verifyClient(c))return _(s,401)}this.completeUpgrade(T,p,k,t,s,o,n)}completeUpgrade(t,s,o,l,p,f,S){if(!p.readable||!p.writable)return p.destroy();if(p[v])throw new Error(\"server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration\");if(this._state>0)return _(p,503);const w=['HTTP/1.1 101 Switching Protocols','Upgrade: websocket','Connection: Upgrade',`Sec-WebSocket-Accept: ${n('sha1').update(s+u).digest('base64')}`],y=new this.options.WebSocket(null,void 0,this.options);if(o.size){const t=this.options.handleProtocols?this.options.handleProtocols(o,l):o.values().next().value;t&&(w.push(`Sec-WebSocket-Protocol: ${t}`),y._protocol=t)}if(t[h.extensionName]){const s=t[h.extensionName].params,o=c.format({[h.extensionName]:[s]});w.push(`Sec-WebSocket-Extensions: ${o}`),y._extensions=t}this.emit('headers',w,l),p.write(w.concat('\\r\\n').join('\\r\\n')),p.removeListener('error',b),y.setSocket(p,f,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(y),y.on('close',()=>{this.clients.delete(y),this._shouldEmitClose&&!this.clients.size&&process.nextTick(k,this)})),S(y,l)}}});","lineCount":1,"map":[[1,28,3,0],[1,41,5,0],[1,47,5,6,"EventEmitter"],[1,49,5,21,"require"],[1,51,5,28,"d"],[1,53,5,28],[1,57,6,6,"http"],[1,59,6,13,"require"],[1,61,6,20,"d"],[1,63,6,20],[1,68,7,6,"Duplex"],[1,75,7,8,"Duplex"],[1,78,7,19,"require"],[1,80,7,26,"d"],[1,82,7,26],[1,87,8,6,"createHash"],[1,98,8,8,"createHash"],[1,101,8,23,"require"],[1,103,8,30,"d"],[1,105,8,30],[1,109,10,6,"extension"],[1,111,10,18,"require"],[1,113,10,25,"d"],[1,115,10,25],[1,119,11,6,"PerMessageDeflate"],[1,121,11,26,"require"],[1,123,11,33,"d"],[1,125,11,33],[1,129,12,6,"subprotocol"],[1,131,12,20,"require"],[1,133,12,27,"d"],[1,135,12,27],[1,139,13,6,"WebSocket"],[1,141,13,18,"require"],[1,143,13,25,"d"],[1,145,13,25],[1,150,14,6,"GUID"],[1,155,14,8,"GUID"],[1,157,14,12,"kWebSocket"],[1,168,14,14,"kWebSocket"],[1,171,14,29,"require"],[1,173,14,36,"d"],[1,175,14,36],[1,179,16,6,"keyRegex"],[1,181,16,17],[1,205,454,0],[1,214,454,9,"addListeners"],[1,216,454,22,"server"],[1,218,454,30,"map"],[1,221,455,2],[1,225,455,7],[1,231,455,13,"event"],[1,236,455,22,"Object"],[1,243,455,29,"keys"],[1,248,455,34,"map"],[1,251,455,40,"server"],[1,253,455,47,"on"],[1,256,455,50,"event"],[1,258,455,57,"map"],[1,260,455,61,"event"],[1,264,457,2],[1,271,457,9],[1,282,458,4],[1,286,458,9],[1,292,458,15,"event"],[1,297,458,24,"Object"],[1,304,458,31,"keys"],[1,309,458,36,"map"],[1,312,459,6,"server"],[1,314,459,13,"removeListener"],[1,329,459,28,"event"],[1,331,459,35,"map"],[1,333,459,39,"event"],[1,336,461,2],[1,337,462,0],[1,338,470,0],[1,347,470,9,"emitClose"],[1,349,470,19,"server"],[1,352,471,2,"server"],[1,354,471,9,"_state"],[1,361,20,15],[1,363,472,2,"server"],[1,365,472,9,"emit"],[1,370,472,14],[1,378,473,0],[1,379,480,0],[1,388,480,9,"socketOnError"],[1,392,481,2,"this"],[1,397,481,7,"destroy"],[1,406,482,0],[1,407,493,0],[1,416,493,9,"abortHandshake"],[1,418,493,24,"socket"],[1,420,493,32,"code"],[1,422,493,38,"message"],[1,424,493,47,"headers"],[1,427,502,2,"message"],[1,429,502,12,"message"],[1,432,502,23,"http"],[1,434,502,28,"STATUS_CODES"],[1,447,502,41,"code"],[1,450,503,2,"headers"],[1,452,503,12],[1,453,504,4,"Connection"],[1,464,504,16],[1,472,505,4],[1,487,505,20],[1,499,506,4],[1,516,506,22,"Buffer"],[1,523,506,29,"byteLength"],[1,534,506,40,"message"],[1,540,507,7,"headers"],[1,543,510,2,"socket"],[1,545,510,9,"once"],[1,550,510,14],[1,559,510,24,"socket"],[1,561,510,31,"destroy"],[1,570,512,2,"socket"],[1,572,512,9,"end"],[1,576,513,4],[1,588,513,16,"code"],[1,593,513,24,"http"],[1,595,513,29,"STATUS_CODES"],[1,608,513,42,"code"],[1,617,514,6,"Object"],[1,624,514,13,"keys"],[1,629,514,18,"headers"],[1,632,515,9,"map"],[1,636,515,14,"h"],[1,639,515,20],[1,642,515,23,"h"],[1,648,515,29,"headers"],[1,650,515,37,"h"],[1,656,516,9,"join"],[1,661,516,14],[1,669,517,6],[1,680,518,6,"message"],[1,682,520,0],[1,683,534,0],[1,692,534,9,"abortHandshakeOrEmitwsClientError"],[1,694,535,2,"server"],[1,696,536,2,"req"],[1,698,537,2,"socket"],[1,700,538,2,"code"],[1,702,539,2,"message"],[1,704,540,2,"headers"],[1,707,542,2],[1,710,542,6,"server"],[1,712,542,13,"listenerCount"],[1,726,542,27],[1,743,542,45],[1,744,543,4],[1,750,543,10,"err"],[1,752,543,16],[1,756,543,20,"Error"],[1,762,543,26,"message"],[1,765,544,4,"Error"],[1,771,544,10,"captureStackTrace"],[1,789,544,28,"err"],[1,791,544,33,"abortHandshakeOrEmitwsClientError"],[1,794,546,4,"server"],[1,796,546,11,"emit"],[1,801,546,16],[1,817,546,33,"err"],[1,819,546,38,"socket"],[1,821,546,46,"req"],[1,823,547,2],[1,829,548,4,"abortHandshake"],[1,831,548,19,"socket"],[1,833,548,27,"code"],[1,835,548,33,"message"],[1,837,548,42,"headers"],[1,839,550,0],[1,840,442,0,"module"],[1,842,442,7,"exports"],[1,850,27,0],[1,864,27,30,"EventEmitter"],[1,866,59,2,"constructor"],[1,878,59,14,"options"],[1,880,59,23,"callback"],[1,883,81,4],[1,886,60,4,"super"],[1,894,82,23],[1,901,62,4,"options"],[1,903,62,14],[1,904,63,6,"allowSynchronousEvents"],[1,928,63,30],[1,930,64,6,"autoPong"],[1,940,64,16],[1,942,65,6,"maxPayload"],[1,953,65,16],[1,963,66,6,"skipUTF8Validation"],[1,983,66,26],[1,985,67,6,"perMessageDeflate"],[1,1004,67,25],[1,1006,68,6,"handleProtocols"],[1,1022,68,23],[1,1027,69,6,"clientTracking"],[1,1043,69,22],[1,1045,70,6,"verifyClient"],[1,1058,70,20],[1,1063,71,6,"noServer"],[1,1073,71,16],[1,1075,72,6,"backlog"],[1,1083,72,15],[1,1088,73,6,"server"],[1,1095,73,14],[1,1100,74,6,"host"],[1,1105,74,12],[1,1110,75,6,"path"],[1,1115,75,12],[1,1120,76,6,"port"],[1,1125,76,12],[1,1130,77,6,"WebSocket"],[1,1145,78,9,"options"],[1,1149,82,15,"port"],[1,1156,82,32,"options"],[1,1158,82,40,"server"],[1,1167,82,51,"options"],[1,1169,82,59,"noServer"],[1,1179,83,23],[1,1185,83,7,"options"],[1,1187,83,15,"port"],[1,1194,83,32,"options"],[1,1196,83,40,"server"],[1,1204,83,50,"options"],[1,1206,83,58,"noServer"],[1,1217,84,7,"options"],[1,1219,84,15,"server"],[1,1227,84,25,"options"],[1,1229,84,33,"noServer"],[1,1238,86,6],[1,1244,86,12],[1,1248,86,16,"TypeError"],[1,1258,86,25],[1,1349,112,4],[1,1352,92,24],[1,1358,92,8,"options"],[1,1360,92,16,"port"],[1,1366,93,6,"this"],[1,1371,93,11,"_server"],[1,1379,93,21,"http"],[1,1381,93,26,"createServer"],[1,1394,93,39],[1,1395,93,40,"req"],[1,1397,93,45,"res"],[1,1402,94,8],[1,1408,94,14,"body"],[1,1410,94,21,"http"],[1,1412,94,26,"STATUS_CODES"],[1,1425,94,39],[1,1430,96,8,"res"],[1,1432,96,12,"writeHead"],[1,1442,96,22],[1,1446,96,27],[1,1447,97,10],[1,1464,97,28,"body"],[1,1466,97,33,"length"],[1,1473,98,10],[1,1488,98,26],[1,1503,100,8,"res"],[1,1505,100,12,"end"],[1,1509,100,16,"body"],[1,1514,102,6,"this"],[1,1519,102,11,"_server"],[1,1527,102,19,"listen"],[1,1534,103,8,"options"],[1,1536,103,16,"port"],[1,1541,104,8,"options"],[1,1543,104,16,"host"],[1,1548,105,8,"options"],[1,1550,105,16,"backlog"],[1,1558,106,8,"callback"],[1,1562,108,15,"options"],[1,1564,108,23,"server"],[1,1573,109,6,"this"],[1,1578,109,11,"_server"],[1,1586,109,21,"options"],[1,1588,109,29,"server"],[1,1596,112,8,"this"],[1,1601,112,13,"_server"],[1,1609,112,22],[1,1610,113,6],[1,1616,113,12,"emitConnection"],[1,1618,113,29,"this"],[1,1623,113,34,"emit"],[1,1628,113,39,"bind"],[1,1633,113,44,"this"],[1,1638,113,50],[1,1652,115,6,"this"],[1,1657,115,11,"_removeListeners"],[1,1674,115,30,"addListeners"],[1,1676,115,43,"this"],[1,1681,115,48,"_server"],[1,1689,115,57],[1,1690,116,8,"listening"],[1,1700,116,19,"this"],[1,1705,116,24,"emit"],[1,1710,116,29,"bind"],[1,1715,116,34,"this"],[1,1720,116,40],[1,1733,117,8,"error"],[1,1739,117,15,"this"],[1,1744,117,20,"emit"],[1,1749,117,25,"bind"],[1,1754,117,30,"this"],[1,1759,117,36],[1,1768,118,8,"upgrade"],[1,1776,118,17,"upgrade"],[1,1777,118,18,"req"],[1,1779,118,23,"socket"],[1,1781,118,31,"head"],[1,1786,119,10,"this"],[1,1791,119,15,"handleUpgrade"],[1,1805,119,29,"req"],[1,1807,119,34,"socket"],[1,1809,119,42,"head"],[1,1811,119,48,"emitConnection"],[1,1816,122,4],[1,1818,124,38],[1,1822,124,8,"options"],[1,1824,124,16,"perMessageDeflate"],[1,1844,124,44,"options"],[1,1846,124,52,"perMessageDeflate"],[1,1864,124,72],[1,1865,124,73],[1,1868,125,8,"options"],[1,1870,125,16,"clientTracking"],[1,1887,126,6,"this"],[1,1892,126,11,"clients"],[1,1900,126,21],[1,1904,126,25,"Set"],[1,1908,127,6,"this"],[1,1913,127,11,"_shouldEmitClose"],[1,1931,127,30],[1,1934,130,4,"this"],[1,1939,130,9,"options"],[1,1947,130,19,"options"],[1,1949,131,4,"this"],[1,1954,131,9,"_state"],[1,1961,18,16],[1,1962,132,2],[1,1963,143,2,"address"],[1,1973,144,4],[1,1976,144,8,"this"],[1,1981,144,13,"options"],[1,1989,144,21,"noServer"],[1,1998,145,6],[1,2004,145,12],[1,2008,145,16,"Error"],[1,2014,145,22],[1,2060,148,4],[1,2067,148,9,"this"],[1,2072,148,14,"_server"],[1,2080,149,11,"this"],[1,2085,149,16,"_server"],[1,2093,149,24,"address"],[1,2103,148,30],[1,2107,150,2],[1,2108,159,2,"close"],[1,2114,159,8,"cb"],[1,2117,160,4],[1,2120,20,15],[1,2124,160,8,"this"],[1,2129,160,13,"_state"],[1,2136,168,6],[1,2143,161,10,"cb"],[1,2146,162,8,"this"],[1,2151,162,13,"once"],[1,2156,162,18],[1,2164,162,27],[1,2169,163,10,"cb"],[1,2171,163,13],[1,2175,163,17,"Error"],[1,2181,163,23],[1,2218,167,6,"process"],[1,2226,167,14,"nextTick"],[1,2235,167,23,"emitClose"],[1,2237,167,34,"this"],[1,2243,173,4],[1,2246,171,8,"cb"],[1,2249,171,12,"this"],[1,2254,171,17,"once"],[1,2259,171,22],[1,2267,171,31,"cb"],[1,2270,19,16],[1,2274,173,8,"this"],[1,2279,173,13,"_state"],[1,2286,176,4],[1,2289,174,4,"this"],[1,2294,174,9,"_state"],[1,2301,19,16],[1,2303,176,8,"this"],[1,2308,176,13,"options"],[1,2316,176,21,"noServer"],[1,2326,176,33,"this"],[1,2331,176,38,"options"],[1,2339,176,46,"server"],[1,2346,177,10,"this"],[1,2351,177,15,"_server"],[1,2361,178,8,"this"],[1,2366,178,13,"_removeListeners"],[1,2385,179,8,"this"],[1,2390,179,13,"_removeListeners"],[1,2407,179,32,"this"],[1,2412,179,37,"_server"],[1,2420,179,47],[1,2426,182,10,"this"],[1,2431,182,15,"clients"],[1,2440,183,13,"this"],[1,2445,183,18,"clients"],[1,2453,183,26,"size"],[1,2458,186,10,"this"],[1,2463,186,15,"_shouldEmitClose"],[1,2481,186,34],[1,2483,189,8,"process"],[1,2491,189,16,"nextTick"],[1,2500,189,25,"emitClose"],[1,2502,189,36,"this"],[1,2512,191,11],[1,2513,192,6],[1,2519,192,12,"server"],[1,2521,192,21,"this"],[1,2526,192,26,"_server"],[1,2534,194,6,"this"],[1,2539,194,11,"_removeListeners"],[1,2558,195,6,"this"],[1,2563,195,11,"_removeListeners"],[1,2580,195,30,"this"],[1,2585,195,35,"_server"],[1,2593,195,45],[1,2598,201,6,"server"],[1,2600,201,13,"close"],[1,2606,201,19],[1,2611,202,8,"emitClose"],[1,2613,202,18,"this"],[1,2620,204,4],[1,2621,205,2],[1,2622,214,2,"shouldHandle"],[1,2635,214,15,"req"],[1,2638,215,4],[1,2641,215,8,"this"],[1,2646,215,13,"options"],[1,2654,215,21,"path"],[1,2659,215,27],[1,2660,216,6],[1,2666,216,12,"index"],[1,2668,216,20,"req"],[1,2670,216,24,"url"],[1,2674,216,28,"indexOf"],[1,2682,216,36],[1,2687,219,6],[1,2692,217,28],[1,2696,217,23,"index"],[1,2698,217,38,"req"],[1,2700,217,42,"url"],[1,2704,217,46,"slice"],[1,2710,217,52],[1,2712,217,55,"index"],[1,2715,217,64,"req"],[1,2717,217,68,"url"],[1,2724,219,23,"this"],[1,2729,219,28,"options"],[1,2737,219,36,"path"],[1,2742,219,42],[1,2749,219,49],[1,2750,220,4],[1,2751,222,4],[1,2758,222,11],[1,2759,223,2],[1,2760,234,2,"handleUpgrade"],[1,2774,234,16,"req"],[1,2776,234,21,"socket"],[1,2778,234,29,"head"],[1,2780,234,35,"cb"],[1,2783,235,4,"socket"],[1,2785,235,11,"on"],[1,2788,235,14],[1,2796,235,23,"socketOnError"],[1,2799,237,4],[1,2805,237,10,"key"],[1,2807,237,16,"req"],[1,2809,237,20,"headers"],[1,2817,237,28],[1,2838,238,10,"upgrade"],[1,2840,238,20,"req"],[1,2842,238,24,"headers"],[1,2850,238,32,"upgrade"],[1,2858,239,10,"version"],[1,2861,239,21,"req"],[1,2863,239,25,"headers"],[1,2871,239,33],[1,2896,241,4],[1,2899,241,23],[1,2907,241,8,"req"],[1,2909,241,12,"method"],[1,2916,241,30],[1,2917,244,6],[1,2929,243,6,"abortHandshakeOrEmitwsClientError"],[1,2931,243,40,"this"],[1,2936,243,46,"req"],[1,2938,243,51,"socket"],[1,2940,243,59],[1,2944,242,22],[1,2966,245,4],[1,2967,247,4],[1,2975,247,20,"undefined"],[1,2979,247,8,"upgrade"],[1,2982,247,59],[1,2996,247,33,"upgrade"],[1,2998,247,41,"toLowerCase"],[1,3012,247,72],[1,3013,250,6],[1,3025,249,6,"abortHandshakeOrEmitwsClientError"],[1,3027,249,40,"this"],[1,3032,249,46,"req"],[1,3034,249,51,"socket"],[1,3036,249,59],[1,3040,248,22],[1,3065,251,4],[1,3066,253,4],[1,3074,253,16,"undefined"],[1,3078,253,8,"key"],[1,3082,253,30,"keyRegex"],[1,3084,253,39,"test"],[1,3089,253,44,"key"],[1,3092,253,50],[1,3093,256,6],[1,3105,255,6,"abortHandshakeOrEmitwsClientError"],[1,3107,255,40,"this"],[1,3112,255,46,"req"],[1,3114,255,51,"socket"],[1,3116,255,59],[1,3120,254,22],[1,3166,257,4],[1,3167,259,4],[1,3170,259,20],[1,3175,259,8,"version"],[1,3178,259,38],[1,3182,259,26,"version"],[1,3184,259,41],[1,3185,264,6],[1,3197,261,6,"abortHandshakeOrEmitwsClientError"],[1,3199,261,40,"this"],[1,3204,261,46,"req"],[1,3206,261,51,"socket"],[1,3208,261,59],[1,3212,260,22],[1,3262,261,73],[1,3263,262,8],[1,3287,262,33],[1,3296,265,4],[1,3297,267,4],[1,3301,267,9,"this"],[1,3306,267,14,"shouldHandle"],[1,3319,267,27,"req"],[1,3322,269,6],[1,3334,268,6,"abortHandshake"],[1,3336,268,21,"socket"],[1,3338,268,29],[1,3343,272,4],[1,3349,272,10,"secWebSocketProtocol"],[1,3351,272,33,"req"],[1,3353,272,37,"headers"],[1,3361,272,45],[1,3387,273,4],[1,3391,273,8,"protocols"],[1,3393,273,20],[1,3397,273,24,"Set"],[1,3401,275,4],[1,3409,275,33,"undefined"],[1,3413,275,8,"secWebSocketProtocol"],[1,3415,276,6],[1,3419,277,8,"protocols"],[1,3421,277,20,"subprotocol"],[1,3423,277,32,"parse"],[1,3429,277,38,"secWebSocketProtocol"],[1,3431,278,6],[1,3432,278,8],[1,3438,278,15,"err"],[1,3441,281,8],[1,3453,280,8,"abortHandshakeOrEmitwsClientError"],[1,3455,280,42,"this"],[1,3460,280,48,"req"],[1,3462,280,53,"socket"],[1,3464,280,61],[1,3468,279,24],[1,3508,282,6],[1,3509,285,4],[1,3515,285,10,"secWebSocketExtensions"],[1,3517,285,35,"req"],[1,3519,285,39,"headers"],[1,3527,285,47],[1,3555,286,10,"extensions"],[1,3557,286,23],[1,3558,286,24],[1,3560,288,4],[1,3563,289,6,"this"],[1,3568,289,11,"options"],[1,3576,289,19,"perMessageDeflate"],[1,3600,290,33,"undefined"],[1,3604,290,6,"secWebSocketExtensions"],[1,3606,291,6],[1,3607,292,6],[1,3613,292,12,"perMessageDeflate"],[1,3615,292,32],[1,3619,292,36,"PerMessageDeflate"],[1,3621,293,8,"this"],[1,3626,293,13,"options"],[1,3634,293,21,"perMessageDeflate"],[1,3653,294,8],[1,3655,295,8,"this"],[1,3660,295,13,"options"],[1,3668,295,21,"maxPayload"],[1,3680,298,6],[1,3684,299,8],[1,3690,299,14,"offers"],[1,3692,299,23,"extension"],[1,3694,299,33,"parse"],[1,3700,299,39,"secWebSocketExtensions"],[1,3703,301,12,"offers"],[1,3705,301,19,"PerMessageDeflate"],[1,3707,301,37,"extensionName"],[1,3724,302,10,"perMessageDeflate"],[1,3726,302,28,"accept"],[1,3733,302,35,"offers"],[1,3735,302,42,"PerMessageDeflate"],[1,3737,302,60,"extensionName"],[1,3753,303,10,"extensions"],[1,3755,303,21,"PerMessageDeflate"],[1,3757,303,39,"extensionName"],[1,3772,303,56,"perMessageDeflate"],[1,3774,305,6],[1,3775,305,8],[1,3781,305,15,"err"],[1,3784,309,8],[1,3796,308,8,"abortHandshakeOrEmitwsClientError"],[1,3798,308,42,"this"],[1,3803,308,48,"req"],[1,3805,308,53,"socket"],[1,3807,308,61],[1,3811,307,10],[1,3869,310,6],[1,3870,311,4],[1,3871,316,4],[1,3874,316,8,"this"],[1,3879,316,13,"options"],[1,3887,316,21,"verifyClient"],[1,3900,316,35],[1,3901,317,6],[1,3907,317,12,"info"],[1,3909,317,19],[1,3910,318,8,"origin"],[1,3917,319,10,"req"],[1,3919,319,14,"headers"],[1,3927,319,22],[1,3931,319,37],[1,3935,319,25,"version"],[1,3937,319,41],[1,3960,319,66],[1,3971,320,8,"secure"],[1,3981,320,19,"req"],[1,3983,320,23,"socket"],[1,3990,320,30,"authorized"],[1,4003,320,44,"req"],[1,4005,320,48,"socket"],[1,4012,320,55,"encrypted"],[1,4023,321,8,"req"],[1,4030,324,6],[1,4033,324,47],[1,4037,324,10,"this"],[1,4042,324,15,"options"],[1,4050,324,23,"verifyClient"],[1,4063,324,36,"length"],[1,4070,340,8],[1,4082,325,8,"this"],[1,4087,325,13,"options"],[1,4095,325,21,"verifyClient"],[1,4108,325,34,"info"],[1,4110,325,40],[1,4111,325,41,"verified"],[1,4113,325,51,"code"],[1,4115,325,57,"message"],[1,4117,325,66,"headers"],[1,4122,326,10],[1,4126,326,15,"verified"],[1,4128,327,12],[1,4135,327,19,"abortHandshake"],[1,4137,327,34,"socket"],[1,4139,327,42,"code"],[1,4142,327,50],[1,4146,327,55,"message"],[1,4148,327,64,"headers"],[1,4151,330,10,"this"],[1,4156,330,15,"completeUpgrade"],[1,4172,331,12,"extensions"],[1,4174,332,12,"key"],[1,4176,333,12,"protocols"],[1,4178,334,12,"req"],[1,4180,335,12,"socket"],[1,4182,336,12,"head"],[1,4184,337,12,"cb"],[1,4189,343,6],[1,4193,343,11,"this"],[1,4198,343,16,"options"],[1,4206,343,24,"verifyClient"],[1,4219,343,37,"info"],[1,4222,343,44],[1,4229,343,51,"abortHandshake"],[1,4231,343,66,"socket"],[1,4233,343,74],[1,4237,344,4],[1,4238,346,4,"this"],[1,4243,346,9,"completeUpgrade"],[1,4259,346,25,"extensions"],[1,4261,346,37,"key"],[1,4263,346,42,"protocols"],[1,4265,346,53,"req"],[1,4267,346,58,"socket"],[1,4269,346,66,"head"],[1,4271,346,72,"cb"],[1,4273,347,2],[1,4274,362,2,"completeUpgrade"],[1,4290,362,18,"extensions"],[1,4292,362,30,"key"],[1,4294,362,35,"protocols"],[1,4296,362,46,"req"],[1,4298,362,51,"socket"],[1,4300,362,59,"head"],[1,4302,362,65,"cb"],[1,4305,366,4],[1,4309,366,9,"socket"],[1,4311,366,16,"readable"],[1,4322,366,29,"socket"],[1,4324,366,36,"writable"],[1,4333,366,46],[1,4340,366,53,"socket"],[1,4342,366,60,"destroy"],[1,4352,368,4],[1,4355,368,8,"socket"],[1,4357,368,15,"kWebSocket"],[1,4360,369,6],[1,4366,369,12],[1,4370,369,16,"Error"],[1,4376,369,21],[1,4485,375,4],[1,4488,375,8,"this"],[1,4493,375,13,"_state"],[1,4500,18,16],[1,4502,375,31],[1,4509,375,38,"abortHandshake"],[1,4511,375,53,"socket"],[1,4513,375,61],[1,4518,377,4],[1,4524,381,10,"headers"],[1,4526,381,20],[1,4527,382,6],[1,4562,383,6],[1,4583,384,6],[1,4605,385,6],[1,4630,377,19,"createHash"],[1,4632,377,30],[1,4640,378,7,"update"],[1,4647,378,14,"key"],[1,4649,378,20,"GUID"],[1,4652,379,7,"digest"],[1,4659,379,14],[1,4672,388,10,"ws"],[1,4674,388,15],[1,4678,388,19,"this"],[1,4683,388,24,"options"],[1,4691,388,32,"WebSocket"],[1,4701,388,42],[1,4711,388,48,"undefined"],[1,4713,388,59,"this"],[1,4718,388,64,"options"],[1,4727,390,4],[1,4730,390,8,"protocols"],[1,4732,390,18,"size"],[1,4737,390,24],[1,4738,394,6],[1,4744,394,12,"protocol"],[1,4746,394,23,"this"],[1,4751,394,28,"options"],[1,4759,394,36,"handleProtocols"],[1,4775,395,10,"this"],[1,4780,395,15,"options"],[1,4788,395,23,"handleProtocols"],[1,4804,395,39,"protocols"],[1,4806,395,50,"req"],[1,4809,396,10,"protocols"],[1,4811,396,20,"values"],[1,4820,396,29,"next"],[1,4827,396,36,"value"],[1,4833,398,10,"protocol"],[1,4837,399,8,"headers"],[1,4839,399,16,"push"],[1,4844,399,21],[1,4871,399,48,"protocol"],[1,4876,400,8,"ws"],[1,4878,400,11,"_protocol"],[1,4888,400,23,"protocol"],[1,4890,402,4],[1,4891,404,4],[1,4894,404,8,"extensions"],[1,4896,404,19,"PerMessageDeflate"],[1,4898,404,37,"extensionName"],[1,4913,404,53],[1,4914,405,6],[1,4920,405,12,"params"],[1,4922,405,21,"extensions"],[1,4924,405,32,"PerMessageDeflate"],[1,4926,405,50,"extensionName"],[1,4941,405,65,"params"],[1,4948,406,12,"value"],[1,4950,406,20,"extension"],[1,4952,406,30,"format"],[1,4959,406,37],[1,4960,407,8],[1,4961,407,9,"PerMessageDeflate"],[1,4963,407,27,"extensionName"],[1,4978,407,43],[1,4979,407,44,"params"],[1,4984,409,6,"headers"],[1,4986,409,14,"push"],[1,4991,409,19],[1,5020,409,48,"value"],[1,5025,410,6,"ws"],[1,5027,410,9,"_extensions"],[1,5039,410,23,"extensions"],[1,5040,411,4],[1,5041,416,4,"this"],[1,5046,416,9,"emit"],[1,5051,416,14],[1,5061,416,25,"headers"],[1,5063,416,34,"req"],[1,5066,418,4,"socket"],[1,5068,418,11,"write"],[1,5074,418,17,"headers"],[1,5076,418,25,"concat"],[1,5083,418,32],[1,5091,418,40,"join"],[1,5096,418,45],[1,5105,419,4,"socket"],[1,5107,419,11,"removeListener"],[1,5122,419,26],[1,5130,419,35,"socketOnError"],[1,5133,421,4,"ws"],[1,5135,421,7,"setSocket"],[1,5145,421,17,"socket"],[1,5147,421,25,"head"],[1,5149,421,31],[1,5150,422,6,"allowSynchronousEvents"],[1,5173,422,30,"this"],[1,5178,422,35,"options"],[1,5186,422,43,"allowSynchronousEvents"],[1,5209,423,6,"maxPayload"],[1,5220,423,18,"this"],[1,5225,423,23,"options"],[1,5233,423,31,"maxPayload"],[1,5244,424,6,"skipUTF8Validation"],[1,5263,424,26,"this"],[1,5268,424,31,"options"],[1,5276,424,39,"skipUTF8Validation"],[1,5297,427,8,"this"],[1,5302,427,13,"clients"],[1,5312,428,6,"this"],[1,5317,428,11,"clients"],[1,5325,428,19,"add"],[1,5329,428,23,"ws"],[1,5332,429,6,"ws"],[1,5334,429,9,"on"],[1,5337,429,12],[1,5345,429,21],[1,5350,430,8,"this"],[1,5355,430,13,"clients"],[1,5363,430,21,"delete"],[1,5370,430,28,"ws"],[1,5373,432,12,"this"],[1,5378,432,17,"_shouldEmitClose"],[1,5397,432,38,"this"],[1,5402,432,43,"clients"],[1,5410,432,51,"size"],[1,5416,433,10,"process"],[1,5424,433,18,"nextTick"],[1,5433,433,27,"emitClose"],[1,5435,433,38,"this"],[1,5444,438,4,"cb"],[1,5446,438,7,"ws"],[1,5448,438,11,"req"],[1,5450,439,2],[1,5452,550,1],[1,5455]],"functionMap":{"names":["<global>","WebSocketServer","WebSocketServer#constructor","http.createServer$argument_0","addListeners$argument_1.upgrade","WebSocketServer#address","WebSocketServer#close","once$argument_1","server.close$argument_0","WebSocketServer#shouldHandle","WebSocketServer#handleUpgrade","options.verifyClient$argument_1","WebSocketServer#completeUpgrade","ws.on$argument_1","addListeners","removeListeners","emitClose","socketOnError","abortHandshake","Object.keys.map$argument_0","abortHandshakeOrEmitwsClientError"],"mappings":"AAA;AC0B;ECgC;uCCkC;ODQ;iBEiB;SFE;GDY;EIW;GJO;EKS;2BCG;SDE;mBEqC;OFE;GLE;EQS;GRS;ESW;wCC2F;SDc;GTQ;EWe;qBCmE;ODM;GXI;CDC;Acc;SCG;GDI;CdC;AgBQ;ChBG;AiBO;CjBE;AkBW;aCsB,4BD;ClBK;AoBc;CpBgB"},"hasCjsExports":true},"type":"js/module"}]}