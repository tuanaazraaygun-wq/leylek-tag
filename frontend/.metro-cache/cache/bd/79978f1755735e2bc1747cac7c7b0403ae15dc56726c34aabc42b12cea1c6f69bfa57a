{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":102},"end":{"line":6,"column":65,"index":167}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/AppState","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"JfCM6WRyn2619+pzBJhEHd1+SSw=","exportNames":["*"],"imports":1}},{"name":"expo-notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":219},"end":{"line":8,"column":52,"index":271}}],"key":"nrBDtkRVez7cBhLzyaRjl+xVfvE=","exportNames":["*"],"imports":1}},{"name":"expo-device","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":272},"end":{"line":9,"column":38,"index":310}}],"key":"bBpmAhO1g++sdeUzQmFVGoQIVwg=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":311},"end":{"line":10,"column":39,"index":350}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,_d){\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return h}}),_e.usePushNotifications=d;var n=r(_d[0]);r(_d[1]);var o=e(r(_d[2])),s=t(r(_d[3])),l=t(r(_d[4])),c=e(r(_d[5]));s.setNotificationHandler({handleNotification:async()=>({shouldShowAlert:!0,shouldPlaySound:!0,shouldSetBadge:!0,shouldShowBanner:!0,shouldShowList:!0})});const u=`${process.env.EXPO_PUBLIC_BACKEND_URL||''}/api`;function d(){const[e,t]=(0,n.useState)(null),[d,h]=(0,n.useState)(null),[f,y]=(0,n.useState)(null),k=(0,n.useRef)(null),P=(0,n.useRef)(null),b=(0,n.useRef)(o.default.currentState),p=(0,n.useCallback)(async()=>{try{if(!l.isDevice)return console.log('\\ud83d\\udcf1 Push bildirimleri sadece fiziksel cihazlarda \\xe7al\\u0131\\u015f\\u0131r'),y('Sim\\xfclat\\xf6rde push bildirimi desteklenmiyor'),null;const{status:e}=await s.getPermissionsAsync();let n=e;if('granted'!==e){console.log('\\ud83d\\udcf1 Push bildirimi izni isteniyor...');const{status:e}=await s.requestPermissionsAsync();n=e}if('granted'!==n)return console.log('\\u274c Push bildirimi izni reddedildi'),y('Bildirim izni verilmedi'),null;const o=c.default.expoConfig?.extra?.eas?.projectId||'f00346b0-b9cb-47f9-a647-7f56b168e3a9';try{const e=await s.getExpoPushTokenAsync({projectId:o});return console.log('\\u2705 Push Token al\\u0131nd\\u0131:',e.data),t(e.data),y(null),e.data}catch(e){return console.log('\\u26a0\\ufe0f Push token al\\u0131namad\\u0131 (development modda normal):',e.message),null}}catch(e){return console.log('\\u26a0\\ufe0f Push notification setup hatas\\u0131:',e.message),null}},[]),v=(0,n.useCallback)(async t=>{try{let n=e;if(n||(n=await p()),!n)return console.log('\\u26a0\\ufe0f Push token al\\u0131namad\\u0131, kay\\u0131t atlan\\u0131yor'),!1;const o=await fetch(`${u}/user/register-push-token?user_id=${t}&push_token=${encodeURIComponent(n)}`,{method:'POST',headers:{'Content-Type':'application/json'}}),s=await o.json();return s.success?(console.log('\\u2705 Push token backend\\'e kaydedildi'),!0):(console.error('\\u274c Push token kay\\u0131t hatas\\u0131:',s.detail),!1)}catch(e){return console.error('\\u274c Push token kay\\u0131t hatas\\u0131:',e),!1}},[e,p]),_=(0,n.useCallback)(async e=>{try{await fetch(`${u}/user/remove-push-token?user_id=${e}`,{method:'DELETE'}),console.log('\\u2705 Push token silindi'),t(null)}catch(e){console.error('\\u274c Push token silme hatas\\u0131:',e)}},[]),w=(0,n.useCallback)(async(e,t,n)=>{try{await s.scheduleNotificationAsync({content:{title:e,body:t,data:n||{},sound:'default'},trigger:null})}catch(e){console.error('\\u274c Yerel bildirim hatas\\u0131:',e)}},[]);return(0,n.useEffect)(()=>{p(),k.current=s.addNotificationReceivedListener(e=>{console.log('\\ud83d\\udcec Bildirim al\\u0131nd\\u0131:',e.request.content.title),h(e)}),P.current=s.addNotificationResponseReceivedListener(e=>{console.log('\\ud83d\\udc46 Bildirime t\\u0131kland\\u0131:',e.notification.request.content);const t=e.notification.request.content.data;t&&console.log('\\ud83d\\udce6 Bildirim verisi:',t)});const e=o.default.addEventListener('change',e=>{b.current.match(/inactive|background/)&&'active'===e&&s.setBadgeCountAsync(0),b.current=e});return()=>{k.current&&k.current.remove(),P.current&&P.current.remove(),e.remove()}},[p]),{expoPushToken:e,notification:d,error:f,registerPushToken:v,removePushToken:_,scheduleLocalNotification:w}}var h=d});","lineCount":1,"map":[[1,378,251,0,"Object"],[1,385,251,0,"defineProperty"],[1,400,251,0,"_e"],[1,403,251,0],[1,414,251,0,"enumerable"],[1,426,251,0],[1,428,251,0,"get"],[1,432,251,0],[1,450,251,0,"_default"],[1,451,251,0],[1,455,38,0,"_e"],[1,458,38,0,"usePushNotifications"],[1,481,6,0],[1,485,6,0,"_react"],[1,487,6,0,"r"],[1,489,6,0,"_d"],[1,492,6,0],[1,496,6,65,"r"],[1,498,6,65,"_d"],[1,501,6,65],[1,509,6,65,"AppState"],[1,511,6,65,"_interopDefault"],[1,513,6,65,"r"],[1,515,6,65,"_d"],[1,518,6,65],[1,523,8,0,"Notifications"],[1,525,8,0,"_interopNamespace"],[1,527,8,0,"r"],[1,529,8,0,"_d"],[1,532,8,0],[1,537,9,0,"Device"],[1,539,9,0,"_interopNamespace"],[1,541,9,0,"r"],[1,543,9,0,"_d"],[1,546,9,0],[1,551,10,0,"Constants"],[1,553,10,0,"_interopDefault"],[1,555,10,0,"r"],[1,557,10,0,"_d"],[1,560,10,0],[1,565,13,0,"Notifications"],[1,567,13,14,"setNotificationHandler"],[1,590,13,37],[1,591,14,2,"handleNotification"],[1,610,14,22,"async"],[1,620,14,22],[1,621,15,4,"shouldShowAlert"],[1,638,15,21],[1,640,16,4,"shouldPlaySound"],[1,657,16,21],[1,659,17,4,"shouldSetBadge"],[1,675,17,20],[1,677,18,4,"shouldShowBanner"],[1,695,18,22],[1,697,19,4,"shouldShowList"],[1,713,19,20],[1,719,23,0],[1,725,24,6,"API_URL"],[1,727,24,16],[1,730,23,20,"process"],[1,738,23,28,"env"],[1,742,23,32,"EXPO_PUBLIC_BACKEND_URL"],[1,767,23,59],[1,776,38,7],[1,785,38,16,"usePushNotifications"],[1,789,39,2],[1,795,39,9,"expoPushToken"],[1,797,39,24,"setExpoPushToken"],[1,801,39,44],[1,803,39,44,"useState"],[1,805,39,52,"useState"],[1,815,39,68],[1,822,40,9,"notification"],[1,824,40,23,"setNotification"],[1,828,40,42],[1,830,40,42,"useState"],[1,832,40,50,"useState"],[1,842,40,86],[1,849,41,9,"error"],[1,851,41,16,"setError"],[1,855,41,28],[1,857,41,28,"useState"],[1,859,41,36,"useState"],[1,869,41,52],[1,875,43,8,"notificationListener"],[1,878,43,31],[1,880,43,31,"useRef"],[1,882,43,37,"useRef"],[1,890,43,78],[1,896,44,8,"responseListener"],[1,899,44,27],[1,901,44,27,"useRef"],[1,903,44,33,"useRef"],[1,911,44,74],[1,917,45,8,"appStateRef"],[1,920,45,22],[1,922,45,22,"useRef"],[1,924,45,28,"useRef"],[1,932,45,29,"AppState"],[1,934,45,37,"default"],[1,942,45,38,"currentState"],[1,956,48,8,"getExpoPushToken"],[1,959,48,27],[1,961,48,27,"useCallback"],[1,963,48,38,"useCallback"],[1,976,48,39,"async"],[1,986,49,4],[1,990,51,6],[1,994,51,11,"Device"],[1,996,51,18,"isDevice"],[1,1005,54,8],[1,1012,52,8,"console"],[1,1020,52,16,"log"],[1,1024,52,20],[1,1111,53,8,"setError"],[1,1113,53,17],[1,1164,54,15],[1,1169,82,6],[1,1175,82,14,"status"],[1,1182,82,22,"existingStatus"],[1,1191,82,47,"Notifications"],[1,1193,82,61,"getPermissionsAsync"],[1,1215,83,6],[1,1219,83,10,"finalStatus"],[1,1221,83,24,"existingStatus"],[1,1223,85,6],[1,1226,85,29],[1,1238,85,10,"existingStatus"],[1,1240,85,40],[1,1241,86,8,"console"],[1,1249,86,16,"log"],[1,1253,86,20],[1,1302,87,8],[1,1308,87,14,"status"],[1,1315,87,16,"status"],[1,1324,87,33,"Notifications"],[1,1326,87,47,"requestPermissionsAsync"],[1,1352,88,8,"finalStatus"],[1,1354,88,22,"status"],[1,1355,89,6],[1,1356,91,6],[1,1359,91,26],[1,1371,91,10,"finalStatus"],[1,1373,94,8],[1,1380,92,8,"console"],[1,1388,92,16,"log"],[1,1392,92,20],[1,1433,93,8,"setError"],[1,1435,93,17],[1,1462,94,15],[1,1467,98,6],[1,1473,98,12,"projectId"],[1,1475,98,24,"Constants"],[1,1477,98,33,"default"],[1,1485,98,34,"expoConfig"],[1,1497,98,46,"extra"],[1,1504,98,53,"eas"],[1,1509,98,58,"projectId"],[1,1520,98,71],[1,1559,100,6],[1,1563,101,8],[1,1569,101,14,"tokenData"],[1,1577,101,32,"Notifications"],[1,1579,101,46,"getExpoPushTokenAsync"],[1,1601,101,68],[1,1602,102,10,"projectId"],[1,1612,102,21,"projectId"],[1,1616,109,8],[1,1623,105,8,"console"],[1,1631,105,16,"log"],[1,1635,105,20],[1,1673,105,44,"tokenData"],[1,1675,105,54,"data"],[1,1681,106,8,"setExpoPushToken"],[1,1683,106,25,"tokenData"],[1,1685,106,35,"data"],[1,1691,107,8,"setError"],[1,1693,107,17],[1,1699,109,15,"tokenData"],[1,1701,109,25,"data"],[1,1705,110,6],[1,1706,110,8],[1,1712,110,15,"tokenError"],[1,1715,113,8],[1,1722,112,8,"console"],[1,1730,112,16,"log"],[1,1734,112,20],[1,1808,112,75,"tokenError"],[1,1810,112,86,"message"],[1,1819,113,15],[1,1823,114,6],[1,1824,115,4],[1,1825,115,6],[1,1831,115,13,"err"],[1,1834,118,6],[1,1841,116,6,"console"],[1,1849,116,14,"log"],[1,1853,116,18],[1,1905,116,56,"err"],[1,1907,116,60,"message"],[1,1916,118,13],[1,1920,119,4],[1,1923,120,5],[1,1927,123,8,"registerPushToken"],[1,1930,123,28],[1,1932,123,28,"useCallback"],[1,1934,123,39,"useCallback"],[1,1947,123,40,"async"],[1,1957,124,4],[1,1961,125,6],[1,1965,125,10,"token"],[1,1967,125,18,"expoPushToken"],[1,1969,132,6],[1,1972,128,11,"token"],[1,1976,129,8,"token"],[1,1984,129,22,"getExpoPushToken"],[1,1990,132,11,"token"],[1,1992,134,8],[1,1999,133,8,"console"],[1,2007,133,16,"log"],[1,2011,133,20],[1,2086,134,15],[1,2088,138,6],[1,2094,138,12,"response"],[1,2102,138,29,"fetch"],[1,2108,138,35],[1,2111,138,38,"API_URL"],[1,2149,138,82,"userId"],[1,2165,138,103,"encodeURIComponent"],[1,2184,138,122,"token"],[1,2189,138,132],[1,2190,139,8,"method"],[1,2197,139,16],[1,2204,140,8,"headers"],[1,2212,140,17],[1,2213,141,10],[1,2228,141,26],[1,2250,145,12,"data"],[1,2258,145,25,"response"],[1,2260,145,34,"json"],[1,2267,147,6],[1,2274,147,10,"data"],[1,2276,147,15,"success"],[1,2285,148,8,"console"],[1,2293,148,16,"log"],[1,2297,148,20],[1,2341,149,15],[1,2345,151,8,"console"],[1,2353,151,16,"error"],[1,2359,151,22],[1,2403,151,52,"data"],[1,2405,151,57,"detail"],[1,2414,152,15],[1,2416,154,4],[1,2417,154,6],[1,2423,154,13,"err"],[1,2426,156,6],[1,2433,155,6,"console"],[1,2441,155,14,"error"],[1,2447,155,20],[1,2491,155,50,"err"],[1,2495,156,13],[1,2496,157,4],[1,2499,158,5],[1,2500,158,6,"expoPushToken"],[1,2502,158,21,"getExpoPushToken"],[1,2506,161,8,"removePushToken"],[1,2509,161,26],[1,2511,161,26,"useCallback"],[1,2513,161,37,"useCallback"],[1,2526,161,38,"async"],[1,2536,162,4],[1,2546,163,12,"fetch"],[1,2552,163,18],[1,2555,163,21,"API_URL"],[1,2591,163,63,"userId"],[1,2595,163,73],[1,2596,164,8,"method"],[1,2603,164,16],[1,2614,166,6,"console"],[1,2622,166,14,"log"],[1,2626,166,18],[1,2655,167,6,"setExpoPushToken"],[1,2657,167,23],[1,2662,168,4],[1,2663,168,6],[1,2669,168,13,"err"],[1,2672,169,6,"console"],[1,2680,169,14,"error"],[1,2686,169,20],[1,2725,169,50,"err"],[1,2727,170,4],[1,2730,171,5],[1,2734,174,8,"scheduleLocalNotification"],[1,2737,174,36],[1,2739,174,36,"useCallback"],[1,2741,174,47,"useCallback"],[1,2754,174,48,"async"],[1,2760,175,4,"title"],[1,2762,176,4,"body"],[1,2764,177,4,"data"],[1,2769,179,4],[1,2779,180,12,"Notifications"],[1,2781,180,26,"scheduleNotificationAsync"],[1,2807,180,52],[1,2808,181,8,"content"],[1,2816,181,17],[1,2817,182,10,"title"],[1,2825,183,10,"body"],[1,2832,184,10,"data"],[1,2837,184,16,"data"],[1,2840,184,24],[1,2841,184,25],[1,2843,185,10,"sound"],[1,2849,185,17],[1,2860,187,8,"trigger"],[1,2868,187,17],[1,2874,189,4],[1,2875,189,6],[1,2881,189,13,"err"],[1,2884,190,6,"console"],[1,2892,190,14,"error"],[1,2898,190,20],[1,2935,190,48,"err"],[1,2937,191,4],[1,2940,192,5],[1,2944,241,2],[1,2951,195,2],[1,2953,195,2,"useEffect"],[1,2955,195,11,"useEffect"],[1,2966,195,12],[1,2971,197,4,"getExpoPushToken"],[1,2975,200,4,"notificationListener"],[1,2977,200,25,"current"],[1,2985,200,35,"Notifications"],[1,2987,200,49,"addNotificationReceivedListener"],[1,3019,200,81,"notification"],[1,3023,201,6,"console"],[1,3031,201,14,"log"],[1,3035,201,18],[1,3077,201,41,"notification"],[1,3079,201,54,"request"],[1,3087,201,62,"content"],[1,3095,201,70,"title"],[1,3102,202,6,"setNotification"],[1,3104,202,22,"notification"],[1,3109,206,4,"responseListener"],[1,3111,206,21,"current"],[1,3119,206,31,"Notifications"],[1,3121,206,45,"addNotificationResponseReceivedListener"],[1,3161,206,85,"response"],[1,3165,207,6,"console"],[1,3173,207,14,"log"],[1,3177,207,18],[1,3222,207,44,"response"],[1,3224,207,53,"notification"],[1,3237,207,66,"request"],[1,3245,207,74,"content"],[1,3254,209,6],[1,3260,209,12,"data"],[1,3262,209,19,"response"],[1,3264,209,28,"notification"],[1,3277,209,41,"request"],[1,3285,209,49,"content"],[1,3293,209,57,"data"],[1,3298,210,10,"data"],[1,3301,211,8,"console"],[1,3309,211,16,"log"],[1,3313,211,20],[1,3345,211,43,"data"],[1,3350,218,4],[1,3356,218,10,"subscription"],[1,3358,218,25,"AppState"],[1,3360,218,33,"default"],[1,3368,218,34,"addEventListener"],[1,3385,218,51],[1,3394,218,61,"nextAppState"],[1,3398,220,8,"appStateRef"],[1,3400,220,20,"current"],[1,3408,220,28,"match"],[1,3414,220,34],[1,3438,221,25],[1,3449,221,8,"nextAppState"],[1,3452,224,8,"Notifications"],[1,3454,224,22,"setBadgeCountAsync"],[1,3473,224,41],[1,3476,226,6,"appStateRef"],[1,3478,226,18,"current"],[1,3486,226,28,"nextAppState"],[1,3490,230,4],[1,3496,230,11],[1,3501,231,10,"notificationListener"],[1,3503,231,31,"current"],[1,3512,232,8,"notificationListener"],[1,3514,232,29,"current"],[1,3522,232,37,"remove"],[1,3531,234,10,"responseListener"],[1,3533,234,27,"current"],[1,3542,235,8,"responseListener"],[1,3544,235,25,"current"],[1,3552,235,33,"remove"],[1,3561,237,6,"subscription"],[1,3563,237,19,"remove"],[1,3574,239,5],[1,3575,239,6,"getExpoPushToken"],[1,3579,241,9],[1,3580,242,4,"expoPushToken"],[1,3596,243,4,"notification"],[1,3611,244,4,"error"],[1,3619,245,4,"registerPushToken"],[1,3639,246,4,"removePushToken"],[1,3657,247,4,"scheduleLocalNotification"],[1,3685,249,0],[1,3686,251,0],[1,3690,251,0,"_default"],[1,3692,251,15,"usePushNotifications"],[1,3693,251,36],[1,3696]],"functionMap":{"names":["<global>","Notifications.setNotificationHandler$argument_0.handleNotification","usePushNotifications","getExpoPushToken","registerPushToken","removePushToken","scheduleLocalNotification","useEffect$argument_0","Notifications.addNotificationReceivedListener$argument_0","Notifications.addNotificationResponseReceivedListener$argument_0","AppState.addEventListener$argument_1","<anonymous>"],"mappings":"AAA;sBCa;IDM;OEkB;uCCU;GDwE;wCEG;GFmC;sCGG;GHU;gDIG;GJkB;YKG;iFCK;KDG;qFEG;KFS;6DGG;KHS;WIG;KJQ;GLC;CFU"},"hasCjsExports":false},"type":"js/module"}]}