{"dependencies":[{"name":"stream","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":21,"index":36},"end":{"line":3,"column":38,"index":53}}],"key":"ywjhWBPQUrHXIfwGsbgNg7Szt/A=","exportNames":["*"],"imports":1}},{"name":"./permessage-deflate","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":26,"index":82},"end":{"line":5,"column":57,"index":113}}],"key":"Q2Pva8QskhgfG9XaS7nBCDBdIDE=","exportNames":["*"],"imports":1}},{"name":"./constants","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":11,"column":4,"index":187},"end":{"line":11,"column":26,"index":209}}],"key":"3z43bJyk/UB4EKjDCOXTFak09do=","exportNames":["*"],"imports":1}},{"name":"./buffer-util","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":12,"column":42,"index":253},"end":{"line":12,"column":66,"index":277}}],"key":"FKD7Yg4fnu7BzoYB+P98shiBLdA=","exportNames":["*"],"imports":1}},{"name":"./validation","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":13,"column":43,"index":322},"end":{"line":13,"column":66,"index":345}}],"key":"DtGlBq654swJEbIf2z6Mk/R87pk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){'use strict';const{Writable:t}=r(d[0]),s=r(d[1]),{BINARY_TYPES:h,EMPTY_BUFFER:o,kStatusCode:_,kWebSocket:n}=r(d[2]),{concat:f,toArrayBuffer:l,unmask:c}=r(d[3]),{isValidStatusCode:E,isValidUTF8:u}=r(d[4]),p=Buffer[Symbol.species];m.exports=class extends t{constructor(t={}){super(),this._allowSynchronousEvents=void 0===t.allowSynchronousEvents||t.allowSynchronousEvents,this._binaryType=t.binaryType||h[0],this._extensions=t.extensions||{},this._isServer=!!t.isServer,this._maxPayload=0|t.maxPayload,this._skipUTF8Validation=!!t.skipUTF8Validation,this[n]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=0}_write(t,s,h){if(8===this._opcode&&0==this._state)return h();this._bufferedBytes+=t.length,this._buffers.push(t),this.startLoop(h)}consume(t){if(this._bufferedBytes-=t,t===this._buffers[0].length)return this._buffers.shift();if(t<this._buffers[0].length){const s=this._buffers[0];return this._buffers[0]=new p(s.buffer,s.byteOffset+t,s.length-t),new p(s.buffer,s.byteOffset,t)}const s=Buffer.allocUnsafe(t);do{const h=this._buffers[0],o=s.length-t;t>=h.length?s.set(this._buffers.shift(),o):(s.set(new Uint8Array(h.buffer,h.byteOffset,t),o),this._buffers[0]=new p(h.buffer,h.byteOffset+t,h.length-t)),t-=h.length}while(t>0);return s}startLoop(t){this._loop=!0;do{switch(this._state){case 0:this.getInfo(t);break;case 1:this.getPayloadLength16(t);break;case 2:this.getPayloadLength64(t);break;case 3:this.getMask();break;case 4:this.getData(t);break;case 5:case 6:return void(this._loop=!1)}}while(this._loop);this._errored||t()}getInfo(t){if(this._bufferedBytes<2)return void(this._loop=!1);const h=this.consume(2);if(48&h[0]){return void t(this.createError(RangeError,'RSV2 and RSV3 must be clear',!0,1002,'WS_ERR_UNEXPECTED_RSV_2_3'))}const o=!(64&~h[0]);if(o&&!this._extensions[s.extensionName]){return void t(this.createError(RangeError,'RSV1 must be clear',!0,1002,'WS_ERR_UNEXPECTED_RSV_1'))}if(this._fin=!(128&~h[0]),this._opcode=15&h[0],this._payloadLength=127&h[1],0===this._opcode){if(o){return void t(this.createError(RangeError,'RSV1 must be clear',!0,1002,'WS_ERR_UNEXPECTED_RSV_1'))}if(!this._fragmented){return void t(this.createError(RangeError,'invalid opcode 0',!0,1002,'WS_ERR_INVALID_OPCODE'))}this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented){return void t(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,'WS_ERR_INVALID_OPCODE'))}this._compressed=o}else{if(!(this._opcode>7&&this._opcode<11)){return void t(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,'WS_ERR_INVALID_OPCODE'))}if(!this._fin){return void t(this.createError(RangeError,'FIN must be set',!0,1002,'WS_ERR_EXPECTED_FIN'))}if(o){return void t(this.createError(RangeError,'RSV1 must be clear',!0,1002,'WS_ERR_UNEXPECTED_RSV_1'))}if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength){return void t(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'))}}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=!(128&~h[1]),this._isServer){if(!this._masked){return void t(this.createError(RangeError,'MASK must be set',!0,1002,'WS_ERR_EXPECTED_MASK'))}}else if(this._masked){return void t(this.createError(RangeError,'MASK must be clear',!0,1002,'WS_ERR_UNEXPECTED_MASK'))}126===this._payloadLength?this._state=1:127===this._payloadLength?this._state=2:this.haveLength(t)}getPayloadLength16(t){this._bufferedBytes<2?this._loop=!1:(this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(t))}getPayloadLength64(t){if(this._bufferedBytes<8)return void(this._loop=!1);const s=this.consume(8),h=s.readUInt32BE(0);if(h>Math.pow(2,21)-1){return void t(this.createError(RangeError,'Unsupported WebSocket frame: payload length > 2^53 - 1',!1,1009,'WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH'))}this._payloadLength=h*Math.pow(2,32)+s.readUInt32BE(4),this.haveLength(t)}haveLength(t){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){return void t(this.createError(RangeError,'Max payload size exceeded',!1,1009,'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'))}this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(t){let s=o;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);s=this.consume(this._payloadLength),this._masked&&0!==(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])&&c(s,this._mask)}if(this._opcode>7)this.controlMessage(s,t);else{if(this._compressed)return this._state=5,void this.decompress(s,t);s.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(s)),this.dataMessage(t)}}decompress(t,h){this._extensions[s.extensionName].decompress(t,this._fin,(t,s)=>{if(t)return h(t);if(s.length){if(this._messageLength+=s.length,this._messageLength>this._maxPayload&&this._maxPayload>0){const t=this.createError(RangeError,'Max payload size exceeded',!1,1009,'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH');return void h(t)}this._fragments.push(s)}this.dataMessage(h),0===this._state&&this.startLoop(h)})}dataMessage(t){if(!this._fin)return void(this._state=0);const s=this._messageLength,h=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let o;o='nodebuffer'===this._binaryType?f(h,s):'arraybuffer'===this._binaryType?l(f(h,s)):'blob'===this._binaryType?new Blob(h):h,this._allowSynchronousEvents?(this.emit('message',o,!0),this._state=0):(this._state=6,setImmediate(()=>{this.emit('message',o,!0),this._state=0,this.startLoop(t)}))}else{const o=f(h,s);if(!this._skipUTF8Validation&&!u(o)){const s=this.createError(Error,'invalid UTF-8 sequence',!0,1007,'WS_ERR_INVALID_UTF8');return void t(s)}5===this._state||this._allowSynchronousEvents?(this.emit('message',o,!1),this._state=0):(this._state=6,setImmediate(()=>{this.emit('message',o,!1),this._state=0,this.startLoop(t)}))}}controlMessage(t,s){if(8!==this._opcode)this._allowSynchronousEvents?(this.emit(9===this._opcode?'ping':'pong',t),this._state=0):(this._state=6,setImmediate(()=>{this.emit(9===this._opcode?'ping':'pong',t),this._state=0,this.startLoop(s)}));else{if(0===t.length)this._loop=!1,this.emit('conclude',1005,o),this.end();else{const h=t.readUInt16BE(0);if(!E(h)){const t=this.createError(RangeError,`invalid status code ${h}`,!0,1002,'WS_ERR_INVALID_CLOSE_CODE');return void s(t)}const o=new p(t.buffer,t.byteOffset+2,t.length-2);if(!this._skipUTF8Validation&&!u(o)){const t=this.createError(Error,'invalid UTF-8 sequence',!0,1007,'WS_ERR_INVALID_UTF8');return void s(t)}this._loop=!1,this.emit('conclude',h,o),this.end()}this._state=0}}createError(t,s,h,o,n){this._loop=!1,this._errored=!0;const f=new t(h?`Invalid WebSocket frame: ${s}`:s);return Error.captureStackTrace(f,this.createError),f.code=n,f[_]=o,f}}});","lineCount":1,"map":[[1,28,1,0],[1,41,3,0],[1,47,3,6,"Writable"],[1,56,3,8,"Writable"],[1,59,3,21,"require"],[1,61,3,28,"d"],[1,63,3,28],[1,67,5,6,"PerMessageDeflate"],[1,69,5,26,"require"],[1,71,5,33,"d"],[1,73,5,33],[1,78,6,6,"BINARY_TYPES"],[1,91,7,2,"BINARY_TYPES"],[1,93,7,14,"EMPTY_BUFFER"],[1,106,8,2,"EMPTY_BUFFER"],[1,108,8,14,"kStatusCode"],[1,120,9,2,"kStatusCode"],[1,122,9,13,"kWebSocket"],[1,133,10,2,"kWebSocket"],[1,136,11,4,"require"],[1,138,11,11,"d"],[1,140,11,11],[1,145,12,6,"concat"],[1,152,12,8,"concat"],[1,154,12,14,"toArrayBuffer"],[1,168,12,16,"toArrayBuffer"],[1,170,12,29,"unmask"],[1,177,12,31,"unmask"],[1,180,12,42,"require"],[1,182,12,49,"d"],[1,184,12,49],[1,189,13,6,"isValidStatusCode"],[1,207,13,8,"isValidStatusCode"],[1,209,13,25,"isValidUTF8"],[1,221,13,27,"isValidUTF8"],[1,224,13,43,"require"],[1,226,13,50,"d"],[1,228,13,50],[1,232,15,6,"FastBuffer"],[1,234,15,19,"Buffer"],[1,241,15,26,"Symbol"],[1,248,15,33,"species"],[1,257,706,0,"module"],[1,259,706,7,"exports"],[1,267,30,0],[1,281,30,23,"Writable"],[1,283,47,2,"constructor"],[1,295,47,14,"options"],[1,297,47,24],[1,298,47,25],[1,301,48,4,"super"],[1,309,50,4,"this"],[1,314,50,9,"_allowSynchronousEvents"],[1,343,51,41,"undefined"],[1,347,51,6,"options"],[1,349,51,14,"allowSynchronousEvents"],[1,373,52,10,"options"],[1,375,52,18,"allowSynchronousEvents"],[1,398,54,4,"this"],[1,403,54,9,"_binaryType"],[1,415,54,23,"options"],[1,417,54,31,"binaryType"],[1,429,54,45,"BINARY_TYPES"],[1,431,54,58],[1,434,55,4,"this"],[1,439,55,9,"_extensions"],[1,451,55,23,"options"],[1,453,55,31,"extensions"],[1,465,55,45],[1,466,55,46],[1,468,56,4,"this"],[1,473,56,9,"_isServer"],[1,485,56,23,"options"],[1,487,56,31,"isServer"],[1,496,57,4,"this"],[1,501,57,9,"_maxPayload"],[1,513,57,44],[1,515,57,23,"options"],[1,517,57,31,"maxPayload"],[1,528,58,4,"this"],[1,533,58,9,"_skipUTF8Validation"],[1,555,58,33,"options"],[1,557,58,41,"skipUTF8Validation"],[1,576,59,4,"this"],[1,581,59,9,"kWebSocket"],[1,589,59,23,"undefined"],[1,591,61,4,"this"],[1,596,61,9,"_bufferedBytes"],[1,611,61,26],[1,613,62,4,"this"],[1,618,62,9,"_buffers"],[1,627,62,20],[1,630,64,4,"this"],[1,635,64,9,"_compressed"],[1,648,64,23],[1,650,65,4,"this"],[1,655,65,9,"_payloadLength"],[1,670,65,26],[1,672,66,4,"this"],[1,677,66,9,"_mask"],[1,688,66,17,"undefined"],[1,690,67,4,"this"],[1,695,67,9,"_fragmented"],[1,707,67,23],[1,709,68,4,"this"],[1,714,68,9,"_masked"],[1,723,68,19],[1,725,69,4,"this"],[1,730,69,9,"_fin"],[1,736,69,16],[1,738,70,4,"this"],[1,743,70,9,"_opcode"],[1,751,70,19],[1,753,72,4,"this"],[1,758,72,9,"_totalPayloadLength"],[1,778,72,31],[1,780,73,4,"this"],[1,785,73,9,"_messageLength"],[1,800,73,26],[1,802,74,4,"this"],[1,807,74,9,"_fragments"],[1,818,74,22],[1,821,76,4,"this"],[1,826,76,9,"_errored"],[1,836,76,20],[1,838,77,4,"this"],[1,843,77,9,"_loop"],[1,850,77,17],[1,852,78,4,"this"],[1,857,78,9,"_state"],[1,864,17,17],[1,865,79,2],[1,866,89,2,"_write"],[1,873,89,9,"chunk"],[1,875,89,16,"encoding"],[1,877,89,26,"cb"],[1,880,90,4],[1,883,90,25],[1,887,90,8,"this"],[1,892,90,13,"_opcode"],[1,901,17,17],[1,904,90,33,"this"],[1,909,90,38,"_state"],[1,916,90,58],[1,923,90,65,"cb"],[1,927,92,4,"this"],[1,932,92,9,"_bufferedBytes"],[1,948,92,27,"chunk"],[1,950,92,33,"length"],[1,957,93,4,"this"],[1,962,93,9,"_buffers"],[1,971,93,18,"push"],[1,976,93,23,"chunk"],[1,979,94,4,"this"],[1,984,94,9,"startLoop"],[1,994,94,19,"cb"],[1,996,95,2],[1,997,104,2,"consume"],[1,1005,104,10,"n"],[1,1008,107,4],[1,1011,105,4,"this"],[1,1016,105,9,"_bufferedBytes"],[1,1032,105,27,"n"],[1,1034,107,8,"n"],[1,1038,107,14,"this"],[1,1043,107,19,"_buffers"],[1,1052,107,28],[1,1055,107,31,"length"],[1,1062,107,39],[1,1069,107,46,"this"],[1,1074,107,51,"_buffers"],[1,1083,107,60,"shift"],[1,1091,109,4],[1,1094,109,8,"n"],[1,1096,109,12,"this"],[1,1101,109,17,"_buffers"],[1,1110,109,26],[1,1113,109,29,"length"],[1,1120,109,37],[1,1121,110,6],[1,1127,110,12,"buf"],[1,1129,110,18,"this"],[1,1134,110,23,"_buffers"],[1,1143,110,32],[1,1146,117,6],[1,1153,111,6,"this"],[1,1158,111,11,"_buffers"],[1,1167,111,20],[1,1170,111,25],[1,1174,111,29,"FastBuffer"],[1,1176,112,8,"buf"],[1,1178,112,12,"buffer"],[1,1185,113,8,"buf"],[1,1187,113,12,"byteOffset"],[1,1198,113,25,"n"],[1,1200,114,8,"buf"],[1,1202,114,12,"length"],[1,1209,114,21,"n"],[1,1212,117,13],[1,1216,117,17,"FastBuffer"],[1,1218,117,28,"buf"],[1,1220,117,32,"buffer"],[1,1227,117,40,"buf"],[1,1229,117,44,"byteOffset"],[1,1240,117,56,"n"],[1,1242,118,4],[1,1243,120,4],[1,1249,120,10,"dst"],[1,1251,120,16,"Buffer"],[1,1258,120,23,"allocUnsafe"],[1,1270,120,35,"n"],[1,1273,122,4],[1,1275,122,7],[1,1276,123,6],[1,1282,123,12,"buf"],[1,1284,123,18,"this"],[1,1289,123,23,"_buffers"],[1,1298,123,32],[1,1301,124,12,"offset"],[1,1303,124,21,"dst"],[1,1305,124,25,"length"],[1,1312,124,34,"n"],[1,1314,126,10,"n"],[1,1317,126,15,"buf"],[1,1319,126,19,"length"],[1,1326,127,8,"dst"],[1,1328,127,12,"set"],[1,1332,127,16,"this"],[1,1337,127,21,"_buffers"],[1,1346,127,30,"shift"],[1,1354,127,39,"offset"],[1,1358,129,8,"dst"],[1,1360,129,12,"set"],[1,1364,129,16],[1,1368,129,20,"Uint8Array"],[1,1379,129,31,"buf"],[1,1381,129,35,"buffer"],[1,1388,129,43,"buf"],[1,1390,129,47,"byteOffset"],[1,1401,129,59,"n"],[1,1404,129,63,"offset"],[1,1407,130,8,"this"],[1,1412,130,13,"_buffers"],[1,1421,130,22],[1,1424,130,27],[1,1428,130,31,"FastBuffer"],[1,1430,131,10,"buf"],[1,1432,131,14,"buffer"],[1,1439,132,10,"buf"],[1,1441,132,14,"byteOffset"],[1,1452,132,27,"n"],[1,1454,133,10,"buf"],[1,1456,133,14,"length"],[1,1463,133,23,"n"],[1,1467,137,6,"n"],[1,1470,137,11,"buf"],[1,1472,137,15,"length"],[1,1478,138,4],[1,1485,138,13,"n"],[1,1487,138,17],[1,1490,140,4],[1,1497,140,11,"dst"],[1,1498,141,2],[1,1499,149,2,"startLoop"],[1,1509,149,12,"cb"],[1,1512,150,4,"this"],[1,1517,150,9,"_loop"],[1,1524,150,17],[1,1526,152,4],[1,1529,153,6],[1,1536,153,14,"this"],[1,1541,153,19,"_state"],[1,1549,154,8],[1,1554,17,17],[1,1556,155,10,"this"],[1,1561,155,15,"getInfo"],[1,1569,155,23,"cb"],[1,1572,156,10],[1,1578,157,8],[1,1583,18,30],[1,1585,158,10,"this"],[1,1590,158,15,"getPayloadLength16"],[1,1609,158,34,"cb"],[1,1612,159,10],[1,1618,160,8],[1,1623,19,30],[1,1625,161,10,"this"],[1,1630,161,15,"getPayloadLength64"],[1,1649,161,34,"cb"],[1,1652,162,10],[1,1658,163,8],[1,1663,20,17],[1,1665,164,10,"this"],[1,1670,164,15,"getMask"],[1,1680,165,10],[1,1686,166,8],[1,1691,21,17],[1,1693,167,10,"this"],[1,1698,167,15,"getData"],[1,1706,167,23,"cb"],[1,1709,168,10],[1,1715,169,8],[1,1720,22,18],[1,1722,170,8],[1,1727,23,20],[1,1729,172,10],[1,1741,171,10,"this"],[1,1746,171,15,"_loop"],[1,1753,171,23],[1,1763,174,13,"this"],[1,1768,174,18,"_loop"],[1,1775,176,9,"this"],[1,1780,176,14,"_errored"],[1,1790,176,24,"cb"],[1,1793,177,2],[1,1794,185,2,"getInfo"],[1,1802,185,10,"cb"],[1,1805,186,4],[1,1808,186,8,"this"],[1,1813,186,13,"_bufferedBytes"],[1,1828,186,30],[1,1830,188,6],[1,1842,187,6,"this"],[1,1847,187,11,"_loop"],[1,1854,187,19],[1,1857,191,4],[1,1863,191,10,"buf"],[1,1865,191,16,"this"],[1,1870,191,21,"consume"],[1,1878,191,29],[1,1881,193,4],[1,1884,193,18],[1,1887,193,9,"buf"],[1,1889,193,13],[1,1892,193,34],[1,1893,203,6],[1,1905,202,6,"cb"],[1,1907,194,20,"this"],[1,1912,194,25,"createError"],[1,1924,195,8,"RangeError"],[1,1935,196,8],[1,1966,197,8],[1,1968,198,8],[1,1973,199,8],[1,2002,204,4],[1,2003,206,4],[1,2009,206,10,"compressed"],[1,2013,206,43],[1,2017,206,24,"buf"],[1,2019,206,28],[1,2023,208,4],[1,2026,208,8,"compressed"],[1,2030,208,23,"this"],[1,2035,208,28,"_extensions"],[1,2047,208,40,"PerMessageDeflate"],[1,2049,208,58,"extensionName"],[1,2064,208,74],[1,2065,218,6],[1,2077,217,6,"cb"],[1,2079,209,20,"this"],[1,2084,209,25,"createError"],[1,2096,210,8,"RangeError"],[1,2107,211,8],[1,2129,212,8],[1,2131,213,8],[1,2136,214,8],[1,2163,219,4],[1,2164,225,4],[1,2167,221,4,"this"],[1,2172,221,9,"_fin"],[1,2179,221,36],[1,2184,221,17,"buf"],[1,2186,221,21],[1,2190,222,4,"this"],[1,2195,222,9,"_opcode"],[1,2203,222,28],[1,2206,222,19,"buf"],[1,2208,222,23],[1,2211,223,4,"this"],[1,2216,223,9,"_payloadLength"],[1,2231,223,35],[1,2235,223,26,"buf"],[1,2237,223,30],[1,2240,225,25],[1,2244,225,8,"this"],[1,2249,225,13,"_opcode"],[1,2257,225,31],[1,2258,226,6],[1,2261,226,10,"compressed"],[1,2263,226,22],[1,2264,236,8],[1,2276,235,8,"cb"],[1,2278,227,22,"this"],[1,2283,227,27,"createError"],[1,2295,228,10,"RangeError"],[1,2306,229,10],[1,2328,230,10],[1,2330,231,10],[1,2335,232,10],[1,2362,237,6],[1,2363,239,6],[1,2367,239,11,"this"],[1,2372,239,16,"_fragmented"],[1,2384,239,29],[1,2385,249,8],[1,2397,248,8,"cb"],[1,2399,240,22,"this"],[1,2404,240,27,"createError"],[1,2416,241,10,"RangeError"],[1,2427,242,10],[1,2447,243,10],[1,2449,244,10],[1,2454,245,10],[1,2479,250,6],[1,2480,252,6,"this"],[1,2485,252,11,"_opcode"],[1,2493,252,21,"this"],[1,2498,252,26,"_fragmented"],[1,2509,253,4],[1,2515,253,11],[1,2518,253,32],[1,2522,253,15,"this"],[1,2527,253,20,"_opcode"],[1,2536,253,57],[1,2540,253,40,"this"],[1,2545,253,45,"_opcode"],[1,2553,253,63],[1,2554,254,6],[1,2557,254,10,"this"],[1,2562,254,15,"_fragmented"],[1,2574,254,28],[1,2575,264,8],[1,2587,263,8,"cb"],[1,2589,255,22,"this"],[1,2594,255,27,"createError"],[1,2606,256,10,"RangeError"],[1,2617,257,10],[1,2635,257,28,"this"],[1,2640,257,33,"_opcode"],[1,2651,258,10],[1,2653,259,10],[1,2658,260,10],[1,2683,265,6],[1,2684,267,6,"this"],[1,2689,267,11,"_compressed"],[1,2701,267,25,"compressed"],[1,2702,268,4],[1,2707,268,11],[1,2713,268,15,"this"],[1,2718,268,20,"_opcode"],[1,2726,268,30],[1,2729,268,38,"this"],[1,2734,268,43,"_opcode"],[1,2742,268,53],[1,2746,310,11],[1,2747,320,6],[1,2759,319,6,"cb"],[1,2761,311,20,"this"],[1,2766,311,25,"createError"],[1,2778,312,8,"RangeError"],[1,2789,313,8],[1,2807,313,26,"this"],[1,2812,313,31,"_opcode"],[1,2823,314,8],[1,2825,315,8],[1,2830,316,8],[1,2855,321,4],[1,2856,269,6],[1,2860,269,11,"this"],[1,2865,269,16,"_fin"],[1,2870,269,22],[1,2871,279,8],[1,2883,278,8,"cb"],[1,2885,270,22,"this"],[1,2890,270,27,"createError"],[1,2902,271,10,"RangeError"],[1,2913,272,10],[1,2932,273,10],[1,2934,274,10],[1,2939,275,10],[1,2962,280,6],[1,2963,282,6],[1,2966,282,10,"compressed"],[1,2968,282,22],[1,2969,292,8],[1,2981,291,8,"cb"],[1,2983,283,22,"this"],[1,2988,283,27,"createError"],[1,3000,284,10,"RangeError"],[1,3011,285,10],[1,3033,286,10],[1,3035,287,10],[1,3040,288,10],[1,3067,293,6],[1,3068,295,6],[1,3071,296,8,"this"],[1,3076,296,13,"_payloadLength"],[1,3091,296,30],[1,3096,297,26],[1,3100,297,9,"this"],[1,3105,297,14,"_opcode"],[1,3114,297,58],[1,3118,297,34,"this"],[1,3123,297,39,"_payloadLength"],[1,3138,298,8],[1,3139,308,8],[1,3151,307,8,"cb"],[1,3153,299,22,"this"],[1,3158,299,27,"createError"],[1,3170,300,10,"RangeError"],[1,3181,301,10],[1,3207,301,36,"this"],[1,3212,301,41,"_payloadLength"],[1,3230,302,10],[1,3232,303,10],[1,3237,304,10],[1,3278,309,6],[1,3279,321,4],[1,3280,326,4],[1,3283,323,9,"this"],[1,3288,323,14,"_fin"],[1,3294,323,23,"this"],[1,3299,323,28,"_fragmented"],[1,3313,323,41,"this"],[1,3318,323,46,"_fragmented"],[1,3330,323,60,"this"],[1,3335,323,65,"_opcode"],[1,3344,324,4,"this"],[1,3349,324,9,"_masked"],[1,3359,324,39],[1,3364,324,20,"buf"],[1,3366,324,24],[1,3370,326,8,"this"],[1,3375,326,13,"_isServer"],[1,3386,327,6],[1,3390,327,11,"this"],[1,3395,327,16,"_masked"],[1,3403,327,25],[1,3404,337,8],[1,3416,336,8,"cb"],[1,3418,328,22,"this"],[1,3423,328,27,"createError"],[1,3435,329,10,"RangeError"],[1,3446,330,10],[1,3466,331,10],[1,3468,332,10],[1,3473,333,10],[1,3497,338,6],[1,3504,339,11],[1,3507,339,15,"this"],[1,3512,339,20,"_masked"],[1,3520,339,29],[1,3521,349,6],[1,3533,348,6,"cb"],[1,3535,340,20,"this"],[1,3540,340,25,"createError"],[1,3552,341,8,"RangeError"],[1,3563,342,8],[1,3585,343,8],[1,3587,344,8],[1,3592,345,8],[1,3618,350,4],[1,3619,352,32],[1,3625,352,8,"this"],[1,3630,352,13,"_payloadLength"],[1,3645,352,37,"this"],[1,3650,352,42,"_state"],[1,3657,18,30],[1,3659,353,37],[1,3665,353,13,"this"],[1,3670,353,18,"_payloadLength"],[1,3685,353,42,"this"],[1,3690,353,47,"_state"],[1,3697,19,30],[1,3699,354,9,"this"],[1,3704,354,14,"haveLength"],[1,3715,354,25,"cb"],[1,3717,355,2],[1,3718,363,2,"getPayloadLength16"],[1,3737,363,21,"cb"],[1,3740,364,8,"this"],[1,3745,364,13,"_bufferedBytes"],[1,3760,364,30],[1,3762,365,6,"this"],[1,3767,365,11,"_loop"],[1,3774,365,19],[1,3777,369,4,"this"],[1,3782,369,9,"_payloadLength"],[1,3797,369,26,"this"],[1,3802,369,31,"consume"],[1,3810,369,39],[1,3813,369,42,"readUInt16BE"],[1,3826,369,55],[1,3829,370,4,"this"],[1,3834,370,9,"haveLength"],[1,3845,370,20,"cb"],[1,3848,371,2],[1,3849,379,2,"getPayloadLength64"],[1,3868,379,21,"cb"],[1,3871,380,4],[1,3874,380,8,"this"],[1,3879,380,13,"_bufferedBytes"],[1,3894,380,30],[1,3896,382,6],[1,3908,381,6,"this"],[1,3913,381,11,"_loop"],[1,3920,381,19],[1,3923,385,4],[1,3929,385,10,"buf"],[1,3931,385,16,"this"],[1,3936,385,21,"consume"],[1,3944,385,29],[1,3947,386,10,"num"],[1,3949,386,16,"buf"],[1,3951,386,20,"readUInt32BE"],[1,3964,386,33],[1,3967,392,4],[1,3970,392,8,"num"],[1,3972,392,14,"Math"],[1,3977,392,19,"pow"],[1,3981,392,23],[1,3983,392,24],[1,3987,392,37],[1,3989,392,40],[1,3990,402,6],[1,4002,401,6,"cb"],[1,4004,393,20,"this"],[1,4009,393,25,"createError"],[1,4021,394,8,"RangeError"],[1,4032,395,8],[1,4090,396,8],[1,4092,397,8],[1,4097,398,8],[1,4139,403,4],[1,4140,405,4,"this"],[1,4145,405,9,"_payloadLength"],[1,4160,405,26,"num"],[1,4162,405,32,"Math"],[1,4167,405,37,"pow"],[1,4171,405,41],[1,4173,405,44],[1,4177,405,50,"buf"],[1,4179,405,54,"readUInt32BE"],[1,4192,405,67],[1,4195,406,4,"this"],[1,4200,406,9,"haveLength"],[1,4211,406,20,"cb"],[1,4213,407,2],[1,4214,415,2,"haveLength"],[1,4225,415,13,"cb"],[1,4228,416,4],[1,4231,416,8,"this"],[1,4236,416,13,"_payloadLength"],[1,4252,416,31,"this"],[1,4257,416,36,"_opcode"],[1,4265,416,46],[1,4269,417,6,"this"],[1,4274,417,11,"_totalPayloadLength"],[1,4295,417,34,"this"],[1,4300,417,39,"_payloadLength"],[1,4315,418,10,"this"],[1,4320,418,15,"_totalPayloadLength"],[1,4340,418,37,"this"],[1,4345,418,42,"_maxPayload"],[1,4358,418,57,"this"],[1,4363,418,62,"_maxPayload"],[1,4375,418,76],[1,4378,418,79],[1,4379,428,8],[1,4391,427,8,"cb"],[1,4393,419,22,"this"],[1,4398,419,27,"createError"],[1,4410,420,10,"RangeError"],[1,4421,421,10],[1,4450,422,10],[1,4452,423,10],[1,4457,424,10],[1,4494,429,6],[1,4495,432,8,"this"],[1,4500,432,13,"_masked"],[1,4508,432,22,"this"],[1,4513,432,27,"_state"],[1,4520,20,17],[1,4522,433,9,"this"],[1,4527,433,14,"_state"],[1,4534,21,17],[1,4535,434,2],[1,4536,441,2,"getMask"],[1,4546,442,8,"this"],[1,4551,442,13,"_bufferedBytes"],[1,4566,442,30],[1,4568,443,6,"this"],[1,4573,443,11,"_loop"],[1,4580,443,19],[1,4583,447,4,"this"],[1,4588,447,9,"_mask"],[1,4594,447,17,"this"],[1,4599,447,22,"consume"],[1,4607,447,30],[1,4610,448,4,"this"],[1,4615,448,9,"_state"],[1,4622,21,17],[1,4624,449,2],[1,4625,457,2,"getData"],[1,4633,457,10,"cb"],[1,4636,458,4],[1,4640,458,8,"data"],[1,4642,458,15,"EMPTY_BUFFER"],[1,4644,460,4],[1,4647,460,8,"this"],[1,4652,460,13,"_payloadLength"],[1,4667,460,29],[1,4668,461,6],[1,4671,461,10,"this"],[1,4676,461,15,"_bufferedBytes"],[1,4691,461,32,"this"],[1,4696,461,37,"_payloadLength"],[1,4711,463,8],[1,4723,462,8,"this"],[1,4728,462,13,"_loop"],[1,4735,462,21],[1,4738,466,6,"data"],[1,4740,466,13,"this"],[1,4745,466,18,"consume"],[1,4753,466,26,"this"],[1,4758,466,31,"_payloadLength"],[1,4774,469,8,"this"],[1,4779,469,13,"_masked"],[1,4788,470,76],[1,4793,470,9,"this"],[1,4798,470,14,"_mask"],[1,4804,470,20],[1,4807,470,25,"this"],[1,4812,470,30,"_mask"],[1,4818,470,36],[1,4821,470,41,"this"],[1,4826,470,46,"_mask"],[1,4832,470,52],[1,4835,470,57,"this"],[1,4840,470,62,"_mask"],[1,4846,470,68],[1,4851,472,8,"unmask"],[1,4853,472,15,"data"],[1,4855,472,21,"this"],[1,4860,472,26,"_mask"],[1,4866,474,4],[1,4867,476,4],[1,4870,476,8,"this"],[1,4875,476,13,"_opcode"],[1,4883,476,23],[1,4885,477,6,"this"],[1,4890,477,11,"controlMessage"],[1,4905,477,26,"data"],[1,4907,477,32,"cb"],[1,4914,476,4],[1,4915,481,4],[1,4918,481,8,"this"],[1,4923,481,13,"_compressed"],[1,4935,484,6],[1,4942,482,6,"this"],[1,4947,482,11,"_state"],[1,4954,22,18],[1,4961,483,6,"this"],[1,4966,483,11,"decompress"],[1,4977,483,22,"data"],[1,4979,483,28,"cb"],[1,4982,487,8,"data"],[1,4984,487,13,"length"],[1,4993,492,6,"this"],[1,4998,492,11,"_messageLength"],[1,5013,492,28,"this"],[1,5018,492,33,"_totalPayloadLength"],[1,5038,493,6,"this"],[1,5043,493,11,"_fragments"],[1,5054,493,22,"push"],[1,5059,493,27,"data"],[1,5063,496,4,"this"],[1,5068,496,9,"dataMessage"],[1,5080,496,21,"cb"],[1,5082,479,4],[1,5083,497,2],[1,5084,506,2,"decompress"],[1,5095,506,13,"data"],[1,5097,506,19,"cb"],[1,5100,507,30,"this"],[1,5105,507,35,"_extensions"],[1,5117,507,47,"PerMessageDeflate"],[1,5119,507,65,"extensionName"],[1,5134,509,22,"decompress"],[1,5145,509,33,"data"],[1,5147,509,39,"this"],[1,5152,509,44,"_fin"],[1,5157,509,50],[1,5158,509,51,"err"],[1,5160,509,56,"buf"],[1,5165,510,6],[1,5168,510,10,"err"],[1,5170,510,15],[1,5177,510,22,"cb"],[1,5179,510,25,"err"],[1,5182,512,6],[1,5185,512,10,"buf"],[1,5187,512,14,"length"],[1,5194,512,22],[1,5195,514,8],[1,5198,513,8,"this"],[1,5203,513,13,"_messageLength"],[1,5219,513,31,"buf"],[1,5221,513,35,"length"],[1,5228,514,12,"this"],[1,5233,514,17,"_messageLength"],[1,5248,514,34,"this"],[1,5253,514,39,"_maxPayload"],[1,5266,514,54,"this"],[1,5271,514,59,"_maxPayload"],[1,5283,514,73],[1,5285,514,76],[1,5286,515,10],[1,5292,515,16,"error"],[1,5294,515,24,"this"],[1,5299,515,29,"createError"],[1,5311,516,12,"RangeError"],[1,5322,517,12],[1,5351,518,12],[1,5353,519,12],[1,5358,520,12],[1,5395,524,10],[1,5407,523,10,"cb"],[1,5409,523,13,"error"],[1,5411,525,8],[1,5412,527,8,"this"],[1,5417,527,13,"_fragments"],[1,5428,527,24,"push"],[1,5433,527,29,"buf"],[1,5435,528,6],[1,5436,530,6,"this"],[1,5441,530,11,"dataMessage"],[1,5453,530,23,"cb"],[1,5456,17,17],[1,5460,531,10,"this"],[1,5465,531,15,"_state"],[1,5473,531,36,"this"],[1,5478,531,41,"startLoop"],[1,5488,531,51,"cb"],[1,5492,533,2],[1,5493,541,2,"dataMessage"],[1,5505,541,14,"cb"],[1,5508,542,4],[1,5512,542,9,"this"],[1,5517,542,14,"_fin"],[1,5522,544,6],[1,5534,543,6,"this"],[1,5539,543,11,"_state"],[1,5546,17,17],[1,5549,547,4],[1,5555,547,10,"messageLength"],[1,5557,547,26,"this"],[1,5562,547,31,"_messageLength"],[1,5577,548,10,"fragments"],[1,5579,548,22,"this"],[1,5584,548,27,"_fragments"],[1,5595,555,4],[1,5598,550,4,"this"],[1,5603,550,9,"_totalPayloadLength"],[1,5623,550,31],[1,5625,551,4,"this"],[1,5630,551,9,"_messageLength"],[1,5645,551,26],[1,5647,552,4,"this"],[1,5652,552,9,"_fragmented"],[1,5664,552,23],[1,5666,553,4,"this"],[1,5671,553,9,"_fragments"],[1,5682,553,22],[1,5685,555,25],[1,5689,555,8,"this"],[1,5694,555,13,"_opcode"],[1,5702,555,28],[1,5703,556,6],[1,5707,556,10,"data"],[1,5709,559,8,"data"],[1,5711,558,31],[1,5726,558,10,"this"],[1,5731,558,15,"_binaryType"],[1,5743,559,15,"concat"],[1,5745,559,22,"fragments"],[1,5747,559,33,"messageLength"],[1,5750,560,38],[1,5766,560,17,"this"],[1,5771,560,22,"_binaryType"],[1,5783,561,15,"toArrayBuffer"],[1,5785,561,29,"concat"],[1,5787,561,36,"fragments"],[1,5789,561,47,"messageLength"],[1,5793,562,38],[1,5802,562,17,"this"],[1,5807,562,22,"_binaryType"],[1,5819,563,15],[1,5823,563,19,"Blob"],[1,5828,563,24,"fragments"],[1,5831,565,15,"fragments"],[1,5833,568,10,"this"],[1,5838,568,15,"_allowSynchronousEvents"],[1,5863,569,8,"this"],[1,5868,569,13,"emit"],[1,5873,569,18],[1,5883,569,29,"data"],[1,5886,569,35],[1,5889,570,8,"this"],[1,5894,570,13,"_state"],[1,5901,17,17],[1,5905,572,8,"this"],[1,5910,572,13,"_state"],[1,5917,23,20],[1,5919,573,8,"setImmediate"],[1,5932,573,21],[1,5937,574,10,"this"],[1,5942,574,15,"emit"],[1,5947,574,20],[1,5957,574,31,"data"],[1,5960,574,37],[1,5963,575,10,"this"],[1,5968,575,15,"_state"],[1,5975,17,17],[1,5977,576,10,"this"],[1,5982,576,15,"startLoop"],[1,5992,576,25,"cb"],[1,5997,579,4],[1,6002,579,11],[1,6003,580,6],[1,6009,580,12,"buf"],[1,6011,580,18,"concat"],[1,6013,580,25,"fragments"],[1,6015,580,36,"messageLength"],[1,6018,582,6],[1,6022,582,11,"this"],[1,6027,582,16,"_skipUTF8Validation"],[1,6049,582,40,"isValidUTF8"],[1,6051,582,52,"buf"],[1,6054,582,58],[1,6055,583,8],[1,6061,583,14,"error"],[1,6063,583,22,"this"],[1,6068,583,27,"createError"],[1,6080,584,10,"Error"],[1,6086,585,10],[1,6112,586,10],[1,6114,587,10],[1,6119,588,10],[1,6142,592,8],[1,6154,591,8,"cb"],[1,6156,591,11,"error"],[1,6158,593,6],[1,6159,22,18],[1,6163,595,10,"this"],[1,6168,595,15,"_state"],[1,6176,595,39,"this"],[1,6181,595,44,"_allowSynchronousEvents"],[1,6206,596,8,"this"],[1,6211,596,13,"emit"],[1,6216,596,18],[1,6226,596,29,"buf"],[1,6229,596,34],[1,6232,597,8,"this"],[1,6237,597,13,"_state"],[1,6244,17,17],[1,6248,599,8,"this"],[1,6253,599,13,"_state"],[1,6260,23,20],[1,6262,600,8,"setImmediate"],[1,6275,600,21],[1,6280,601,10,"this"],[1,6285,601,15,"emit"],[1,6290,601,20],[1,6300,601,31,"buf"],[1,6303,601,36],[1,6306,602,10,"this"],[1,6311,602,15,"_state"],[1,6318,17,17],[1,6320,603,10,"this"],[1,6325,603,15,"startLoop"],[1,6335,603,25,"cb"],[1,6340,606,4],[1,6341,607,2],[1,6342,616,2,"controlMessage"],[1,6357,616,17,"data"],[1,6359,616,23,"cb"],[1,6362,617,4],[1,6365,617,25],[1,6369,617,8,"this"],[1,6374,617,13,"_opcode"],[1,6382,666,8,"this"],[1,6387,666,13,"_allowSynchronousEvents"],[1,6412,667,6,"this"],[1,6417,667,11,"emit"],[1,6422,667,33],[1,6426,667,16,"this"],[1,6431,667,21,"_opcode"],[1,6439,667,40],[1,6446,667,49],[1,6453,667,57,"data"],[1,6456,668,6,"this"],[1,6461,668,11,"_state"],[1,6468,17,17],[1,6472,670,6,"this"],[1,6477,670,11,"_state"],[1,6484,23,20],[1,6486,671,6,"setImmediate"],[1,6499,671,19],[1,6504,672,8,"this"],[1,6509,672,13,"emit"],[1,6514,672,35],[1,6518,672,18,"this"],[1,6523,672,23,"_opcode"],[1,6531,672,42],[1,6538,672,51],[1,6545,672,59,"data"],[1,6548,673,8,"this"],[1,6553,673,13,"_state"],[1,6560,17,17],[1,6562,674,8,"this"],[1,6567,674,13,"startLoop"],[1,6577,674,23,"cb"],[1,6587,617,4],[1,6588,618,6],[1,6591,618,26],[1,6595,618,10,"data"],[1,6597,618,15,"length"],[1,6604,619,8,"this"],[1,6609,619,13,"_loop"],[1,6616,619,21],[1,6618,620,8,"this"],[1,6623,620,13,"emit"],[1,6628,620,18],[1,6639,620,30],[1,6644,620,36,"EMPTY_BUFFER"],[1,6647,621,8,"this"],[1,6652,621,13,"end"],[1,6662,622,13],[1,6663,623,8],[1,6669,623,14,"code"],[1,6671,623,21,"data"],[1,6673,623,26,"readUInt16BE"],[1,6686,623,39],[1,6689,625,8],[1,6693,625,13,"isValidStatusCode"],[1,6695,625,31,"code"],[1,6698,625,38],[1,6699,626,10],[1,6705,626,16,"error"],[1,6707,626,24,"this"],[1,6712,626,29,"createError"],[1,6724,627,12,"RangeError"],[1,6735,628,12],[1,6758,628,35,"code"],[1,6763,629,12],[1,6765,630,12],[1,6770,631,12],[1,6799,635,10],[1,6811,634,10,"cb"],[1,6813,634,13,"error"],[1,6815,636,8],[1,6816,638,8],[1,6822,638,14,"buf"],[1,6824,638,20],[1,6828,638,24,"FastBuffer"],[1,6830,639,10,"data"],[1,6832,639,15,"buffer"],[1,6839,640,10,"data"],[1,6841,640,15,"byteOffset"],[1,6852,640,28],[1,6854,641,10,"data"],[1,6856,641,15,"length"],[1,6863,641,24],[1,6866,644,8],[1,6870,644,13,"this"],[1,6875,644,18,"_skipUTF8Validation"],[1,6897,644,42,"isValidUTF8"],[1,6899,644,54,"buf"],[1,6902,644,60],[1,6903,645,10],[1,6909,645,16,"error"],[1,6911,645,24,"this"],[1,6916,645,29,"createError"],[1,6928,646,12,"Error"],[1,6934,647,12],[1,6960,648,12],[1,6962,649,12],[1,6967,650,12],[1,6990,654,10],[1,7002,653,10,"cb"],[1,7004,653,13,"error"],[1,7006,655,8],[1,7007,657,8,"this"],[1,7012,657,13,"_loop"],[1,7019,657,21],[1,7021,658,8,"this"],[1,7026,658,13,"emit"],[1,7031,658,18],[1,7042,658,30,"code"],[1,7044,658,36,"buf"],[1,7047,659,8,"this"],[1,7052,659,13,"end"],[1,7057,660,6],[1,7058,662,6,"this"],[1,7063,662,11,"_state"],[1,7070,17,17],[1,7071,664,4],[1,7072,677,2],[1,7073,691,2,"createError"],[1,7085,691,14,"ErrorCtor"],[1,7087,691,25,"message"],[1,7089,691,34,"prefix"],[1,7091,691,42,"statusCode"],[1,7093,691,54,"errorCode"],[1,7096,692,4,"this"],[1,7101,692,9,"_loop"],[1,7108,692,17],[1,7110,693,4,"this"],[1,7115,693,9,"_errored"],[1,7125,693,20],[1,7127,695,4],[1,7133,695,10,"err"],[1,7135,695,16],[1,7139,695,20,"ErrorCtor"],[1,7141,696,6,"prefix"],[1,7143,696,15],[1,7171,696,43,"message"],[1,7175,696,55,"message"],[1,7178,702,4],[1,7185,699,4,"Error"],[1,7191,699,10,"captureStackTrace"],[1,7209,699,28,"err"],[1,7211,699,33,"this"],[1,7216,699,38,"createError"],[1,7229,700,4,"err"],[1,7231,700,8,"code"],[1,7236,700,15,"errorCode"],[1,7238,701,4,"err"],[1,7240,701,8,"kStatusCode"],[1,7243,701,23,"statusCode"],[1,7245,702,11,"err"],[1,7246,703,2],[1,7248,706,26],[1,7251]],"functionMap":{"names":["<global>","Receiver","Receiver#constructor","Receiver#_write","Receiver#consume","Receiver#startLoop","Receiver#getInfo","Receiver#getPayloadLength16","Receiver#getPayloadLength64","Receiver#haveLength","Receiver#getMask","Receiver#getData","Receiver#decompress","perMessageDeflate.decompress$argument_2","Receiver#dataMessage","setImmediate$argument_0","Receiver#controlMessage","Receiver#createError"],"mappings":"AAA;AC6B;ECiB;GDgC;EEU;GFM;EGS;GHqC;EIQ;GJ4B;EKQ;GL0K;EMQ;GNQ;EOQ;GP4B;EQQ;GRmB;ESO;GTQ;EUQ;GVwC;EWS;kDCG;KDuB;GXC;EaQ;qBCgC;SDI;qBCuB;SDI;GbG;EeS;mBDuD;OCI;GfE;EgBc;GhBY;CDC"},"hasCjsExports":true},"type":"js/module"}]}