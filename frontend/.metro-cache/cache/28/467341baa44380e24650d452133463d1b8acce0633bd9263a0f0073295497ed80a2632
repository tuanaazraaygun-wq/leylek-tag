{"dependencies":[{"name":"ts-interface-checker","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":26,"index":147},"end":{"line":7,"column":57,"index":178}}],"key":"WhQJtygyJv0EthyrkFHm+3q7knI=","exportNames":["*"],"imports":1}},{"name":"../impl/IAgoraH265TranscoderImpl","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":32,"index":212},"end":{"line":8,"column":75,"index":255}}],"key":"+khepwy/pa2V2M7KkFfKnFWUbOY=","exportNames":["*"],"imports":1}},{"name":"../ti/IAgoraH265Transcoder-ti","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":53,"index":310},"end":{"line":9,"column":93,"index":350}}],"key":"cUmsbVVopveWigZKF926KDNy7jk=","exportNames":["*"],"imports":1}},{"name":"./IrisApiEngine","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":21,"index":374},"end":{"line":10,"column":47,"index":400}}],"key":"H/eQ0WmsmmlRp60ju6NQ0EEgBFs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.H265TranscoderInternal = void 0;\n  var _tsInterfaceChecker = require(_dependencyMap[0], \"ts-interface-checker\");\n  var _IAgoraH265TranscoderImpl = require(_dependencyMap[1], \"../impl/IAgoraH265TranscoderImpl\");\n  var _IAgoraH265TranscoderTi = _interopRequireDefault(require(_dependencyMap[2], \"../ti/IAgoraH265Transcoder-ti\"));\n  var _IrisApiEngine = require(_dependencyMap[3], \"./IrisApiEngine\");\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n  const checkers = (0, _tsInterfaceChecker.createCheckers)(_IAgoraH265TranscoderTi.default);\n  class H265TranscoderInternal extends _IAgoraH265TranscoderImpl.IH265TranscoderImpl {\n    static _h265_transcoder_observers = [];\n    release() {\n      H265TranscoderInternal._h265_transcoder_observers = [];\n      this.removeAllListeners();\n    }\n    _addListenerPreCheck(eventType) {\n      var _checkers$IH265Transc;\n      if ((_checkers$IH265Transc = checkers.IH265TranscoderObserver) !== null && _checkers$IH265Transc !== void 0 && _checkers$IH265Transc.strictTest({\n        [eventType]: undefined\n      })) {\n        if (H265TranscoderInternal._h265_transcoder_observers.length === 0) {\n          this.registerTranscoderObserver({});\n        }\n      }\n      return true;\n    }\n    addListener(eventType, listener) {\n      this._addListenerPreCheck(eventType);\n      const callback = (eventProcessor, data) => {\n        if (eventProcessor.type(data) !== _IrisApiEngine.EVENT_TYPE.IAgoraH265Transcoder) {\n          return;\n        }\n        eventProcessor.func.map(it => {\n          it({\n            [eventType]: listener\n          }, eventType, data);\n        });\n      };\n      // @ts-ignore\n      listener.agoraCallback = callback;\n      _IrisApiEngine.DeviceEventEmitter.addListener(eventType, callback);\n    }\n    removeListener(eventType, listener) {\n      _IrisApiEngine.DeviceEventEmitter.removeListener(eventType,\n      // @ts-ignore\n      (listener === null || listener === void 0 ? void 0 : listener.agoraCallback) ?? listener);\n    }\n    removeAllListeners(eventType) {\n      _IrisApiEngine.DeviceEventEmitter.removeAllListeners(eventType);\n    }\n    registerTranscoderObserver(observer) {\n      if (!H265TranscoderInternal._h265_transcoder_observers.find(value => value === observer)) {\n        H265TranscoderInternal._h265_transcoder_observers.push(observer);\n      }\n      return super.registerTranscoderObserver(observer);\n    }\n    unregisterTranscoderObserver(observer) {\n      H265TranscoderInternal._h265_transcoder_observers = H265TranscoderInternal._h265_transcoder_observers.filter(value => value !== observer);\n      return super.unregisterTranscoderObserver(observer);\n    }\n  }\n  exports.H265TranscoderInternal = H265TranscoderInternal;\n});","lineCount":71,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"H265TranscoderInternal"],[7,32,6,30],[7,35,6,33],[7,40,6,38],[7,41,6,39],[8,2,7,0],[8,6,7,4,"_tsInterfaceChecker"],[8,25,7,23],[8,28,7,26,"require"],[8,35,7,33],[8,36,7,33,"_dependencyMap"],[8,50,7,33],[8,77,7,56],[8,78,7,57],[9,2,8,0],[9,6,8,4,"_IAgoraH265TranscoderImpl"],[9,31,8,29],[9,34,8,32,"require"],[9,41,8,39],[9,42,8,39,"_dependencyMap"],[9,56,8,39],[9,95,8,74],[9,96,8,75],[10,2,9,0],[10,6,9,4,"_IAgoraH265TranscoderTi"],[10,29,9,27],[10,32,9,30,"_interopRequireDefault"],[10,54,9,52],[10,55,9,53,"require"],[10,62,9,60],[10,63,9,60,"_dependencyMap"],[10,77,9,60],[10,113,9,92],[10,114,9,93],[10,115,9,94],[11,2,10,0],[11,6,10,4,"_IrisApiEngine"],[11,20,10,18],[11,23,10,21,"require"],[11,30,10,28],[11,31,10,28,"_dependencyMap"],[11,45,10,28],[11,67,10,46],[11,68,10,47],[12,2,11,0],[12,11,11,9,"_interopRequireDefault"],[12,33,11,31,"_interopRequireDefault"],[12,34,11,32,"obj"],[12,37,11,35],[12,39,11,37],[13,4,11,39],[13,11,11,46,"obj"],[13,14,11,49],[13,18,11,53,"obj"],[13,21,11,56],[13,22,11,57,"__esModule"],[13,32,11,67],[13,35,11,70,"obj"],[13,38,11,73],[13,41,11,76],[14,6,11,78,"default"],[14,13,11,85],[14,15,11,87,"obj"],[15,4,11,91],[15,5,11,92],[16,2,11,94],[17,2,12,0],[17,8,12,6,"checkers"],[17,16,12,14],[17,19,12,17],[17,20,12,18],[17,21,12,19],[17,23,12,21,"_tsInterfaceChecker"],[17,42,12,40],[17,43,12,41,"createCheckers"],[17,57,12,55],[17,59,12,57,"_IAgoraH265TranscoderTi"],[17,82,12,80],[17,83,12,81,"default"],[17,90,12,88],[17,91,12,89],[18,2,13,0],[18,8,13,6,"H265TranscoderInternal"],[18,30,13,28],[18,39,13,37,"_IAgoraH265TranscoderImpl"],[18,64,13,62],[18,65,13,63,"IH265TranscoderImpl"],[18,84,13,82],[18,85,13,83],[19,4,14,2],[19,11,14,9,"_h265_transcoder_observers"],[19,37,14,35],[19,40,14,38],[19,42,14,40],[20,4,15,2,"release"],[20,11,15,9,"release"],[20,12,15,9],[20,14,15,12],[21,6,16,4,"H265TranscoderInternal"],[21,28,16,26],[21,29,16,27,"_h265_transcoder_observers"],[21,55,16,53],[21,58,16,56],[21,60,16,58],[22,6,17,4],[22,10,17,8],[22,11,17,9,"removeAllListeners"],[22,29,17,27],[22,30,17,28],[22,31,17,29],[23,4,18,2],[24,4,19,2,"_addListenerPreCheck"],[24,24,19,22,"_addListenerPreCheck"],[24,25,19,23,"eventType"],[24,34,19,32],[24,36,19,34],[25,6,20,4],[25,10,20,8,"_checkers$IH265Transc"],[25,31,20,29],[26,6,21,4],[26,10,21,8],[26,11,21,9,"_checkers$IH265Transc"],[26,32,21,30],[26,35,21,33,"checkers"],[26,43,21,41],[26,44,21,42,"IH265TranscoderObserver"],[26,67,21,65],[26,73,21,71],[26,77,21,75],[26,81,21,79,"_checkers$IH265Transc"],[26,102,21,100],[26,107,21,105],[26,112,21,110],[26,113,21,111],[26,117,21,115,"_checkers$IH265Transc"],[26,138,21,136],[26,139,21,137,"strictTest"],[26,149,21,147],[26,150,21,148],[27,8,22,6],[27,9,22,7,"eventType"],[27,18,22,16],[27,21,22,19,"undefined"],[28,6,23,4],[28,7,23,5],[28,8,23,6],[28,10,23,8],[29,8,24,6],[29,12,24,10,"H265TranscoderInternal"],[29,34,24,32],[29,35,24,33,"_h265_transcoder_observers"],[29,61,24,59],[29,62,24,60,"length"],[29,68,24,66],[29,73,24,71],[29,74,24,72],[29,76,24,74],[30,10,25,8],[30,14,25,12],[30,15,25,13,"registerTranscoderObserver"],[30,41,25,39],[30,42,25,40],[30,43,25,41],[30,44,25,42],[30,45,25,43],[31,8,26,6],[32,6,27,4],[33,6,28,4],[33,13,28,11],[33,17,28,15],[34,4,29,2],[35,4,30,2,"addListener"],[35,15,30,13,"addListener"],[35,16,30,14,"eventType"],[35,25,30,23],[35,27,30,25,"listener"],[35,35,30,33],[35,37,30,35],[36,6,31,4],[36,10,31,8],[36,11,31,9,"_addListenerPreCheck"],[36,31,31,29],[36,32,31,30,"eventType"],[36,41,31,39],[36,42,31,40],[37,6,32,4],[37,12,32,10,"callback"],[37,20,32,18],[37,23,32,21,"callback"],[37,24,32,22,"eventProcessor"],[37,38,32,36],[37,40,32,38,"data"],[37,44,32,42],[37,49,32,47],[38,8,33,6],[38,12,33,10,"eventProcessor"],[38,26,33,24],[38,27,33,25,"type"],[38,31,33,29],[38,32,33,30,"data"],[38,36,33,34],[38,37,33,35],[38,42,33,40,"_IrisApiEngine"],[38,56,33,54],[38,57,33,55,"EVENT_TYPE"],[38,67,33,65],[38,68,33,66,"IAgoraH265Transcoder"],[38,88,33,86],[38,90,33,88],[39,10,34,8],[40,8,35,6],[41,8,36,6,"eventProcessor"],[41,22,36,20],[41,23,36,21,"func"],[41,27,36,25],[41,28,36,26,"map"],[41,31,36,29],[41,32,36,30,"it"],[41,34,36,32],[41,38,36,36],[42,10,37,8,"it"],[42,12,37,10],[42,13,37,11],[43,12,38,10],[43,13,38,11,"eventType"],[43,22,38,20],[43,25,38,23,"listener"],[44,10,39,8],[44,11,39,9],[44,13,39,11,"eventType"],[44,22,39,20],[44,24,39,22,"data"],[44,28,39,26],[44,29,39,27],[45,8,40,6],[45,9,40,7],[45,10,40,8],[46,6,41,4],[46,7,41,5],[47,6,42,4],[48,6,43,4,"listener"],[48,14,43,12],[48,15,43,13,"agoraCallback"],[48,28,43,26],[48,31,43,29,"callback"],[48,39,43,37],[49,6,44,4,"_IrisApiEngine"],[49,20,44,18],[49,21,44,19,"DeviceEventEmitter"],[49,39,44,37],[49,40,44,38,"addListener"],[49,51,44,49],[49,52,44,50,"eventType"],[49,61,44,59],[49,63,44,61,"callback"],[49,71,44,69],[49,72,44,70],[50,4,45,2],[51,4,46,2,"removeListener"],[51,18,46,16,"removeListener"],[51,19,46,17,"eventType"],[51,28,46,26],[51,30,46,28,"listener"],[51,38,46,36],[51,40,46,38],[52,6,47,4,"_IrisApiEngine"],[52,20,47,18],[52,21,47,19,"DeviceEventEmitter"],[52,39,47,37],[52,40,47,38,"removeListener"],[52,54,47,52],[52,55,47,53,"eventType"],[52,64,47,62],[53,6,48,4],[54,6,49,4],[54,7,49,5,"listener"],[54,15,49,13],[54,20,49,18],[54,24,49,22],[54,28,49,26,"listener"],[54,36,49,34],[54,41,49,39],[54,46,49,44],[54,47,49,45],[54,50,49,48],[54,55,49,53],[54,56,49,54],[54,59,49,57,"listener"],[54,67,49,65],[54,68,49,66,"agoraCallback"],[54,81,49,79],[54,86,49,84,"listener"],[54,94,49,92],[54,95,49,93],[55,4,50,2],[56,4,51,2,"removeAllListeners"],[56,22,51,20,"removeAllListeners"],[56,23,51,21,"eventType"],[56,32,51,30],[56,34,51,32],[57,6,52,4,"_IrisApiEngine"],[57,20,52,18],[57,21,52,19,"DeviceEventEmitter"],[57,39,52,37],[57,40,52,38,"removeAllListeners"],[57,58,52,56],[57,59,52,57,"eventType"],[57,68,52,66],[57,69,52,67],[58,4,53,2],[59,4,54,2,"registerTranscoderObserver"],[59,30,54,28,"registerTranscoderObserver"],[59,31,54,29,"observer"],[59,39,54,37],[59,41,54,39],[60,6,55,4],[60,10,55,8],[60,11,55,9,"H265TranscoderInternal"],[60,33,55,31],[60,34,55,32,"_h265_transcoder_observers"],[60,60,55,58],[60,61,55,59,"find"],[60,65,55,63],[60,66,55,64,"value"],[60,71,55,69],[60,75,55,73,"value"],[60,80,55,78],[60,85,55,83,"observer"],[60,93,55,91],[60,94,55,92],[60,96,55,94],[61,8,56,6,"H265TranscoderInternal"],[61,30,56,28],[61,31,56,29,"_h265_transcoder_observers"],[61,57,56,55],[61,58,56,56,"push"],[61,62,56,60],[61,63,56,61,"observer"],[61,71,56,69],[61,72,56,70],[62,6,57,4],[63,6,58,4],[63,13,58,11],[63,18,58,16],[63,19,58,17,"registerTranscoderObserver"],[63,45,58,43],[63,46,58,44,"observer"],[63,54,58,52],[63,55,58,53],[64,4,59,2],[65,4,60,2,"unregisterTranscoderObserver"],[65,32,60,30,"unregisterTranscoderObserver"],[65,33,60,31,"observer"],[65,41,60,39],[65,43,60,41],[66,6,61,4,"H265TranscoderInternal"],[66,28,61,26],[66,29,61,27,"_h265_transcoder_observers"],[66,55,61,53],[66,58,61,56,"H265TranscoderInternal"],[66,80,61,78],[66,81,61,79,"_h265_transcoder_observers"],[66,107,61,105],[66,108,61,106,"filter"],[66,114,61,112],[66,115,61,113,"value"],[66,120,61,118],[66,124,61,122,"value"],[66,129,61,127],[66,134,61,132,"observer"],[66,142,61,140],[66,143,61,141],[67,6,62,4],[67,13,62,11],[67,18,62,16],[67,19,62,17,"unregisterTranscoderObserver"],[67,47,62,45],[67,48,62,46,"observer"],[67,56,62,54],[67,57,62,55],[68,4,63,2],[69,2,64,0],[70,2,65,0,"exports"],[70,9,65,7],[70,10,65,8,"H265TranscoderInternal"],[70,32,65,30],[70,35,65,33,"H265TranscoderInternal"],[70,57,65,55],[71,0,65,56],[71,3]],"functionMap":{"names":["<global>","_interopRequireDefault","H265TranscoderInternal","H265TranscoderInternal#release","H265TranscoderInternal#_addListenerPreCheck","H265TranscoderInternal#addListener","callback","eventProcessor.func.map$argument_0","H265TranscoderInternal#removeListener","H265TranscoderInternal#removeAllListeners","H265TranscoderInternal#registerTranscoderObserver","H265TranscoderInternal._h265_transcoder_observers.find$argument_0","H265TranscoderInternal#unregisterTranscoderObserver","H265TranscoderInternal._h265_transcoder_observers.filter$argument_0"],"mappings":"AAA;ACU,+FD;AEE;ECE;GDG;EEC;GFU;EGC;qBCE;8BCI;ODI;KDC;GHI;EMC;GNI;EOC;GPE;EQC;gECC,2BD;GRI;EUC;iHCC,2BD;GVE;CFC"},"hasCjsExports":true},"type":"js/module"}]}